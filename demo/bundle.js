/******/ (function(modules) { // webpackBootstrap
/******/ 	function hotDisposeChunk(chunkId) {
/******/ 		delete installedChunks[chunkId];
/******/ 	}
/******/ 	var parentHotUpdateCallback = window["webpackHotUpdate"];
/******/ 	window["webpackHotUpdate"] = // eslint-disable-next-line no-unused-vars
/******/ 	function webpackHotUpdateCallback(chunkId, moreModules) {
/******/ 		hotAddUpdateChunk(chunkId, moreModules);
/******/ 		if (parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);
/******/ 	} ;
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotDownloadUpdateChunk(chunkId) {
/******/ 		var script = document.createElement("script");
/******/ 		script.charset = "utf-8";
/******/ 		script.src = __webpack_require__.p + "" + chunkId + "." + hotCurrentHash + ".hot-update.js";
/******/ 		if (null) script.crossOrigin = null;
/******/ 		document.head.appendChild(script);
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotDownloadManifest(requestTimeout) {
/******/ 		requestTimeout = requestTimeout || 10000;
/******/ 		return new Promise(function(resolve, reject) {
/******/ 			if (typeof XMLHttpRequest === "undefined") {
/******/ 				return reject(new Error("No browser support"));
/******/ 			}
/******/ 			try {
/******/ 				var request = new XMLHttpRequest();
/******/ 				var requestPath = __webpack_require__.p + "" + hotCurrentHash + ".hot-update.json";
/******/ 				request.open("GET", requestPath, true);
/******/ 				request.timeout = requestTimeout;
/******/ 				request.send(null);
/******/ 			} catch (err) {
/******/ 				return reject(err);
/******/ 			}
/******/ 			request.onreadystatechange = function() {
/******/ 				if (request.readyState !== 4) return;
/******/ 				if (request.status === 0) {
/******/ 					// timeout
/******/ 					reject(
/******/ 						new Error("Manifest request to " + requestPath + " timed out.")
/******/ 					);
/******/ 				} else if (request.status === 404) {
/******/ 					// no update available
/******/ 					resolve();
/******/ 				} else if (request.status !== 200 && request.status !== 304) {
/******/ 					// other failure
/******/ 					reject(new Error("Manifest request to " + requestPath + " failed."));
/******/ 				} else {
/******/ 					// success
/******/ 					try {
/******/ 						var update = JSON.parse(request.responseText);
/******/ 					} catch (e) {
/******/ 						reject(e);
/******/ 						return;
/******/ 					}
/******/ 					resolve(update);
/******/ 				}
/******/ 			};
/******/ 		});
/******/ 	}
/******/
/******/ 	var hotApplyOnUpdate = true;
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentHash = "ff21b40cf02ca99e1e04";
/******/ 	var hotRequestTimeout = 10000;
/******/ 	var hotCurrentModuleData = {};
/******/ 	var hotCurrentChildModule;
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentParents = [];
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentParentsTemp = [];
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotCreateRequire(moduleId) {
/******/ 		var me = installedModules[moduleId];
/******/ 		if (!me) return __webpack_require__;
/******/ 		var fn = function(request) {
/******/ 			if (me.hot.active) {
/******/ 				if (installedModules[request]) {
/******/ 					if (installedModules[request].parents.indexOf(moduleId) === -1) {
/******/ 						installedModules[request].parents.push(moduleId);
/******/ 					}
/******/ 				} else {
/******/ 					hotCurrentParents = [moduleId];
/******/ 					hotCurrentChildModule = request;
/******/ 				}
/******/ 				if (me.children.indexOf(request) === -1) {
/******/ 					me.children.push(request);
/******/ 				}
/******/ 			} else {
/******/ 				console.warn(
/******/ 					"[HMR] unexpected require(" +
/******/ 						request +
/******/ 						") from disposed module " +
/******/ 						moduleId
/******/ 				);
/******/ 				hotCurrentParents = [];
/******/ 			}
/******/ 			return __webpack_require__(request);
/******/ 		};
/******/ 		var ObjectFactory = function ObjectFactory(name) {
/******/ 			return {
/******/ 				configurable: true,
/******/ 				enumerable: true,
/******/ 				get: function() {
/******/ 					return __webpack_require__[name];
/******/ 				},
/******/ 				set: function(value) {
/******/ 					__webpack_require__[name] = value;
/******/ 				}
/******/ 			};
/******/ 		};
/******/ 		for (var name in __webpack_require__) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(__webpack_require__, name) &&
/******/ 				name !== "e" &&
/******/ 				name !== "t"
/******/ 			) {
/******/ 				Object.defineProperty(fn, name, ObjectFactory(name));
/******/ 			}
/******/ 		}
/******/ 		fn.e = function(chunkId) {
/******/ 			if (hotStatus === "ready") hotSetStatus("prepare");
/******/ 			hotChunksLoading++;
/******/ 			return __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {
/******/ 				finishChunkLoading();
/******/ 				throw err;
/******/ 			});
/******/
/******/ 			function finishChunkLoading() {
/******/ 				hotChunksLoading--;
/******/ 				if (hotStatus === "prepare") {
/******/ 					if (!hotWaitingFilesMap[chunkId]) {
/******/ 						hotEnsureUpdateChunk(chunkId);
/******/ 					}
/******/ 					if (hotChunksLoading === 0 && hotWaitingFiles === 0) {
/******/ 						hotUpdateDownloaded();
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 		fn.t = function(value, mode) {
/******/ 			if (mode & 1) value = fn(value);
/******/ 			return __webpack_require__.t(value, mode & ~1);
/******/ 		};
/******/ 		return fn;
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotCreateModule(moduleId) {
/******/ 		var hot = {
/******/ 			// private stuff
/******/ 			_acceptedDependencies: {},
/******/ 			_declinedDependencies: {},
/******/ 			_selfAccepted: false,
/******/ 			_selfDeclined: false,
/******/ 			_selfInvalidated: false,
/******/ 			_disposeHandlers: [],
/******/ 			_main: hotCurrentChildModule !== moduleId,
/******/
/******/ 			// Module API
/******/ 			active: true,
/******/ 			accept: function(dep, callback) {
/******/ 				if (dep === undefined) hot._selfAccepted = true;
/******/ 				else if (typeof dep === "function") hot._selfAccepted = dep;
/******/ 				else if (typeof dep === "object")
/******/ 					for (var i = 0; i < dep.length; i++)
/******/ 						hot._acceptedDependencies[dep[i]] = callback || function() {};
/******/ 				else hot._acceptedDependencies[dep] = callback || function() {};
/******/ 			},
/******/ 			decline: function(dep) {
/******/ 				if (dep === undefined) hot._selfDeclined = true;
/******/ 				else if (typeof dep === "object")
/******/ 					for (var i = 0; i < dep.length; i++)
/******/ 						hot._declinedDependencies[dep[i]] = true;
/******/ 				else hot._declinedDependencies[dep] = true;
/******/ 			},
/******/ 			dispose: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			addDisposeHandler: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			removeDisposeHandler: function(callback) {
/******/ 				var idx = hot._disposeHandlers.indexOf(callback);
/******/ 				if (idx >= 0) hot._disposeHandlers.splice(idx, 1);
/******/ 			},
/******/ 			invalidate: function() {
/******/ 				this._selfInvalidated = true;
/******/ 				switch (hotStatus) {
/******/ 					case "idle":
/******/ 						hotUpdate = {};
/******/ 						hotUpdate[moduleId] = modules[moduleId];
/******/ 						hotSetStatus("ready");
/******/ 						break;
/******/ 					case "ready":
/******/ 						hotApplyInvalidatedModule(moduleId);
/******/ 						break;
/******/ 					case "prepare":
/******/ 					case "check":
/******/ 					case "dispose":
/******/ 					case "apply":
/******/ 						(hotQueuedInvalidatedModules =
/******/ 							hotQueuedInvalidatedModules || []).push(moduleId);
/******/ 						break;
/******/ 					default:
/******/ 						// ignore requests in error states
/******/ 						break;
/******/ 				}
/******/ 			},
/******/
/******/ 			// Management API
/******/ 			check: hotCheck,
/******/ 			apply: hotApply,
/******/ 			status: function(l) {
/******/ 				if (!l) return hotStatus;
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			addStatusHandler: function(l) {
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			removeStatusHandler: function(l) {
/******/ 				var idx = hotStatusHandlers.indexOf(l);
/******/ 				if (idx >= 0) hotStatusHandlers.splice(idx, 1);
/******/ 			},
/******/
/******/ 			//inherit from previous dispose call
/******/ 			data: hotCurrentModuleData[moduleId]
/******/ 		};
/******/ 		hotCurrentChildModule = undefined;
/******/ 		return hot;
/******/ 	}
/******/
/******/ 	var hotStatusHandlers = [];
/******/ 	var hotStatus = "idle";
/******/
/******/ 	function hotSetStatus(newStatus) {
/******/ 		hotStatus = newStatus;
/******/ 		for (var i = 0; i < hotStatusHandlers.length; i++)
/******/ 			hotStatusHandlers[i].call(null, newStatus);
/******/ 	}
/******/
/******/ 	// while downloading
/******/ 	var hotWaitingFiles = 0;
/******/ 	var hotChunksLoading = 0;
/******/ 	var hotWaitingFilesMap = {};
/******/ 	var hotRequestedFilesMap = {};
/******/ 	var hotAvailableFilesMap = {};
/******/ 	var hotDeferred;
/******/
/******/ 	// The update info
/******/ 	var hotUpdate, hotUpdateNewHash, hotQueuedInvalidatedModules;
/******/
/******/ 	function toModuleId(id) {
/******/ 		var isNumber = +id + "" === id;
/******/ 		return isNumber ? +id : id;
/******/ 	}
/******/
/******/ 	function hotCheck(apply) {
/******/ 		if (hotStatus !== "idle") {
/******/ 			throw new Error("check() is only allowed in idle status");
/******/ 		}
/******/ 		hotApplyOnUpdate = apply;
/******/ 		hotSetStatus("check");
/******/ 		return hotDownloadManifest(hotRequestTimeout).then(function(update) {
/******/ 			if (!update) {
/******/ 				hotSetStatus(hotApplyInvalidatedModules() ? "ready" : "idle");
/******/ 				return null;
/******/ 			}
/******/ 			hotRequestedFilesMap = {};
/******/ 			hotWaitingFilesMap = {};
/******/ 			hotAvailableFilesMap = update.c;
/******/ 			hotUpdateNewHash = update.h;
/******/
/******/ 			hotSetStatus("prepare");
/******/ 			var promise = new Promise(function(resolve, reject) {
/******/ 				hotDeferred = {
/******/ 					resolve: resolve,
/******/ 					reject: reject
/******/ 				};
/******/ 			});
/******/ 			hotUpdate = {};
/******/ 			var chunkId = "main";
/******/ 			// eslint-disable-next-line no-lone-blocks
/******/ 			{
/******/ 				hotEnsureUpdateChunk(chunkId);
/******/ 			}
/******/ 			if (
/******/ 				hotStatus === "prepare" &&
/******/ 				hotChunksLoading === 0 &&
/******/ 				hotWaitingFiles === 0
/******/ 			) {
/******/ 				hotUpdateDownloaded();
/******/ 			}
/******/ 			return promise;
/******/ 		});
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotAddUpdateChunk(chunkId, moreModules) {
/******/ 		if (!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])
/******/ 			return;
/******/ 		hotRequestedFilesMap[chunkId] = false;
/******/ 		for (var moduleId in moreModules) {
/******/ 			if (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				hotUpdate[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if (--hotWaitingFiles === 0 && hotChunksLoading === 0) {
/******/ 			hotUpdateDownloaded();
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotEnsureUpdateChunk(chunkId) {
/******/ 		if (!hotAvailableFilesMap[chunkId]) {
/******/ 			hotWaitingFilesMap[chunkId] = true;
/******/ 		} else {
/******/ 			hotRequestedFilesMap[chunkId] = true;
/******/ 			hotWaitingFiles++;
/******/ 			hotDownloadUpdateChunk(chunkId);
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotUpdateDownloaded() {
/******/ 		hotSetStatus("ready");
/******/ 		var deferred = hotDeferred;
/******/ 		hotDeferred = null;
/******/ 		if (!deferred) return;
/******/ 		if (hotApplyOnUpdate) {
/******/ 			// Wrap deferred object in Promise to mark it as a well-handled Promise to
/******/ 			// avoid triggering uncaught exception warning in Chrome.
/******/ 			// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666
/******/ 			Promise.resolve()
/******/ 				.then(function() {
/******/ 					return hotApply(hotApplyOnUpdate);
/******/ 				})
/******/ 				.then(
/******/ 					function(result) {
/******/ 						deferred.resolve(result);
/******/ 					},
/******/ 					function(err) {
/******/ 						deferred.reject(err);
/******/ 					}
/******/ 				);
/******/ 		} else {
/******/ 			var outdatedModules = [];
/******/ 			for (var id in hotUpdate) {
/******/ 				if (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 					outdatedModules.push(toModuleId(id));
/******/ 				}
/******/ 			}
/******/ 			deferred.resolve(outdatedModules);
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotApply(options) {
/******/ 		if (hotStatus !== "ready")
/******/ 			throw new Error("apply() is only allowed in ready status");
/******/ 		options = options || {};
/******/ 		return hotApplyInternal(options);
/******/ 	}
/******/
/******/ 	function hotApplyInternal(options) {
/******/ 		hotApplyInvalidatedModules();
/******/
/******/ 		var cb;
/******/ 		var i;
/******/ 		var j;
/******/ 		var module;
/******/ 		var moduleId;
/******/
/******/ 		function getAffectedStuff(updateModuleId) {
/******/ 			var outdatedModules = [updateModuleId];
/******/ 			var outdatedDependencies = {};
/******/
/******/ 			var queue = outdatedModules.map(function(id) {
/******/ 				return {
/******/ 					chain: [id],
/******/ 					id: id
/******/ 				};
/******/ 			});
/******/ 			while (queue.length > 0) {
/******/ 				var queueItem = queue.pop();
/******/ 				var moduleId = queueItem.id;
/******/ 				var chain = queueItem.chain;
/******/ 				module = installedModules[moduleId];
/******/ 				if (
/******/ 					!module ||
/******/ 					(module.hot._selfAccepted && !module.hot._selfInvalidated)
/******/ 				)
/******/ 					continue;
/******/ 				if (module.hot._selfDeclined) {
/******/ 					return {
/******/ 						type: "self-declined",
/******/ 						chain: chain,
/******/ 						moduleId: moduleId
/******/ 					};
/******/ 				}
/******/ 				if (module.hot._main) {
/******/ 					return {
/******/ 						type: "unaccepted",
/******/ 						chain: chain,
/******/ 						moduleId: moduleId
/******/ 					};
/******/ 				}
/******/ 				for (var i = 0; i < module.parents.length; i++) {
/******/ 					var parentId = module.parents[i];
/******/ 					var parent = installedModules[parentId];
/******/ 					if (!parent) continue;
/******/ 					if (parent.hot._declinedDependencies[moduleId]) {
/******/ 						return {
/******/ 							type: "declined",
/******/ 							chain: chain.concat([parentId]),
/******/ 							moduleId: moduleId,
/******/ 							parentId: parentId
/******/ 						};
/******/ 					}
/******/ 					if (outdatedModules.indexOf(parentId) !== -1) continue;
/******/ 					if (parent.hot._acceptedDependencies[moduleId]) {
/******/ 						if (!outdatedDependencies[parentId])
/******/ 							outdatedDependencies[parentId] = [];
/******/ 						addAllToSet(outdatedDependencies[parentId], [moduleId]);
/******/ 						continue;
/******/ 					}
/******/ 					delete outdatedDependencies[parentId];
/******/ 					outdatedModules.push(parentId);
/******/ 					queue.push({
/******/ 						chain: chain.concat([parentId]),
/******/ 						id: parentId
/******/ 					});
/******/ 				}
/******/ 			}
/******/
/******/ 			return {
/******/ 				type: "accepted",
/******/ 				moduleId: updateModuleId,
/******/ 				outdatedModules: outdatedModules,
/******/ 				outdatedDependencies: outdatedDependencies
/******/ 			};
/******/ 		}
/******/
/******/ 		function addAllToSet(a, b) {
/******/ 			for (var i = 0; i < b.length; i++) {
/******/ 				var item = b[i];
/******/ 				if (a.indexOf(item) === -1) a.push(item);
/******/ 			}
/******/ 		}
/******/
/******/ 		// at begin all updates modules are outdated
/******/ 		// the "outdated" status can propagate to parents if they don't accept the children
/******/ 		var outdatedDependencies = {};
/******/ 		var outdatedModules = [];
/******/ 		var appliedUpdate = {};
/******/
/******/ 		var warnUnexpectedRequire = function warnUnexpectedRequire() {
/******/ 			console.warn(
/******/ 				"[HMR] unexpected require(" + result.moduleId + ") to disposed module"
/******/ 			);
/******/ 		};
/******/
/******/ 		for (var id in hotUpdate) {
/******/ 			if (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 				moduleId = toModuleId(id);
/******/ 				/** @type {TODO} */
/******/ 				var result;
/******/ 				if (hotUpdate[id]) {
/******/ 					result = getAffectedStuff(moduleId);
/******/ 				} else {
/******/ 					result = {
/******/ 						type: "disposed",
/******/ 						moduleId: id
/******/ 					};
/******/ 				}
/******/ 				/** @type {Error|false} */
/******/ 				var abortError = false;
/******/ 				var doApply = false;
/******/ 				var doDispose = false;
/******/ 				var chainInfo = "";
/******/ 				if (result.chain) {
/******/ 					chainInfo = "\nUpdate propagation: " + result.chain.join(" -> ");
/******/ 				}
/******/ 				switch (result.type) {
/******/ 					case "self-declined":
/******/ 						if (options.onDeclined) options.onDeclined(result);
/******/ 						if (!options.ignoreDeclined)
/******/ 							abortError = new Error(
/******/ 								"Aborted because of self decline: " +
/******/ 									result.moduleId +
/******/ 									chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "declined":
/******/ 						if (options.onDeclined) options.onDeclined(result);
/******/ 						if (!options.ignoreDeclined)
/******/ 							abortError = new Error(
/******/ 								"Aborted because of declined dependency: " +
/******/ 									result.moduleId +
/******/ 									" in " +
/******/ 									result.parentId +
/******/ 									chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "unaccepted":
/******/ 						if (options.onUnaccepted) options.onUnaccepted(result);
/******/ 						if (!options.ignoreUnaccepted)
/******/ 							abortError = new Error(
/******/ 								"Aborted because " + moduleId + " is not accepted" + chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "accepted":
/******/ 						if (options.onAccepted) options.onAccepted(result);
/******/ 						doApply = true;
/******/ 						break;
/******/ 					case "disposed":
/******/ 						if (options.onDisposed) options.onDisposed(result);
/******/ 						doDispose = true;
/******/ 						break;
/******/ 					default:
/******/ 						throw new Error("Unexception type " + result.type);
/******/ 				}
/******/ 				if (abortError) {
/******/ 					hotSetStatus("abort");
/******/ 					return Promise.reject(abortError);
/******/ 				}
/******/ 				if (doApply) {
/******/ 					appliedUpdate[moduleId] = hotUpdate[moduleId];
/******/ 					addAllToSet(outdatedModules, result.outdatedModules);
/******/ 					for (moduleId in result.outdatedDependencies) {
/******/ 						if (
/******/ 							Object.prototype.hasOwnProperty.call(
/******/ 								result.outdatedDependencies,
/******/ 								moduleId
/******/ 							)
/******/ 						) {
/******/ 							if (!outdatedDependencies[moduleId])
/******/ 								outdatedDependencies[moduleId] = [];
/******/ 							addAllToSet(
/******/ 								outdatedDependencies[moduleId],
/******/ 								result.outdatedDependencies[moduleId]
/******/ 							);
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 				if (doDispose) {
/******/ 					addAllToSet(outdatedModules, [result.moduleId]);
/******/ 					appliedUpdate[moduleId] = warnUnexpectedRequire;
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Store self accepted outdated modules to require them later by the module system
/******/ 		var outdatedSelfAcceptedModules = [];
/******/ 		for (i = 0; i < outdatedModules.length; i++) {
/******/ 			moduleId = outdatedModules[i];
/******/ 			if (
/******/ 				installedModules[moduleId] &&
/******/ 				installedModules[moduleId].hot._selfAccepted &&
/******/ 				// removed self-accepted modules should not be required
/******/ 				appliedUpdate[moduleId] !== warnUnexpectedRequire &&
/******/ 				// when called invalidate self-accepting is not possible
/******/ 				!installedModules[moduleId].hot._selfInvalidated
/******/ 			) {
/******/ 				outdatedSelfAcceptedModules.push({
/******/ 					module: moduleId,
/******/ 					parents: installedModules[moduleId].parents.slice(),
/******/ 					errorHandler: installedModules[moduleId].hot._selfAccepted
/******/ 				});
/******/ 			}
/******/ 		}
/******/
/******/ 		// Now in "dispose" phase
/******/ 		hotSetStatus("dispose");
/******/ 		Object.keys(hotAvailableFilesMap).forEach(function(chunkId) {
/******/ 			if (hotAvailableFilesMap[chunkId] === false) {
/******/ 				hotDisposeChunk(chunkId);
/******/ 			}
/******/ 		});
/******/
/******/ 		var idx;
/******/ 		var queue = outdatedModules.slice();
/******/ 		while (queue.length > 0) {
/******/ 			moduleId = queue.pop();
/******/ 			module = installedModules[moduleId];
/******/ 			if (!module) continue;
/******/
/******/ 			var data = {};
/******/
/******/ 			// Call dispose handlers
/******/ 			var disposeHandlers = module.hot._disposeHandlers;
/******/ 			for (j = 0; j < disposeHandlers.length; j++) {
/******/ 				cb = disposeHandlers[j];
/******/ 				cb(data);
/******/ 			}
/******/ 			hotCurrentModuleData[moduleId] = data;
/******/
/******/ 			// disable module (this disables requires from this module)
/******/ 			module.hot.active = false;
/******/
/******/ 			// remove module from cache
/******/ 			delete installedModules[moduleId];
/******/
/******/ 			// when disposing there is no need to call dispose handler
/******/ 			delete outdatedDependencies[moduleId];
/******/
/******/ 			// remove "parents" references from all children
/******/ 			for (j = 0; j < module.children.length; j++) {
/******/ 				var child = installedModules[module.children[j]];
/******/ 				if (!child) continue;
/******/ 				idx = child.parents.indexOf(moduleId);
/******/ 				if (idx >= 0) {
/******/ 					child.parents.splice(idx, 1);
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// remove outdated dependency from module children
/******/ 		var dependency;
/******/ 		var moduleOutdatedDependencies;
/******/ 		for (moduleId in outdatedDependencies) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)
/******/ 			) {
/******/ 				module = installedModules[moduleId];
/******/ 				if (module) {
/******/ 					moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 					for (j = 0; j < moduleOutdatedDependencies.length; j++) {
/******/ 						dependency = moduleOutdatedDependencies[j];
/******/ 						idx = module.children.indexOf(dependency);
/******/ 						if (idx >= 0) module.children.splice(idx, 1);
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Now in "apply" phase
/******/ 		hotSetStatus("apply");
/******/
/******/ 		if (hotUpdateNewHash !== undefined) {
/******/ 			hotCurrentHash = hotUpdateNewHash;
/******/ 			hotUpdateNewHash = undefined;
/******/ 		}
/******/ 		hotUpdate = undefined;
/******/
/******/ 		// insert new code
/******/ 		for (moduleId in appliedUpdate) {
/******/ 			if (Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {
/******/ 				modules[moduleId] = appliedUpdate[moduleId];
/******/ 			}
/******/ 		}
/******/
/******/ 		// call accept handlers
/******/ 		var error = null;
/******/ 		for (moduleId in outdatedDependencies) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)
/******/ 			) {
/******/ 				module = installedModules[moduleId];
/******/ 				if (module) {
/******/ 					moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 					var callbacks = [];
/******/ 					for (i = 0; i < moduleOutdatedDependencies.length; i++) {
/******/ 						dependency = moduleOutdatedDependencies[i];
/******/ 						cb = module.hot._acceptedDependencies[dependency];
/******/ 						if (cb) {
/******/ 							if (callbacks.indexOf(cb) !== -1) continue;
/******/ 							callbacks.push(cb);
/******/ 						}
/******/ 					}
/******/ 					for (i = 0; i < callbacks.length; i++) {
/******/ 						cb = callbacks[i];
/******/ 						try {
/******/ 							cb(moduleOutdatedDependencies);
/******/ 						} catch (err) {
/******/ 							if (options.onErrored) {
/******/ 								options.onErrored({
/******/ 									type: "accept-errored",
/******/ 									moduleId: moduleId,
/******/ 									dependencyId: moduleOutdatedDependencies[i],
/******/ 									error: err
/******/ 								});
/******/ 							}
/******/ 							if (!options.ignoreErrored) {
/******/ 								if (!error) error = err;
/******/ 							}
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Load self accepted modules
/******/ 		for (i = 0; i < outdatedSelfAcceptedModules.length; i++) {
/******/ 			var item = outdatedSelfAcceptedModules[i];
/******/ 			moduleId = item.module;
/******/ 			hotCurrentParents = item.parents;
/******/ 			hotCurrentChildModule = moduleId;
/******/ 			try {
/******/ 				__webpack_require__(moduleId);
/******/ 			} catch (err) {
/******/ 				if (typeof item.errorHandler === "function") {
/******/ 					try {
/******/ 						item.errorHandler(err);
/******/ 					} catch (err2) {
/******/ 						if (options.onErrored) {
/******/ 							options.onErrored({
/******/ 								type: "self-accept-error-handler-errored",
/******/ 								moduleId: moduleId,
/******/ 								error: err2,
/******/ 								originalError: err
/******/ 							});
/******/ 						}
/******/ 						if (!options.ignoreErrored) {
/******/ 							if (!error) error = err2;
/******/ 						}
/******/ 						if (!error) error = err;
/******/ 					}
/******/ 				} else {
/******/ 					if (options.onErrored) {
/******/ 						options.onErrored({
/******/ 							type: "self-accept-errored",
/******/ 							moduleId: moduleId,
/******/ 							error: err
/******/ 						});
/******/ 					}
/******/ 					if (!options.ignoreErrored) {
/******/ 						if (!error) error = err;
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// handle errors in accept handlers and self accepted module load
/******/ 		if (error) {
/******/ 			hotSetStatus("fail");
/******/ 			return Promise.reject(error);
/******/ 		}
/******/
/******/ 		if (hotQueuedInvalidatedModules) {
/******/ 			return hotApplyInternal(options).then(function(list) {
/******/ 				outdatedModules.forEach(function(moduleId) {
/******/ 					if (list.indexOf(moduleId) < 0) list.push(moduleId);
/******/ 				});
/******/ 				return list;
/******/ 			});
/******/ 		}
/******/
/******/ 		hotSetStatus("idle");
/******/ 		return new Promise(function(resolve) {
/******/ 			resolve(outdatedModules);
/******/ 		});
/******/ 	}
/******/
/******/ 	function hotApplyInvalidatedModules() {
/******/ 		if (hotQueuedInvalidatedModules) {
/******/ 			if (!hotUpdate) hotUpdate = {};
/******/ 			hotQueuedInvalidatedModules.forEach(hotApplyInvalidatedModule);
/******/ 			hotQueuedInvalidatedModules = undefined;
/******/ 			return true;
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotApplyInvalidatedModule(moduleId) {
/******/ 		if (!Object.prototype.hasOwnProperty.call(hotUpdate, moduleId))
/******/ 			hotUpdate[moduleId] = modules[moduleId];
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {},
/******/ 			hot: hotCreateModule(moduleId),
/******/ 			parents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),
/******/ 			children: []
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// __webpack_hash__
/******/ 	__webpack_require__.h = function() { return hotCurrentHash; };
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return hotCreateRequire("./index.js")(__webpack_require__.s = "./index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "../node_modules/@kissmybutton/motorcortex-player/dist/motorcortex-player.umd.js":
/*!***************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex-player/dist/motorcortex-player.umd.js ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("!function(e,t){ true?module.exports=t(__webpack_require__(/*! @kissmybutton/motorcortex */ \"../node_modules/@kissmybutton/motorcortex/dist/motorcortex.umd.js\")):undefined}(this,(function(e){\"use strict\";function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function n(e){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?t(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):t(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function s(e){return(s=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=\"--mc-player\",r=\"volume-change\",a=\"mute-change\",c=\"speed-change\",p=\"loop-change\",u=\"scale-change\",d=\"show-volume-change\",m=\"show-preview-change\",h=\"state-change\",v=\"duration-change\",g=\"mouseup\",f=\"mousedown\",y=\"touchstart\",b=\"mousemove\",w=\"touchend\",x=\"touchmove\",B={play:'\\x3c!-- Generated by IcoMoon.io --\\x3e\\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\">\\n<title>play</title>\\n<path fill=\"#999\" d=\"M27.558 13.624l-21.827-13.232c-0.402-0.248-0.89-0.395-1.411-0.395-1.502 0-2.72 1.218-2.72 2.72 0 0.002 0 0.004 0 0.006v-0 26.461c0 0.001 0 0.002 0 0.003 0 1.502 1.218 2.72 2.72 2.72 0.522 0 1.009-0.147 1.423-0.401l-0.012 0.007 21.827-13.232c0.792-0.485 1.313-1.346 1.313-2.328s-0.521-1.843-1.301-2.321l-0.012-0.007z\"></path>\\n</svg>',pause:'\\x3c!-- Generated by IcoMoon.io --\\x3e\\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\">\\n<title>pause</title>\\n<path d=\"M6.059 4.639h8.521v22.722h-8.521zM18.84 4.639h8.521v22.722h-8.521z\"></path>\\n</svg>',\"expand-full\":'\\x3c!-- Generated by IcoMoon.io --\\x3e\\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\">\\n<title>expand-full</title>\\n<path fill=\"#999\" d=\"M31.667 3.271c-0.004-1.619-1.315-2.93-2.934-2.934h-7.642c-0.921 0-1.667 0.747-1.667 1.667s0.747 1.667 1.667 1.667h6.909c0.185 0 0.333 0.148 0.333 0.332v4.359c0 0.921 0.747 1.667 1.667 1.667s1.667-0.746 1.667-1.667v0-5.091zM0.333 8.362c0 0.921 0.746 1.667 1.667 1.667s1.667-0.746 1.667-1.667v0-4.362c0-0.001 0-0.001 0-0.002 0-0.184 0.148-0.333 0.332-0.333h6.909c0.898-0.029 1.614-0.764 1.614-1.667s-0.717-1.637-1.612-1.666l-0.003-0h-7.635c-1.619 0.005-2.931 1.315-2.934 2.936l-0.007 5.095zM31.667 28.726v-5.091c0-0.921-0.747-1.667-1.667-1.667s-1.667 0.747-1.667 1.667v0 4.365c0 0.185-0.148 0.333-0.332 0.333h-6.909c-0.921 0-1.667 0.747-1.667 1.667s0.747 1.667 1.667 1.667v0h7.635c1.624-0.002 2.941-1.319 2.941-2.942zM0.333 28.726c0.004 1.621 1.319 2.934 2.941 2.934 0 0 0 0 0 0h7.635c0.016 0.001 0.034 0.001 0.053 0.001 0.921 0 1.667-0.747 1.667-1.667s-0.746-1.667-1.667-1.667c-0.019 0-0.037 0-0.056 0.001l0.003-0h-6.909c-0 0-0 0-0 0-0.182 0-0.33-0.145-0.333-0.326v-4.366c0-0.921-0.747-1.667-1.667-1.667s-1.667 0.747-1.667 1.667v0 5.091z\"></path>\\n<path fill=\"#999\" d=\"M10.321 10.848h11.357c1.818 0 3.291 1.473 3.291 3.291v3.72c0 1.818-1.473 3.291-3.291 3.291h-11.357c-1.818 0-3.291-1.473-3.291-3.291v-3.72c0-1.818 1.473-3.291 3.291-3.291z\"></path>\\n</svg>',\"angle-left\":'\\x3c!-- Generated by IcoMoon.io --\\x3e\\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"32\" viewBox=\"0 0 16 32\">\\n<title>angle-left</title>\\n<path d=\"M1.981 14.938l8.5-8.5c0.588-0.588 1.537-0.588 2.119 0l1.412 1.412c0.588 0.588 0.588 1.537 0 2.119l-6.019 6.031 6.025 6.025c0.588 0.587 0.588 1.538 0 2.119l-1.412 1.419c-0.588 0.587-1.537 0.587-2.119 0l-8.5-8.5c-0.594-0.587-0.594-1.537-0.006-2.125z\"></path>\\n</svg>',\"angle-right\":'\\x3c!-- Generated by IcoMoon.io --\\x3e\\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"32\" viewBox=\"0 0 16 32\">\\n<title>angle-right</title>\\n<path d=\"M14.019 17.063l-8.5 8.5c-0.588 0.587-1.538 0.587-2.119 0l-1.413-1.413c-0.587-0.587-0.587-1.538 0-2.119l6.019-6.031-6.025-6.025c-0.587-0.588-0.587-1.537 0-2.119l1.413-1.419c0.587-0.588 1.538-0.588 2.119 0l8.5 8.5c0.594 0.588 0.594 1.538 0.006 2.125z\"></path>\\n</svg>',settings:'\\x3c!-- Generated by IcoMoon.io --\\x3e\\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\">\\n<title>settings</title>\\n<path fill=\"#999\" d=\"M29.999 12.665h-2.483c-0.275-0.938-0.621-1.751-1.048-2.512l0.031 0.060 1.757-1.755c0.362-0.362 0.587-0.862 0.587-1.415s-0.224-1.053-0.587-1.415l-1.886-1.883c-0.362-0.362-0.862-0.586-1.415-0.586s-1.053 0.224-1.415 0.586l-1.757 1.755c-0.701-0.397-1.514-0.743-2.366-0.996l-0.084-0.021v-2.483c0.002-1.107-0.894-2.001-1.999-2.001h-2.668c-1.105 0-1.999 0.896-1.999 2.001v2.483c-0.938 0.275-1.751 0.621-2.513 1.048l0.060-0.031-1.757-1.755c-0.362-0.362-0.862-0.587-1.415-0.587s-1.053 0.224-1.415 0.587l-1.886 1.886c-0.362 0.362-0.586 0.862-0.586 1.415s0.224 1.053 0.586 1.415v0l1.758 1.755c-0.431 0.775-0.771 1.598-1.017 2.451h-2.483c-1.107-0.002-2.001 0.894-2.001 1.999v2.668c0 1.105 0.896 1.999 2.001 1.999h2.483c0.246 0.854 0.586 1.676 1.017 2.452l-1.762 1.758c-0.362 0.362-0.586 0.862-0.586 1.415s0.224 1.053 0.586 1.415v0l1.886 1.885c0.368 0.348 0.866 0.563 1.415 0.563s1.047-0.214 1.416-0.564l-0.001 0.001 1.757-1.757c0.778 0.429 1.6 0.771 2.454 1.019v2.479c0 1.105 0.894 2.001 1.999 2.001h2.668c1.105 0 1.999-0.896 1.999-2.001v-2.479c0.852-0.248 1.676-0.589 2.452-1.017l1.757 1.757c0.362 0.362 0.862 0.586 1.415 0.586s1.053-0.224 1.415-0.586v0l1.885-1.886c0.362-0.362 0.586-0.862 0.586-1.414s-0.224-1.052-0.586-1.414l-1.757-1.757c0.431-0.776 0.771-1.6 1.017-2.452h2.483c0 0 0.001 0 0.002 0 1.105 0 2.001-0.896 2.001-2.001 0-0.002 0-0.004 0-0.005v0-2.663c0-1.105-0.896-1.999-2.001-1.999zM16 22.668c-3.682 0-6.666-2.985-6.666-6.666s2.985-6.666 6.666-6.666v0c3.682 0 6.666 2.985 6.666 6.666s-2.985 6.666-6.666 6.666v0z\"></path>\\n</svg>',loop:'\\x3c!-- Generated by IcoMoon.io --\\x3e\\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\">\\n<title>loop</title>\\n<path fill=\"#999\" d=\"M22.364 21.968h-0.631c-0.92 0-1.667 0.746-1.667 1.667s0.746 1.667 1.667 1.667h0.637c0.013 0 0.028 0 0.044 0 5.113 0 9.259-4.145 9.259-9.259 0-4.668-3.454-8.529-7.946-9.166l-0.049-0.006c-0.158-0.028-0.276-0.164-0.277-0.328v-2.636c-0-0.92-0.746-1.666-1.667-1.666-0.357 0-0.689 0.112-0.96 0.304l0.005-0.003-6.371 4.455c-0.432 0.305-0.711 0.803-0.711 1.365 0 0.92 0.746 1.667 1.667 1.667 0 0 0 0 0 0h6.352c3.772 0 6.617 2.567 6.617 5.971-0.004 3.295-2.674 5.966-5.969 5.969h-0zM8.329 25.127c0.16 0.027 0.277 0.165 0.277 0.328v2.635c0 0.001 0 0.001 0 0.002 0 0.92 0.746 1.665 1.665 1.665 0.358 0 0.69-0.113 0.961-0.305l-0.005 0.003 6.364-4.453c0.432-0.306 0.71-0.803 0.71-1.365 0-0.92-0.746-1.667-1.666-1.668h-6.352c-3.772 0-6.617-2.567-6.617-5.968 0.002-3.296 2.673-5.968 5.969-5.972h0.638c0.92 0 1.667-0.746 1.667-1.667s-0.746-1.667-1.667-1.667v0h-0.637c-0.010-0-0.022-0-0.034-0-5.114 0-9.26 4.146-9.26 9.26 0 4.665 3.45 8.524 7.937 9.166l0.049 0.006z\"></path>\\n</svg>',\"volume-on\":'\\x3c!-- Generated by IcoMoon.io --\\x3e\\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\">\\n<title>volume-on</title>\\n<path d=\"M26.107 2.991l-3.729 3.185c2.867 2.354 4.694 5.879 4.694 9.824s-1.827 7.47-4.694 9.824l3.729 3.185c3.612-3.226 5.893-7.852 5.893-13.009s-2.281-9.783-5.893-13.009zM19.861 8.326l-3.876 3.312c1.692 0.762 3.038 2.423 3.038 4.362s-1.346 3.6-3.038 4.362l3.876 3.312c2.379-1.756 4.028-4.535 4.028-7.674s-1.649-5.918-4.028-7.674zM12.143 5.399l-7.143 5.601h-3c-1.478 0-2 0.539-2 2v6c0 1.461 0.553 2 2 2h3l7.143 5.595c0.857 0.553 1.85 0.727 1.85-0.823v-19.55c0-1.55-0.993-1.376-1.85-0.823z\"></path>\\n</svg>',\"volume-off\":'\\x3c!-- Generated by IcoMoon.io --\\x3e\\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\">\\n<title>volume-off</title>\\n<path d=\"M27.397 16.001l4.134-4.144c0.625-0.627 0.625-1.641 0-2.267l-1.132-1.134c-0.625-0.626-1.638-0.626-2.263 0l-4.134 4.144-4.133-4.141c-0.625-0.626-1.638-0.626-2.263 0l-1.132 1.134c-0.625 0.626-0.625 1.641 0 2.267l4.134 4.142-4.131 4.142c-0.625 0.626-0.625 1.641 0 2.267l1.132 1.134c0.625 0.626 1.638 0.626 2.263 0l4.131-4.141 4.133 4.14c0.625 0.627 1.638 0.627 2.263 0l1.132-1.134c0.625-0.626 0.625-1.641 0-2.267l-4.134-4.141zM12.148 5.399l-7.146 5.603h-3.001c-1.479 0-2.001 0.539-2.001 2.001l-0 2.951 0 3.051c0 1.461 0.553 2.001 2.001 2.001h3.001l7.146 5.597c0.857 0.553 1.851 0.727 1.851-0.823v-19.556c-0-1.55-0.994-1.376-1.851-0.823z\"></path>\\n</svg>',\"donkeyclip-logo\":'\\x3c!-- Generated by IcoMoon.io --\\x3e\\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\">\\n<title>donkeyclip-logo</title>\\n<path fill=\"#777\" d=\"M25.811 3.454v11.010h-3.479c-0.696-2.447-2.974-4.246-5.638-4.246-3.238 0-5.877 2.638-5.877 5.877s2.638 5.877 5.877 5.877c2.686 0 4.942-1.799 5.638-4.246h3.334c-0.767 4.246-4.485 7.509-8.972 7.509-5.014 0-9.115-4.078-9.115-9.115 0-5.014 4.078-9.115 9.115-9.115 2.231 0 4.294 0.815 5.877 2.159v-7.652c-1.992-0.912-4.222-1.415-6.572-1.415-8.779 0-15.904 7.125-15.904 15.904s7.125 15.904 15.904 15.904c8.779 0 15.904-7.125 15.904-15.904 0.024-5.109-2.375-9.644-6.093-12.546z\"></path>\\n</svg>',spinner:'\\x3c!-- Generated by IcoMoon.io --\\x3e\\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\">\\n<title>spinner</title>\\n<path fill=\"#999\" d=\"M16 0.43c0.992 0 1.796 1.287 1.796 2.875v1.437c0 1.588-0.804 2.875-1.796 2.875s-1.796-1.287-1.796-2.875v-1.437c0-1.588 0.804-2.875 1.796-2.875z\"></path>\\n<path fill=\"#999\" d=\"M23.785 2.516c0.859 0.496 0.913 2.013 0.119 3.388l-0.718 1.245c-0.794 1.374-2.133 2.087-2.993 1.592s-0.913-2.013-0.119-3.388l0.718-1.245c0.794-1.374 2.133-2.087 2.993-1.592z\"></path>\\n<path fill=\"#999\" d=\"M29.484 8.215c0.496 0.859-0.216 2.199-1.592 2.993l-1.245 0.718c-1.374 0.794-2.892 0.741-3.388-0.119s0.216-2.199 1.592-2.993l1.245-0.718c1.374-0.794 2.892-0.741 3.388 0.119z\"></path>\\n<path fill=\"#999\" d=\"M31.57 16c0 0.992-1.287 1.796-2.875 1.796h-1.437c-1.588 0-2.875-0.804-2.875-1.796s1.287-1.796 2.875-1.796h1.437c1.588 0 2.875 0.804 2.875 1.796z\"></path>\\n<path fill=\"#999\" d=\"M29.484 23.785c-0.496 0.859-2.013 0.913-3.388 0.119l-1.245-0.718c-1.374-0.794-2.087-2.133-1.592-2.993s2.013-0.913 3.388-0.119l1.245 0.718c1.374 0.794 2.087 2.133 1.592 2.993z\"></path>\\n<path fill=\"#999\" d=\"M23.785 29.484c-0.859 0.496-2.199-0.216-2.993-1.592l-0.718-1.245c-0.794-1.374-0.741-2.892 0.119-3.388s2.199 0.216 2.993 1.592l0.718 1.245c0.794 1.374 0.741 2.892-0.119 3.388z\"></path>\\n<path fill=\"#999\" d=\"M16 31.57c-0.992 0-1.796-1.287-1.796-2.875v-1.437c0-1.588 0.804-2.875 1.796-2.875s1.796 1.287 1.796 2.875v1.437c0 1.588-0.804 2.875-1.796 2.875z\"></path>\\n<path fill=\"#999\" d=\"M8.215 29.484c-0.859-0.496-0.913-2.013-0.119-3.388l0.718-1.245c0.794-1.374 2.133-2.087 2.993-1.592s0.913 2.013 0.119 3.388l-0.718 1.245c-0.794 1.374-2.133 2.087-2.993 1.592z\"></path>\\n<path fill=\"#999\" d=\"M2.516 23.785c-0.496-0.859 0.216-2.199 1.592-2.993l1.245-0.718c1.374-0.794 2.892-0.741 3.388 0.119s-0.216 2.199-1.592 2.993l-1.245 0.718c-1.374 0.794-2.892 0.741-3.388-0.119z\"></path>\\n<path fill=\"#999\" d=\"M0.43 16c0-0.992 1.287-1.796 2.875-1.796h1.437c1.588 0 2.875 0.804 2.875 1.796s-1.287 1.796-2.875 1.796h-1.437c-1.588 0-2.875-0.804-2.875-1.796z\"></path>\\n<path fill=\"#999\" d=\"M2.516 8.215c0.496-0.859 2.013-0.913 3.388-0.119l1.245 0.718c1.374 0.794 2.087 2.133 1.592 2.993s-2.013 0.913-3.388 0.119l-1.245-0.718c-1.374-0.794-2.087-2.133-1.592-2.993z\"></path>\\n<path fill=\"#999\" d=\"M8.215 2.516c0.859-0.496 2.199 0.216 2.993 1.592l0.718 1.245c0.794 1.374 0.741 2.892-0.119 3.388s-2.199-0.216-2.993-1.592l-0.718-1.245c-0.794-1.374-0.741-2.892 0.119-3.388z\"></path>\\n</svg>',\"check-solid\":'\\x3c!-- Generated by IcoMoon.io --\\x3e\\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\">\\n<title>check-solid</title>\\n<path d=\"M10.869 27.463l-10.4-10.4c-0.625-0.625-0.625-1.638 0-2.263l2.263-2.263c0.625-0.625 1.638-0.625 2.263 0l7.006 7.006 15.006-15.006c0.625-0.625 1.638-0.625 2.263 0l2.263 2.263c0.625 0.625 0.625 1.638 0 2.263l-18.4 18.4c-0.625 0.625-1.638 0.625-2.263-0z\"></path>\\n</svg>'};function M(e,t){return e.getElementsByClassName(t)[0]}function k(e){return document.createElement(e)}function C(){var e;return(e=document).addEventListener.apply(e,arguments)}function L(){var e;return(e=document).removeEventListener.apply(e,arguments)}var P=new RegExp(\"^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)\",\"gi\");function S(e){var t,n=e.match(P)[0],s=e.substring(n.length);if(\"number\"==typeof(t=Number(n))&&isFinite(t)&&(\"%\"!==s||\"px\"!==s))return{number:Number(n),unit:s}}function E(e,t){var n,s,o,i,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object.prototype.hasOwnProperty.call(e,\"width\")&&(o=S(e.width)),Object.prototype.hasOwnProperty.call(e,\"height\")&&(i=S(e.height));var r=1,a=1;\"px\"===(null===(n=o)||void 0===n?void 0:n.unit)&&o.number!==t.width&&(r=t.width/o.number),\"px\"===(null===(s=i)||void 0===s?void 0:s.unit)&&i.number!==t.height&&(a=t.height/i.number);var c=l?a>r:a<=r,p=c?a:r,u={};if(null!==o){var d=o.number*p;\"px\"!==o.unit&&(d*=t.width/100);var m=t.width-d;u.left=m/2}if(null!==o){var h=i.number*p;\"px\"!==i.unit&&(h*=t.height/100);var v=t.height-h;u.top=v/2}return{scale:p,position:u}}function T(e,t){document.addEventListener(g,e,!1),document.addEventListener(w,e,!1),document.addEventListener(b,t,!1),document.addEventListener(x,t,!1)}function z(e,t){document.removeEventListener(g,e,!1),document.removeEventListener(w,e,!1),document.removeEventListener(b,t,!1),document.removeEventListener(x,t,!1)}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.addEventListener(f,e,{passive:n},!1),t.addEventListener(y,e,{passive:n},!1)}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;t.removeEventListener(f,e,!1),t.removeEventListener(y,e,!1)}function V(e,t,n){t&&(e.classList.remove(\"icon-\".concat(t)),e.innerHTML=\"\"),n&&(e.classList.add(\"icon-\".concat(n)),e.innerHTML=B[n])}var F=function(e){e.elements={},D(e);var t,n=e.elements.mcPlayer;e.elements.pointerEventPanel=M(n,\"--mcp-pointer-events-panel\"),e.elements.listenerHelper=M(n,\"--mcp-listener-helper\"),e.elements.loopBar=M(n,\"--mcp-loopbar\"),e.elements.totalBar=M(n,\"--mcp-totalbar\"),e.elements.indicator=M(n,\"--mcp-indicator\"),e.elements.loopButton=M(n,\"--mcp-loop-btn\"),e.elements.volumeBar=M(n,\"--mcp-volumebar\"),e.elements.totalTime=M(n,\"--mcp-time-total\"),e.elements.volumeControl=M(n,\"--mcp-volume\"),e.elements.volumeBtn=M(n,\"--mcp-volume-btn\"),e.elements.runningBar=M(n,\"--mcp-runningbar\"),e.elements.loopBarEnd=M(n,\"--mcp-loopbar-end\"),e.elements.statusButton=M(n,\"--mcp-status-btn\"),e.elements.speedBar=M(n,\"--mcp-speed-values\"),e.elements.currentTime=M(n,\"--mcp-time-current\"),e.elements.timeDisplay=M(n,\"--mcp-time-display\"),e.elements.speedButtonShow=M(n,\"--mcp-speed-btn-show\"),e.elements.speedButtonHide=M(n,\"--mcp-speed-btn-hide\"),e.elements.speedCurrent=M(n,\"--mcp-speed-current\"),e.elements.loopBarStart=M(n,\"--mcp-loopbar-start\"),e.elements.volumeCursor=M(n,\"--mcp-volume-cursor\"),e.elements.settingsButton=M(n,\"--mcp-settings-btn\"),e.elements.donkeyclipButton=M(n,\"--mcp-dc-btn\"),e.elements.timeSeparator=M(n,\"--mcp-time-separator\"),e.elements.settingsPanel=M(n,\"--mcp-settings-panel\"),e.elements.settingsMainPanel=M(n,\"--mcp-main-settings\"),e.elements.fullScreenButton=M(n,\"--mcp-full-screen-btn\"),e.elements.volumeBarHelper=M(n,\"--mcp-volumebar\"),e.elements.volumeBarActive=M(n,\"--mcp-volumebar-color-active\"),e.elements.settingsSpeedPanel=M(n,\"--mcp-speed-settings\"),e.elements.settingsShowVolume=M(n,\"--mcp-settings-volume\"),e.elements.settingsShowPreview=M(n,\"--mcp-settings-preview\"),e.elements.settingsPointerEvents=M(n,\"--mcp-settings-pointer-events\"),e.elements.settingsShowIndicator=M(n,\"--mcp-settings-indicator\"),e.elements.settingsSpeedButtonShow=M(n,\"--mcp-settings-speed-show\"),e.elements.settingsSpeedButtonHide=M(n,\"--mcp-settings-speed-hide\"),e.elements.controls=M(n,\"--mcp-controls\"),e.elements.previewHost=M(n,\"--mcp-preview-host\"),e.elements.preview=M(n,\"--mcp-preview\"),e.elements.volumeCheckbox=M(n,\"--mcp-show-volume-checkbox\"),e.elements.showIndicatorCheckbox=M(n,\"--mcp-show-indicator-checkbox\"),e.elements.showPreviewCheckbox=M(n,\"--mcp-show-preview-checkbox\"),e.elements.showVolumeCheckbox=M(n,\"--mcp-show-volume-checkbox\"),e.elements.showPointerEventsCheckbox=M(n,\"--mcp-show-pointer-events-checkbox\"),e.elements.previewMillisecond=M(n,\"--mcp-preview-millisecond\"),e.elements.leftButtons=M(n,\"--mcp-left-buttons\"),(t=e.elements).loopButton.innerHTML=B.loop,t.volumeBtn.innerHTML=B[\"volume-on\"],t.statusButton.innerHTML=B.play,t.settingsButton.innerHTML=B.settings,t.donkeyclipButton.innerHTML=B[\"donkeyclip-logo\"],t.fullScreenButton.innerHTML=B[\"expand-full\"],t.fullScreenButton.innerHTML=B[\"expand-full\"],t.speedButtonShow.innerHTML=B[\"angle-right\"],t.speedButtonHide.innerHTML=B[\"angle-left\"],O(e),W(e),j(e)},D=function(e){var t=e.clip.props.host;if(t.offsetWidth||(t.style.width=e.clip.props.containerParams.width),t.offsetHeight||(t.style.height=e.clip.props.containerParams.height),t.style.display=\"flex\",t.style.justifyContent=\"center\",t.style.alignItems=\"center\",t.style.overflow=\"hidden\",e.clip.props.host.style.position=\"relative\",e.clip.props.host.style.zIndex=0,e.elements.mcPlayer=k(\"div\"),e.elements.mcPlayer.id=\"\".concat(e.name),e.elements.mcPlayer.className=\"\".concat(e.className),e.elements.mcPlayer.innerHTML='<div class=\"--mcp-background\"></div>\\n<div class=\"--mcp-context\">\\n    <div class=\"--mcp-pointer-events-panel\"></div>\\n    <div class=\"--mcp-listener-helper\"></div>\\n    <div class=\"--mcp-controls\">\\n        <div class=\"--mcp-grad\"></div>\\n        <div class=\"--mcp-progressbar\">\\n            <div class=\"--mcp-preview\">\\n                <div class=\"--mcp-prevent-point-events\"></div>\\n                <div class=\"--mcp-preview-host\"> </div>\\n                <div class=\"--mcp-preview-millisecond\">00:00</div>\\n            </div>\\n            <div class=\"--mcp-totalbar\">\\n                <div class=\"--mcp-loopbar\">\\n                    <div class=\"--mcp-loopbar-color\"></div>\\n                    <div class=\"--mcp-loop-boundaries --mcp-loopbar-start\">\\n                    </div>\\n                    <div class=\"--mcp-loop-boundaries --mcp-loopbar-end\">\\n                    </div>\\n                    <div class=\"--mcp-runningbar\">\\n                        <div class=\"--mcp-cursor\"></div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\"--mcp-buttons\">\\n            <div class=\"--mcp-left-buttons\">\\n                <div class=\"--mcp-status\">\\n                    <span class=\"--mcp-btn --mcp-status-btn icon-play\"></span>\\n                    <span class=\"--mcp-indicator\">i</span>\\n                </div>\\n                <div class=\"--mcp-volume\">\\n                    <div class=\"--mcp-btn --mcp-volume-btn icon-volume-on\"></div>\\n                    <div class=\"--mcp-volumebar\">\\n                        <div class=\"--mcp-volumebar-color\">\\n                            <div class=\"--mcp-volumebar-color-active\">\\n                                <div class=\"--mcp-volume-cursor\"></div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\"--mcp-time-display\">\\n                    <span class=\"--mcp-time-current\">00:00</span>\\n                    <span class=\"--mcp-time-separator\">/</span>\\n                    <span class=\"--mcp-time-total\">00:00</span>\\n                </div>\\n            </div>\\n            <div class=\"--mcp-right-buttons\">\\n                <div class=\"--mcp-loop-btn-container\">\\n                    <div class=\"--mcp-btn --mcp-loop-btn icon-loop\"></div>\\n                </div>\\n                <div class=\"--mcp-btn --mcp-settings-btn icon-settings\"></div>\\n                <div class=\"--mcp-btn --mcp-dc-btn icon-donkeyclip-logo\"></div>\\n                <div class=\"--mcp-btn --mcp-full-screen-btn icon-expand-full\">\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\"--mcp-settings-panel\">\\n        <ul class=\"--mcp-main-settings\">\\n            <li class=\"--mcp-settings-pointer-events\">\\n                <p>Pointer events</p>\\n                <div>\\n                    <div class=\"switch settings-switch\">\\n                        <input class=\"--mcp-show-pointer-events-checkbox\" type=\"checkbox\">\\n                        <span class=\"slider round\"></span>\\n                    </div>\\n                </div>\\n            </li>\\n            <li class=\"--mcp-settings-preview\">\\n                <p>Show preview</p>\\n                <div>\\n                    <div class=\"switch settings-switch\">\\n                        <input class=\"--mcp-show-preview-checkbox\" type=\"checkbox\">\\n                        <span class=\"slider round\"></span>\\n                    </div>\\n                </div>\\n            </li>\\n            <li class=\"--mcp-settings-indicator\">\\n                <p>Show indicator</p>\\n                <div>\\n                    <div class=\"switch settings-switch\">\\n                        <input class=\"--mcp-show-indicator-checkbox\" type=\"checkbox\">\\n                        <span class=\"slider round\"></span>\\n                    </div>\\n                </div>\\n            </li>\\n            <li class=\"--mcp-settings-volume\">\\n                <p>Show volume</p>\\n                <div>\\n                    <div class=\"switch settings-switch\">\\n                        <input class=\"--mcp-show-volume-checkbox\" type=\"checkbox\">\\n                        <span class=\"slider round\"></span>\\n                    </div>\\n                </div>\\n            </li>\\n            <li class=\"--mcp-settings-speed-show\">\\n                <p>Playback speed</p>\\n                <div>\\n                    <span class=\"--mcp-speed-current\"></span>\\n                    <div class=\"--mcp-btn --mcp-speed-btn --mcp-speed-btn-show icon-angle-right\"></div>\\n                </div>\\n            </li>\\n        </ul>\\n        <ul class=\"--mcp-speed-settings\">\\n            <li class=\"--mcp-settings-speed-hide\">\\n                <div class=\"--mcp-btn --mcp-speed-btn --mcp-speed-btn-hide icon-angle-left\"></div>\\n                <p class=\"--mcp-speed-runtime\">Playback speed</p>\\n            </li>\\n            <li class=\"--mcp-no-hover\">\\n                <ul class=\"--mcp-speed-values\"></ul>\\n            </li>\\n        </ul>\\n    </div>\\n</div>',\"string\"==typeof e.options.host){var n=document.querySelectorAll(e.options.host);for(var s in n)isNaN(s)||n[s].appendChild(e.elements.mcPlayer)}else e.options.host.appendChild(e.elements.mcPlayer)},O=function(e){e.elements.volumeBarActive.style.width=\"\".concat(100*e.settings.volume,\"%\"),e.elements.currentTime.innerHTML=e.timeFormat(0),e.elements.totalTime.innerHTML=e.timeFormat(e.clip.duration),e.elements.timeSeparator.innerHTML=\"/\",e.elements.settingsPanel.classList.add(\"m-fadeOut\",\"\".concat(e.name,\"-hide\")),e.options.showIndicator?(e.elements.indicator.style.display=void 0,e.elements.statusButton.style.width=\"35px\",e.elements.statusButton.style.height=\"20px\",e.elements.statusButton.style.bottom=\"5px\"):e.elements.indicator.style.display=\"none\",e.elements.indicator.innerHTML=e.clip.runTimeInfo.state,e.elements.settingsSpeedPanel.style.display=\"none\",e.elements.loopBarStart.style.left=\"0%\",e.elements.loopBarStart.classList.add(\"m-fadeOut\",\"\".concat(e.name,\"-hide\")),e.elements.loopBarEnd.style.left=\"100%\",e.elements.loopBarEnd.classList.add(\"m-fadeOut\",\"\".concat(e.name,\"-hide\")),e.elements.preview.classList.add(\"m-fadeOut\"),e.elements.volumeCheckbox.checked=e.options.showVolume,e.elements.showIndicatorCheckbox.checked=e.options.showIndicator,e.elements.showPreviewCheckbox.checked=e.options.preview,e.elements.showPointerEventsCheckbox.checked=e.options.pointerEvents,e.options.pointerEvents?e.elements.pointerEventPanel.style.pointerEvents=\"none\":e.elements.pointerEventPanel.style.pointerEvents=\"auto\",e.options.showVolume||e.elements.volumeControl.classList.toggle(\"m-fadeOut\")},W=function(e){var t=function(t){if(0==e.options.speedValues[t])return\"continue\";var n=\"check-solid\",s=\"--mcp-selected\",o=k(\"li\");o.className=\"--mcp-speed-value\",o.dataset.speedValue=e.options.speedValues[t];var i=document.createElement(\"span\");o.append(i);var l=k(\"p\"),r=1==e.options.speedValues[t];l.innerHTML=r?\"Normal\":e.options.speedValues[t],l.dataset.zone=t,l.classList.add(\"--mcp-speed-value-item\"),e.options.speedValues[t]==e.clip.speed&&(V(i,null,n),l.classList.add(s)),o.append(l),e.elements.speedBar.append(o),o.onclick=function(){e.options.speed=e.options.speedValues[t],e.clip.speed=e.options.speedValues[t];var o=1==e.clip.speed;e.elements.speedCurrent.innerHTML=o?\"Normal\":e.clip.speed,V(M(e.elements.mcPlayer,\"icon-check-solid\"),n),V(i,null,n),M(e.elements.mcPlayer,s).classList.remove(s),l.classList.add(s)}};for(var n in e.options.speedValues)t(n)},j=function(e){!1===e.options.buttons.fullScreen&&e.elements.fullScreenButton.remove(),!1===e.options.buttons.settings&&e.elements.settingsButton.remove(),!1===e.options.buttons.donkeyclip&&e.elements.donkeyclipButton.remove(),!1===e.options.buttons.loop&&e.elements.loopButton.remove()},A=function(e){e.elements.donkeyclipButton.addEventListener(\"click\",(function(){var t,n=(t=(new Date).getTime(),\"xxxxxxxx-xxxx\".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;t=Math.floor(t/16);var s=Math.random()>.5,o=(\"x\"==e?n:3&n|8).toString(16);return s?o.toUpperCase():o}))),s=window.open(\"https://donkeyclip.com?u=\".concat(n)),o=e.clip.exportDefinition(),i=e.clipClass;window.addEventListener(\"message\",(function(e){e.data===n&&s.postMessage(JSON.stringify({definition:o,clipClass:i,u:n}),\"*\")}),!1)}))},N=\"--mcp-force-show-controls\",R=\"playing\",U=\"volume-off\",X=\"volume-on\",J='.--mc-player.theme-default {\\n  --activeColor: 136, 136, 136;\\n  --defaultColor: 136, 136, 136;\\n  --backgroundColor: 245, 245, 245, 1;\\n  --loopBarColor: rgba(var(--activeColor), 0.2);\\n  --grad-display: none;\\n}\\n\\n.--mc-player.theme-yellow {\\n  --activeColor: 255, 235, 59;\\n  --defaultColor: 255, 255, 255;\\n  --backgroundColor: 66, 66, 66, 1;\\n  --loopBarColor: rgba(var(--activeColor), 0.2);\\n  --grad-display: none;\\n}\\n\\n.--mc-player.theme-dark {\\n  --activeColor: 136, 136, 136;\\n  --defaultColor: 136, 136, 136;\\n  --backgroundColor: 0, 0, 0, 1;\\n  --loopBarColor: rgba(var(--activeColor), 0.2);\\n  --grad-display: none;\\n}\\n\\n.--mc-player.theme-whiteGold {\\n  --activeColor: 161, 127, 26;\\n  --defaultColor: 136, 136, 136;\\n  --backgroundColor: 245, 245, 245, 1;\\n  --loopBarColor: rgba(var(--activeColor), 0.2);\\n  --grad-display: none;\\n}\\n\\n.--mc-player.theme-darkGold {\\n  --activeColor: 161, 127, 26;\\n  --defaultColor: 136, 136, 136;\\n  --backgroundColor: 0, 0, 0, 1;\\n  --loopBarColor: rgba(var(--activeColor), 0.2);\\n  --grad-display: none;\\n}\\n.--mc-player.theme-transparent {\\n  --activeColor: 255, 0, 0;\\n  --defaultColor: 239, 238, 236;\\n  --backgroundColor: 0, 0, 0, 0;\\n  --loopBarColor: rgba(var(--defaultColor), 0.2);\\n  --grad-display: block;\\n}\\n\\n.--mc-player.theme-green {\\n  --activeColor: 0, 184, 139;\\n  --defaultColor: 153, 153, 153;\\n  --backgroundColor: 20, 20, 22, 1;\\n  --loopBarColor: rgba(var(--activeColor), 0.2);\\n  --grad-display: none;\\n}\\n.--mc-player.theme-blue {\\n  --activeColor: 0, 153, 225;\\n  --defaultColor: 153, 153, 153;\\n  --backgroundColor: 20, 20, 22, 1;\\n  --loopBarColor: rgba(var(--activeColor), 0.2);\\n  --grad-display: none;\\n}\\n.--mc-player * {\\n  color: rgb(var(--defaultColor));\\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica,\\n    Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\\n  font-size: 13px;\\n  cursor: default;\\n  user-select: none;\\n}\\n.--mc-player svg {\\n  width: 22px;\\n}\\n.--mcp-settings-panel svg {\\n  width: 10px;\\n}\\n.--mc-player svg,\\n.--mc-player svg * {\\n  fill: rgb(var(--defaultColor)) !important;\\n}\\n\\n.--mc-player {\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  pointer-events: none;\\n}\\n\\n.--mc-player * {\\n  box-sizing: border-box;\\n}\\n\\n.--mcp-background,\\n.--mcp-context {\\n  display: flex;\\n  flex-direction: column;\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  pointer-events: none;\\n}\\n.--mcp-background {\\n  background: black;\\n  z-index: -1000;\\n}\\n\\n.--mcp-pointer-events-panel {\\n  width: 100%;\\n  min-height: calc(100% - 44px);\\n}\\n\\n.--mcp-pointer-events-panel.loading {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  background: rgba(0, 0, 0, 0.8);\\n}\\n.--mcp-pointer-events-panel.loading svg {\\n  animation: spin 4s linear infinite;\\n}\\n\\n@keyframes spin {\\n  100% {\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n.--mcp-grad {\\n  display: var(--grad-display);\\n  position: absolute;\\n  bottom: 0px;\\n  left: 0px;\\n  width: 100%;\\n  height: 200px;\\n  z-index: 0;\\n  pointer-events: none !important;\\n  background-image: linear-gradient(\\n    rgba(0, 0, 0, 00.001),\\n    rgba(0, 0, 0, 00.004),\\n    rgba(0, 0, 0, 00.007),\\n    rgba(0, 0, 0, 00.01),\\n    rgba(0, 0, 0, 0.04),\\n    rgba(0, 0, 0, 0.07),\\n    rgba(0, 0, 0, 0.1),\\n    rgba(0, 0, 0, 0.15),\\n    rgba(0, 0, 0, 0.2),\\n    rgba(0, 0, 0, 0.25),\\n    rgba(0, 0, 0, 0.3),\\n    rgba(0, 0, 0, 0.35),\\n    rgba(0, 0, 0, 0.4),\\n    rgba(0, 0, 0, 0.45),\\n    rgba(0, 0, 0, 0.5),\\n    rgba(0, 0, 0, 0.55),\\n    rgba(0, 0, 0, 0.6),\\n    rgba(0, 0, 0, 0.65),\\n    rgba(0, 0, 0, 0.7),\\n    rgba(0, 0, 0, 0.75),\\n    rgba(0, 0, 0, 0.8),\\n    rgba(0, 0, 0, 0.88)\\n  );\\n}\\n\\n.--mc-player:hover .--mcp-controls {\\n  opacity: 1 !important;\\n}\\n.--mcp-controls:active {\\n  opacity: 1 !important;\\n}\\n.--mcp-controls {\\n  display: flex;\\n  flex-direction: column;\\n  position: relative;\\n  z-index: 1;\\n  background: rgba(var(--backgroundColor));\\n  height: 44px;\\n  padding: 0 15px;\\n  opacity: 0;\\n  transition: all ease 0.2s;\\n  pointer-events: auto;\\n}\\n.--mcp-force-show-controls {\\n  opacity: 1 !important;\\n}\\n\\n.--mcp-always-show-controls {\\n  opacity: 1 !important;\\n}\\n\\n.--mcp-progressbar {\\n  position: relative;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.--mcp-totalbar,\\n.--mcp-loopbar,\\n.--mcp-runningbar {\\n  position: relative;\\n  height: 5px;\\n}\\n\\n.--mcp-cursor {\\n  width: 14px;\\n  height: 14px;\\n  background-color: rgb(var(--activeColor));\\n  border-radius: 100%;\\n  position: absolute;\\n  top: -5px;\\n  right: -8px;\\n  z-index: 10;\\n}\\n\\n.--mcp-totalbar {\\n  min-width: 100%;\\n  background-color: rgba(var(--defaultColor), 0.3);\\n}\\n\\n.--mcp-loopbar {\\n  width: 100%;\\n  padding: 10px 0px;\\n  top: -10px;\\n  position: relative;\\n}\\n.--mcp-loopbar-color {\\n  position: absolute;\\n  left: 0px;\\n  bottom: 5px;\\n  background-color: var(--loopBarColor);\\n  width: 100%;\\n  height: 5px;\\n}\\n.--mcp-runningbar {\\n  background-color: rgb(var(--activeColor));\\n  width: 0px;\\n}\\n\\n.--mcp-buttons,\\n.--mcp-left-buttons,\\n.--mcp-right-buttons,\\n.--mcp-left-buttons > div,\\n.--mcp-right-buttons > div {\\n  z-index: 1;\\n  display: flex;\\n  align-items: center;\\n  gap: 5px;\\n}\\n\\n.--mcp-buttons,\\n.--mcp-left-buttons,\\n.--mcp-right-buttons {\\n  flex: 1;\\n  height: 100%;\\n  gap: 20px;\\n}\\n\\n.--mcp-left-buttons {\\n  justify-content: flex-start;\\n}\\n\\n.--mcp-right-buttons {\\n  justify-content: flex-end;\\n}\\n\\n.--mcp-preview {\\n  min-width: 100px;\\n  min-height: 100px;\\n  background-color: black;\\n  position: absolute;\\n  bottom: 50px;\\n  border: 3px solid;\\n  display: flex;\\n  box-sizing: content-box;\\n}\\n.--mcp-prevent-point-events {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 100;\\n}\\n.--mcp-preview-host {\\n  flex: 1;\\n  overflow: hidden;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.--mcp-preview-millisecond {\\n  position: absolute;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  bottom: -24px;\\n  left: 50%;\\n  transform: translateX(-50%);\\n}\\n\\n.--mcp-loop-boundaries {\\n  position: relative;\\n}\\n.--mcp-loop-boundaries:after {\\n  content: \"\";\\n  top: -4px;\\n  left: -6px;\\n  width: 13px;\\n  height: 13px;\\n  background-color: #aeaeae;\\n  position: absolute;\\n  border-radius: 100%;\\n  z-index: 100;\\n}\\n.--mcp-loopbar-start {\\n  left: -5px;\\n}\\n.--mcp-loopbar-end {\\n  right: 5px;\\n}\\n.--mcp-loopbar,\\n.--mcp-loopbar-color,\\n.--mcp-runningbar,\\n.--mcp-status-btn,\\n.--mcp-loop-boundaries,\\n.--mcp-cursor,\\n.--mcp-btn,\\n.--mcp-volume *,\\n.--mc-player svg,\\n.--mc-player svg * {\\n  cursor: pointer;\\n}\\n.--mcp-btn {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.--mcp-status-btn {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  gap: 3px;\\n}\\n.--mcp-indicator {\\n  font-size: 12px;\\n}\\n.--mcp-listener-helper {\\n  pointer-events: none;\\n}\\n\\n.--mcp-btn {\\n  font-size: 20px;\\n}\\n\\n.--mcp-volume-btn {\\n  font-size: 15px;\\n}\\n.--mcp-volumebar {\\n  width: 0;\\n  padding-left: 0px;\\n  padding-right: 0px;\\n  height: 100%;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  transition: all ease 0.2s;\\n}\\n.--mcp-volume {\\n  height: 100%;\\n}\\n.--mcp-volume:hover {\\n  padding-right: 10px;\\n}\\n.--mcp-volume:hover .--mcp-volumebar,\\n.--mcp-volume:active .--mcp-volumebar {\\n  width: 52px;\\n  padding-left: 5px;\\n}\\n.--mcp-volume:hover .--mcp-volume-cursor,\\n.--mcp-volume:active .--mcp-volume-cursor {\\n  display: block;\\n}\\n\\n.--mcp-btn::before {\\n  color: var(--defaultColor) !important;\\n}\\n.--mcp-btn::before:hover {\\n  filter: brightness(40);\\n}\\n.--mcp-settings-speed-hide {\\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\\n}\\nul.--mcp-speed-values {\\n  padding: 0px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\nul.--mcp-speed-values li {\\n  width: 100%;\\n}\\nul.--mcp-speed-values li p {\\n  width: 100%;\\n}\\n.--mcp-settings-panel ul {\\n  list-style-type: none;\\n  display: flex;\\n  flex-direction: column;\\n  padding: 5px 0px;\\n  margin: 0px;\\n  flex: 1;\\n}\\n\\n.--mcp-settings-panel ul li {\\n  flex: 1;\\n  display: flex;\\n  align-items: center;\\n  cursor: pointer;\\n  min-height: 40px;\\n  padding: 0px 21px;\\n}\\n.--mcp-settings-panel ul li * {\\n  cursor: pointer;\\n}\\n.--mcp-settings-panel ul li:not(.--mcp-no-hover):hover {\\n  background-color: rgba(var(--activeColor), 0.2);\\n}\\n\\n.--mcp-settings-panel ul li > div {\\n  display: flex;\\n  align-items: center;\\n  justify-content: flex-end;\\n  width: 48px;\\n  flex: 1;\\n  gap: 10px;\\n}\\n\\n.--mcp-settings-panel {\\n  width: 251px;\\n  position: absolute;\\n  background-color: rgba(28, 28, 28, 0.9);\\n  right: 15px;\\n  bottom: 50px;\\n  transition: all ease 0.2s;\\n  z-index: 1000;\\n  pointer-events: auto;\\n}\\n\\n.--mcp-speed-values {\\n  padding: 0px;\\n}\\n.--mcp-no-hover {\\n  padding: 0px !important;\\n}\\n.--mcp-speed-value-item:not(.--mcp-selected) {\\n  padding-left: 15px;\\n}\\n.--mcp-speed-value-item.--mcp-selected {\\n  padding-left: 10px;\\n}\\n.--mcp-speed-value .icon-check-solid {\\n  margin-left: -5px;\\n}\\n.--mcp-settings-panel ul.--mcp-speed-settings li > div {\\n  justify-content: flex-start;\\n  flex: unset;\\n  width: 20px;\\n}\\n\\n.--mcp-main-settings ul li > p {\\n  display: flex;\\n  align-items: center;\\n  padding-left: 10px;\\n  flex: 1;\\n}\\n\\n/* \\n\\nSliders \\n\\n*/\\n.--mc-player .switch {\\n  position: relative;\\n  display: inline-block;\\n  width: 36px;\\n  height: 14px;\\n}\\n\\n.--mc-player .switch input {\\n  display: none;\\n}\\n\\n.--mc-player .settings-switch::after {\\n  clear: both;\\n}\\n\\n.--mc-player .slider {\\n  position: absolute;\\n  cursor: pointer;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background-color: #999;\\n  -webkit-transition: 0.4s;\\n  transition: 0.4s;\\n}\\n\\n.--mc-player .slider:before {\\n  position: absolute;\\n  content: \"\";\\n  height: 20px;\\n  width: 20px;\\n  left: 0px;\\n  bottom: -3px;\\n  background-color: #cfcfcf;\\n  -webkit-transition: 0.4s;\\n  transition: 0.4s;\\n}\\n\\n.--mc-player input:checked + .slider {\\n  background-color: rgb(var(--activeColor));\\n}\\n.--mc-player input:checked + .slider:before {\\n  background-color: white;\\n}\\n\\n.--mc-player input:focus + .slider {\\n  box-shadow: 0 0 1px rgb(var(--activeColor));\\n}\\n\\n.--mc-player input:checked + .slider:before {\\n  -webkit-transform: translateX(16px);\\n  -ms-transform: translateX(16px);\\n  transform: translateX(16px);\\n}\\n\\n.--mc-player .slider.round {\\n  border-radius: 34px;\\n}\\n\\n.--mc-player .slider.round:before {\\n  border-radius: 50%;\\n}\\n\\n.--mc-player .m-fadeOut {\\n  visibility: hidden !important;\\n  opacity: 0 !important;\\n  display: none !important;\\n}\\n\\n.--mc-player .m-fadeIn {\\n  display: unset;\\n  visibility: visible !important;\\n  opacity: 1 !important;\\n}\\n\\n.--mcp-volume-cursor {\\n  position: absolute;\\n  width: 14px;\\n  height: 14px;\\n  background-color: rgb(var(--defaultColor));\\n  right: -8px;\\n  border-radius: 100%;\\n  display: none;\\n}\\n.--mcp-volumebar-color {\\n  width: 100%;\\n  height: 3px;\\n  background-color: rgba(var(--defaultColor), 0.3);\\n}\\n.--mcp-volumebar-color-active {\\n  width: 100%;\\n  height: 100%;\\n  background-color: rgb(var(--defaultColor));\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  position: relative;\\n}\\n';function G(e){var t=e.clip.props.host.className.includes(\"full-screen\");e.clip.props.host!==e.options.host&&(t?e.options.host.appendChild(e.elements.mcPlayer):e.clip.props.host.appendChild(e.elements.mcPlayer)),t?e.exitFullscreen():e.launchIntoFullscreen(e.clip.props.host)}function q(e){e.settings.loopActivated=!e.settings.loopActivated,e.eventBroadcast(p,e.settings.loopActivated),e.elements.loopButton.classList.toggle(\"svg-selected\"),e.elements.loopBarStart.classList.toggle(\"m-fadeOut\"),e.elements.loopBarEnd.classList.toggle(\"m-fadeOut\"),e.elements.loopBarStart.classList.toggle(\"m-fadeIn\"),e.elements.loopBarStart.classList.toggle(\"\".concat(e.name,\"-hide\")),e.elements.loopBarEnd.classList.toggle(\"m-fadeIn\"),e.elements.loopBarEnd.classList.toggle(\"\".concat(e.name,\"-hide\")),e.settings.needsUpdate=!0,e.settings.loopActivated||(e.elements.loopBar.style.left=\"0%\",e.elements.loopBar.style.width=\"100%\",e.settings.loopStartMillisecond=0,e.settings.loopEndMillisecond=e.clip.duration,e.settings.loopLastPositionXPxls=0,e.settings.loopLastPositionXPercentage=0,e.elements.runningBar.style.width=e.clip.runTimeInfo.currentMillisecond/e.clip.duration*100+\"%\")}var K=function(e){if(!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){var t=Q(e),n=t.loopBarMouseIn,s=t.loopBarMouseOut,o=t.loopBarAddListeners,i=t.loopBarMouseMove;e.elements.loopBar.onmouseover=n,e.elements.loopBar.onmouseout=s,e.elements.loopBar.onmousedown=function(){e.options.preview&&(e.elements.loopBar.onmouseover=e.elements.loopBar.onmouseout=null,e.elements.loopBar.onmousemove=null,T(o,i))},e.elements.loopBar.onmouseup=function(){e.options.preview&&(z(o,i),e.elements.loopBar.onmouseover=n,e.elements.loopBar.onmouseout=s,e.elements.loopBar.onmousemove=i)}}},Q=function(e){var t=function(){e.options.preview&&(e.elements.preview.classList.add(\"m-fadeIn\"),e.elements.preview.classList.remove(\"m-fadeOut\"),e.elements.loopBar.onmousemove=s)},n=function(){e.options.preview&&(e.elements.preview.classList.remove(\"m-fadeIn\"),e.elements.preview.classList.add(\"m-fadeOut\"),e.elements.loopBar.onmousemove=s)},s=function(t){var n=t.clientX,s=e.elements.loopBar.getBoundingClientRect();if(n-s.left+e.settings.loopLastPositionXPxls>e.settings.loopLastPositionXPxls+e.elements.loopBar.offsetWidth&&!e.settings.resizeLoop)e.elements.previewMillisecond.innerHTML=e.timeFormat(e.settings.loopEndMillisecond);else if(n-s.left<0&&!e.settings.resizeLoop)e.elements.previewMillisecond.innerHTML=e.timeFormat(e.settings.loopStartMillisecond);else{var o=n-s.left+e.settings.loopLastPositionXPxls;o<0&&(o=0);var i=e.elements.preview.offsetWidth/2,l=e.elements.preview.offsetWidth/2,r=o-l;o-i<0?r=0:o+i>e.elements.totalBar.offsetWidth&&(r=e.elements.totalBar.offsetWidth-l-i);var a=Math.round(o/e.elements.totalBar.offsetWidth*e.clip.duration);if(e.options.preview){var c=a/e.clip.duration;e.previewClip.onProgress(c,a)}e.elements.previewMillisecond.innerHTML=e.timeFormat(a),e.elements.preview.style.left=\"\".concat(r,\"px\")}};return{loopBarMouseIn:t,loopBarMouseOut:n,loopBarAddListeners:function o(){e.options.preview&&(n(),e.elements.loopBar.onmouseover=t,e.elements.loopBar.onmouseout=n,e.elements.loopBar.onmousemove=s,z(o,s))},loopBarMouseMove:s}},Y=function(e){e.elements.showIndicatorCheckbox.checked?(e.elements.showIndicatorCheckbox.checked=!1,e.elements.indicator.style.display=\"none\"):(e.elements.showIndicatorCheckbox.checked=!0,e.elements.indicator.style.display=void 0),e.eventBroadcast(\"show-indicator-change\",e.elements.showIndicatorCheckbox.checked)},Z=function(e){e.elements.showPointerEventsCheckbox.checked?(e.elements.showPointerEventsCheckbox.checked=!1,e.elements.mcPlayer.style.pointerEvents=\"none\",e.elements.pointerEventPanel.style.pointerEvents=\"auto\",e.elements.controls.style.pointerEvents=\"auto\",e.elements.settingsPanel.style.pointerEvents=\"auto\"):(e.elements.showPointerEventsCheckbox.checked=!0,e.options.pointerEvents=!1,e.elements.mcPlayer.style.pointerEvents=\"none\",e.elements.pointerEventPanel.style.pointerEvents=\"none\",e.elements.controls.style.pointerEvents=\"auto\",e.elements.settingsPanel.style.pointerEvents=\"auto\"),e.eventBroadcast(\"show-pointer-events-change\",e.elements.showPointerEventsCheckbox.checked)},$=function(e){e.elements.volumeControl.classList.toggle(\"m-fadeOut\"),e.elements.showVolumeCheckbox.checked?e.elements.showVolumeCheckbox.checked=!1:e.elements.showVolumeCheckbox.checked=!0,e.eventBroadcast(d,e.elements.showVolumeCheckbox.checked)},_=function(e){e.elements.showPreviewCheckbox.checked?(e.elements.showPreviewCheckbox.checked=!1,e.elements.preview.style.display=\"none\",e.elements.preview.style.display=\"unset\",e.options.preview=!1):(e.previewClip||e.createPreviewDisplay(),e.elements.showPreviewCheckbox.checked=!0,e.elements.preview.style.display=\"flex\",e.options.preview=!0),e.eventBroadcast(m,e.elements.showPreviewCheckbox.checked)};function ee(e,t){\"showIndicator\"===t?Y(e):\"showPointerEvents\"===t?Z(e):\"showVolume\"===t?$(e):\"showPreview\"===t&&_(e)}function te(e,t,n){var o=e.elements;void 0!==s(n)&&(!1===n?(o.volumeBarActive.style.width=\"\".concat(100*e.settings.volume,\"%\"),e.clip.setVolume(e.settings.previousVolume),e.settings.volumeMute=!1,V(o.volumeBtn,U,X)):!0===n&&(e.settings.volumeMute=!0,o.volumeBarActive.style.width=\"0%\",e.clip.setVolume(0),V(o.volumeBtn,X,U)),e.options.muted=e.settings.volumeMute,e.eventBroadcast(a,e.settings.volumeMute)),void 0!==s(t)&&(e.settings.volume=t,e.settings.volume>0&&(e.settings.previousVolume=t),o.volumeBarActive.style.width=\"\".concat(100*e.settings.volume,\"%\"),e.clip.setVolume(e.settings.volume),e.settings.volume>0?(e.settings.volumeMute=!1,V(o.volumeBtn,U,X)):0===e.settings.volume&&(e.settings.volumeMute=!0,V(o.volumeBtn,U,X)),e.options.volume=e.settings.volume,e.eventBroadcast(r,e.settings.volume),e.eventBroadcast(a,e.settings.volumeMute))}var ne=new e.TimeCapsule;return function(){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.options=this.initializeOptions(e),this.className=l,this.id=this.options.id,this.name=l,this.previewClip=null,this.clip=e.clip,this.clipClass=e.clipClass,this.state=this.clip.runTimeInfo.state,this.listeners={},this.previewScale=.25,this.settings={volume:1,journey:null,previousVolume:1,volumeMute:!1,needsUpdate:!0,resizeLoop:!1,loopJourney:!1,previewJourney:null,loopActivated:!1,requestingLoop:!1,playAfterResize:!1,loopStartMillisecond:0,loopLastPositionXPxls:0,loopLastPositionXPercentage:0,loopEndMillisecond:this.clip.duration,controls:!0},F(this),this.setTheme(),this.setSpeed(),this.subscribeToTimer(),this.subscribeToDurationChange(),this.addEventListeners(),this.scaleClipHost(),this.eventBroadcast(h,this.state),this.options.preview&&this.createPreviewDisplay();var s=new ResizeObserver((function(){n.options.preview&&n.setPreviewDimentions(),n.options.scaleToFit&&n.scaleClipHost()}));this.changeSettings(e,!0),s.observe(this.options.host),this.options.autoPlay&&this.play()}var s,i,g;return s=t,(i=[{key:\"initializeOptions\",value:function(e){var t,n,s,o,i,l,r,a,c,p,u,d,m,h,v,g,f,y,b,w;for(var x in null!==(t=e.id)&&void 0!==t||(e.id=Date.now()),null!==(n=e.preview)&&void 0!==n||(e.preview=!1),null!==(s=e.showVolume)&&void 0!==s||(e.showVolume=!1),null!==(o=e.showIndicator)&&void 0!==o||(e.showIndicator=!1),null!==(i=e.theme)&&void 0!==i||(e.theme=\"transparent position-ontop\"),null!==(l=e.host)&&void 0!==l||(e.host=e.clip.props.host),null!==(r=e.buttons)&&void 0!==r||(e.buttons={}),null!==(a=e.timeFormat)&&void 0!==a||(e.timeFormat=\"ss\"),null!==(c=e.backgroundColor)&&void 0!==c||(e.backgroundColor=\"black\"),null!==(p=e.fullscreen)&&void 0!==p||(e.fullscreen=!1),null!==(u=e.scaleToFit)&&void 0!==u||(e.scaleToFit=!0),null!==(d=e.pointerEvents)&&void 0!==d||(e.pointerEvents=!1),null!==(m=e.onMillisecondChange)&&void 0!==m||(e.onMillisecondChange=null),null!==(h=e.speedValues)&&void 0!==h||(e.speedValues=[-2,-1,-.5,0,.5,1,2]),null!==(v=e.speed)&&void 0!==v||(e.speed=1),null!==(g=e.muted)&&void 0!==g||(e.muted=!1),null!==(f=e.controls)&&void 0!==f||(e.controls=!0),null!==(y=e.loop)&&void 0!==y||(e.loop=!1),null!==(b=e.volume)&&void 0!==b||(e.volume=1),null!==(w=e.currentScript)&&void 0!==w||(e.currentScript=null),e.speedValues)isFinite(e.speedValues[x])||e.speedValues.splice(x,1);return e.speedValues.sort((function(e,t){return e-t})),e}},{key:\"play\",value:function(){this.clip.play()}},{key:\"pause\",value:function(){this.clip.pause()}},{key:\"changeSettings\",value:function(e,t){var s=this;(e=this.initializeOptions(n(n({},this.options),e))).clip!==this.options.clip&&(t=!0,this.clip=e.clip,this.options.clip=e.clip),!1===e.controls?this.elements.mcPlayer.style.display=\"none\":!0===e.controls&&(this.elements.mcPlayer.style.display=\"block\");var o={loop:function(){return q(s)},fullscreen:function(){return G(s)},muted:function(){return te(s,void 0,e.mute)},volume:function(){return te(s,e.volume)},speed:function(){return function(e,t){t=parseFloat(t)||1,e.eventBroadcast(c,t);var n=1==t?\"Normal\":t;e.clip.executionSpeed=t,e.elements.speedCurrent.innerHTML=n}(s,e.speed)},scaleToFit:function(){s.options.scaleToFit=e.scaleToFit,s.scaleClipHost()},showVolume:function(){return ee(s,\"showVolume\")},preview:function(){return ee(s,\"showPreview\")},theme:function(){s.options.theme=e.theme,s.setTheme()},overflow:function(){s.clip.props.host.shadowRoot.children[0].style.overflow=e.overflow},outline:function(){s.clip.props.host.shadowRoot.children[0].style.outline=e.outline},visible:function(){\"always\"==e.visible?s.elements.controls.classList.add(\"--mcp-always-show-controls\"):\"normal\"==e.visible&&s.elements.controls.classList.remove(\"--mcp-always-show-controls\")}},i=[\"fullscreen\",\"muted\",\"volume\",\"speed\",\"scaleToFit\",\"loop\",\"overflow\",\"outline\",\"visible\"];for(var l in o)void 0!==e[l]&&(this.options[l]!==e[l]||t&&this.options[l]&&i.includes(l))&&o[l]();this.options=n(n({},this.options),e)}},{key:\"scaleClipHost\",value:function(){if(this.options.scaleToFit){var e=this.clip.props.containerParams,t=E({width:e.width,height:e.height},{width:this.clip.props.host.offsetWidth,height:this.clip.props.host.offsetHeight-(\"always\"==this.options.visible?44:0)},\"cover\"===this.options.scaleToFit);this.clip.realClip.rootElement.style.transform=\"scale(\".concat(t.scale),this.clip.realClip.rootElement.style.left=\"\".concat(t.position.left,\"px\"),this.clip.realClip.rootElement.style.top=\"\".concat(t.position.top,\"px\")}else this.clip.realClip.rootElement.style.transform=\"scale(1)\",this.clip.realClip.rootElement.style.left=\"0px\",this.clip.realClip.rootElement.style.top=\"0px\";this.eventBroadcast(u,this.options.scaleToFit)}},{key:\"createLoop\",value:function(e,t){this.settings.loopStartMillisecond=e,this.settings.loopEndMillisecond=t,this.elements.loopBar.style.left=\"\".concat(e/this.clip.duration*100,\"%\"),this.elements.loopBar.style.width=\"\".concat((t-e)/this.clip.duration*100,\"%\"),this.createJourney(e),this.elements.runningBar.style.width=\"0%\",!this.settings.loopActivated&&q(this)}},{key:\"createJourney\",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.clip;setTimeout((function(){var o=n.before,i=void 0===o?null:o,l=n.after,r=void 0===l?null:l;i&&s[i](),t.settings.journey=ne.startJourney(s),t.settings.journey.station(e),t.settings.journey.destination(),r&&s[r]()}),0)}},{key:\"millisecondChange\",value:function(e,t,n,s){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this.state!==t&&(this.state=t,this.eventBroadcast(h,t)),!this.settings.needsUpdate)return this.clip.pause(),1;var i=this.settings.loopActivated;i&&this.clip.speed&&this.calculateJourney(e);var l=this.clip.duration,r=this.elements,a=r.totalBar,c=r.loopBar,p=c.offsetWidth,u=c.offsetLeft/a.offsetWidth,d=e-l*u,m=l/a.offsetWidth*p;s&&this.createJourney(e,{after:this.settings.playAfterResize?\"play\":null}),this.elements.runningBar.style.width=d/m*100+\"%\",this.elements.currentTime.innerHTML=this.timeFormat(e),this.options.onMillisecondChange&&o&&this.options.onMillisecondChange(e)}},{key:\"calculateJourney\",value:function(e){var t=this.settings,n=t.loopEndMillisecond,s=t.loopStartMillisecond,o=e>n||e===this.clip.duration,i=e<s||0===e,l=this.clip.speed>0;if(this.clip.runTimeInfo.state===R)if(l){if(o)return this.createJourney(s+1,{after:\"play\"}),!0}else if(i)return this.createJourney(n-1,{after:\"play\"}),!0;return!1}},{key:\"broadcastNotPlaying\",value:function(e){this.elements.controls.classList.value.includes(N)||this.elements.controls.classList.toggle(N),V(this.elements.statusButton,\"pause\",\"play\"),this.elements.indicator.innerHTML=\"\".concat(e.charAt(0).toUpperCase()+e.slice(1)),\"blocked\"==e?this.addSpinner():this.removeSpinner()}},{key:\"changeInitParams\",value:function(t){this.clip.pause();var n=this.clip.exportLiveDefinition();for(var s in n.props.host=this.clip.props.host,n.props.initParams=t,this.clip.realClip.context.unmount(),this.clip)delete this.clip[s];this.clip=e.utils.clipFromDefinition(n),this.subscribeToTimer(),this.subscribeToDurationChange()}},{key:\"addSpinner\",value:function(){V(this.elements.pointerEventPanel,null,\"spinner\"),this.elements.pointerEventPanel.classList.add(\"loading\")}},{key:\"removeSpinner\",value:function(){V(this.elements.pointerEventPanel,\"spinner\",null),this.elements.pointerEventPanel.classList.remove(\"loading\")}},{key:\"broadcastPlaying\",value:function(e){this.removeSpinner(),this.elements.controls.classList.value.includes(N)&&this.elements.controls.classList.toggle(N),this.elements.indicator.innerHTML=\"Playing\",V(this.elements.statusButton,\"play\",\"pause\"),e===R&&(this.clip.runTimeInfo.currentMillisecond===this.clip.duration&&this.clip.speed>=0?this.createJourney(1,{after:\"play\"}):(this.clip.runTimeInfo.currentMillisecond===this.clip.duration||0===this.clip.runTimeInfo.currentMillisecond)&&this.clip.speed<0&&this.createJourney(this.clip.duration-1,{after:\"play\"}))}},{key:\"broadcastDurationChange\",value:function(){this.elements.totalTime.innerHTML=this.timeFormat(this.clip.duration),this.settings.loopEndMillisecond=this.clip.duration,this.elements.pointerEventPanel.innerHTML=\"\",this.millisecondChange(this.clip.runTimeInfo.currentMillisecond)}},{key:\"broadcastVolumeChange\",value:function(e){this.options.volume=e,this.options.currentScript.dataset.volume=e}},{key:\"broadcastSpeedChange\",value:function(e){this.options.speed=e,this.options.currentScript.dataset.speed=e}},{key:\"broadcastMuteChange\",value:function(e){e?(this.options.muted=!0,this.options.currentScript.dataset.muted=\"\"):(this.options.muted=!1,delete this.options.currentScript.dataset.muted)}},{key:\"broadcastLoopChange\",value:function(e){e?(this.options.loop=!0,this.options.currentScript.dataset.loop=\"\"):(this.options.loop=!1,delete this.options.currentScript.dataset.loop)}},{key:\"broadcastScaleChange\",value:function(e){e?(this.options.scaleToFit=!0,this.options.currentScript.dataset.scaleToFit=\"\"):(this.options.scaleToFit=!1,delete this.options.currentScript.dataset.scaleToFit)}},{key:\"broadcastShowVolumeChange\",value:function(e){e?(this.options.showVolume=!0,this.options.currentScript.dataset.showVolume=\"\"):(this.options.showVolume=!1,delete this.options.currentScript.dataset.showVolume)}},{key:\"broadcastShowPreviewChange\",value:function(e){e?(this.options.preview=!0,this.options.currentScript.dataset.preview=\"\"):(this.options.preview=!1,delete this.options.currentScript.dataset.preview)}},{key:\"broadcastToScript\",value:function(e,t){e===r?this.broadcastVolumeChange(t):e===c?this.broadcastSpeedChange(t):e===a?this.broadcastMuteChange(t):e===p?this.broadcastLoopChange(t):e===u?this.broadcastScaleChange(t):e===d?this.broadcastShowVolumeChange(t):e===m&&this.broadcastShowPreviewChange(t)}},{key:\"eventBroadcast\",value:function(e,t){e===h?(this.options.currentScript&&(this.options.currentScript.dataset.status=t),[\"paused\",\"idle\",\"transitional\",\"armed\",\"blocked\"].includes(t)?this.broadcastNotPlaying(t):this.broadcastPlaying(t)):e===v?this.broadcastDurationChange():this.options.currentScript&&this.broadcastToScript(e,t)}},{key:\"subscribeToDurationChange\",value:function(){this.clip.subscribeToDurationChange(this.subscribeToDurationChangeCallback.bind(this))}},{key:\"subscribeToDurationChangeCallback\",value:function(){this.eventBroadcast(v)}},{key:\"subscribeToTimer\",value:function(){this.clip.subscribe(this.id,this.millisecondChange.bind(this))}},{key:\"handleDragStart\",value:function(){this.settings.needsUpdate=!0,this.settings.journey=ne.startJourney(this.clip)}},{key:\"timeFormat\",value:function(e){if(\"ss\"===this.options.timeFormat){var t=e/1e3/60/60,n=t%1*60,s=n%1*60,o=(\"0\"+parseInt(t)).slice(-2),i=(\"0\"+parseInt(n)).slice(-2),l=(\"0\"+parseInt(s)).slice(-2);return\"\".concat(\"00\"===o?\"\":o+\":\").concat(i,\":\").concat(l)}return e}},{key:\"handleDrag\",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];isFinite(e)||(e=0);var n=this.clip.duration,s=this.settings.journey,o=this.elements,i=o.loopBar,l=o.totalBar,r=o.runningBar,a=o.currentTime,c=e+i.offsetLeft,p=Math.round(n*c/l.offsetWidth);a.innerHTML=this.timeFormat(p),r.style.width=e/i.offsetWidth*100+\"%\",s.station(p),this.options.onMillisecondChange&&t&&this.options.onMillisecondChange(p)}},{key:\"handleDragEnd\",value:function(){this.settings.journey.destination()}},{key:\"createProgressDrag\",value:function(e){this.handleDragStart(),this.handleDrag(e),this.handleDragEnd()}},{key:\"addEventListeners\",value:function(){var e;(e=this).listeners.onCursorMoveLoopEnd=function(t){var n=(t.clientX||((t.touches||[])[0]||{}).clientX)-e.elements.totalBar.getBoundingClientRect().left;n<0?n=0:n>e.elements.totalBar.offsetWidth&&(n=e.elements.totalBar.offsetWidth),e.elements.runningBar.offsetWidth>=e.elements.loopBar.offsetWidth&&(e.elements.runningBar.style.width=e.elements.loopBar.offsetWidth+\"px\"),e.settings.loopLastPositionXPxls-n<0?e.elements.loopBar.style.width=Math.abs(e.settings.loopLastPositionXPxls-n)+\"px\":(e.elements.loopBar.style.left=n+\"px\",e.settings.loopLastPositionXPxls=n),e.settings.loopEndMillisecond=Math.round(e.clip.duration*((parseFloat(e.elements.loopBar.style.left)||0)+parseFloat(e.elements.loopBar.style.width))/e.elements.totalBar.offsetWidth),e.settings.loopEndMillisecond<e.clip.runTimeInfo.currentMillisecond&&(e.settings.loopJourney=!0),e.settings.loopStartMillisecond>e.settings.loopEndMillisecond&&(e.settings.loopStartMillisecond=e.settings.loopEndMillisecond,e.settings.loopJourney=!0)},e.listeners.onMouseUpLoopEnd=function(){e.elements.listenerHelper.style.pointerEvents=\"none\",e.settings.resizeLoop=!1;var t,n=e.elements,s=n.loopBar,o=n.totalBar,i=n.runningBar;i.style.width=i.offsetWidth/s.offsetWidth*100+\"%\",s.style.left=\"\".concat(s.offsetLeft/o.offsetWidth*100,\"%\"),s.style.width=\"\".concat(s.offsetWidth/o.offsetWidth*100,\"%\"),e.settings.loopJourney&&(e.createProgressDrag(i.offsetWidth),e.settings.loopJourney=!1),z(e.listeners.onMouseUpLoopEnd,e.listeners.onCursorMoveLoopEnd),I(e.listeners.onMouseDown,s,!0),e.settings.playAfterResize&&(\"idle\"===e.clip.runTimeInfo.state||\"completed\"===e.clip.runTimeInfo.state?(t=e.clip.speed>=0?e.settings.loopStartMillisecond+1:e.settings.loopEndMillisecond-1,e.settings.needsUpdate=!0,e.createJourney(t,{before:\"pause\",after:\"play\"})):e.clip.play(),e.settings.playAfterResize=!1)},e.listeners.onMouseDownLoopEnd=function(t){e.elements.listenerHelper.style.pointerEvents=\"auto\",e.settings.resizeLoop=!0,e.settings.needsUpdate=!0,\"playing\"===e.clip.runTimeInfo.state&&(e.clip.pause(),e.settings.playAfterResize=!0),e.elements.runningBar.style.width=\"\".concat(e.elements.runningBar.offsetWidth,\"px\");var n=e.elements.loopBar;n.style.left=\"\".concat(n.offsetLeft,\"px\"),n.style.width=\"\".concat(n.offsetWidth,\"px\"),H(e.listeners.onMouseDown,n),e.listeners.onCursorMoveLoopEnd(t),T(e.listeners.onMouseUpLoopEnd,e.listeners.onCursorMoveLoopEnd)},I(e.listeners.onMouseDownLoopEnd,e.elements.loopBarEnd,!1),function(e){e.listeners.onCursorMove=function(t){var n=(t.clientX||((t.touches||[])[0]||{}).clientX)-e.elements.loopBar.getBoundingClientRect().left;n<0?n=0:n>e.elements.loopBar.offsetWidth&&(n=e.elements.loopBar.offsetWidth),e.handleDrag(n)},e.listeners.onMouseUp=function(){e.elements.listenerHelper.style.pointerEvents=\"none\",z(e.listeners.onMouseUp,e.listeners.onCursorMove),e.handleDragEnd(e.settings)},e.listeners.onMouseDown=function(t){e.elements.listenerHelper.style.pointerEvents=\"auto\",\"playing\"===e.clip.runTimeInfo.state&&(e.settings.playAfterResize=!0),e.handleDragStart(e.clip),e.listeners.onCursorMove(t),T(e.listeners.onMouseUp,e.listeners.onCursorMove)},I(e.listeners.onMouseDown,e.elements.loopBar)}(this),function(e){e.listeners.onCursorMoveLoopStart=function(t){var n=t.clientX||((t.touches||[])[0]||{}).clientX,s=e.elements.totalBar.getBoundingClientRect(),o=Math.round(n-s.left),i=Math.round(e.settings.loopEndMillisecond/e.clip.duration*e.elements.totalBar.offsetWidth);o<0?o=0:o>e.elements.totalBar.offsetWidth&&(o=e.elements.totalBar.offsetWidth);var l=e.clip.runTimeInfo.currentMillisecond/e.clip.duration*e.elements.totalBar.offsetWidth-o;e.elements.loopBar.style.left=o+\"px\",e.elements.loopBar.style.width=i-o+\"px\",e.elements.runningBar.style.width=l+\"px\",e.settings.loopLastPositionXPxls=o,e.settings.loopStartMillisecond=Math.round(e.clip.duration*e.elements.loopBar.offsetLeft/e.elements.totalBar.offsetWidth),e.settings.loopEndMillisecond<e.settings.loopStartMillisecond&&(e.settings.loopEndMillisecond=e.settings.loopStartMillisecond,e.elements.loopBar.style.width=\"0px\",e.elements.runningBar.style.width=\"0px\"),e.settings.loopStartMillisecond>e.clip.runTimeInfo.currentMillisecond&&(e.settings.loopJourney=!0)},e.listeners.onMouseUpLoopStart=function(){var t;e.elements.listenerHelper.style.pointerEvents=\"none\",e.settings.resizeLoop=!1,e.settings.loopJourney&&(e.createProgressDrag(e.elements.runningBar.offsetWidth),e.settings.loopJourney=!1),e.elements.loopBar.style.left=e.elements.loopBar.offsetLeft/e.elements.totalBar.offsetWidth*100+\"%\",e.elements.loopBar.style.width=e.elements.loopBar.offsetWidth/e.elements.totalBar.offsetWidth*100+\"%\",e.settings.loopStartMillisecond=Math.round(e.clip.duration*e.elements.loopBar.offsetLeft/e.elements.totalBar.offsetWidth),e.elements.runningBar.style.width=e.elements.runningBar.offsetWidth/e.elements.loopBar.offsetWidth*100+\"%\",z(e.listeners.onMouseUpLoopStart,e.listeners.onCursorMoveLoopStart),I(e.listeners.onMouseDown,e.elements.loopBar,!0),e.settings.playAfterResize&&(\"idle\"===e.clip.runTimeInfo.state?(t=e.clip.speed>=0?e.settings.loopStartMillisecond+1:e.settings.loopEndMillisecond-1,e.settings.needsUpdate=!0,e.createJourney(t,{before:\"pause\",after:\"play\"})):e.clip.play(),e.settings.playAfterResize=!1)},e.listeners.onMouseDownLoopStart=function(t){e.elements.listenerHelper.style.pointerEvents=\"auto\",e.settings.resizeLoop=!0,e.settings.needsUpdate=!0,\"playing\"===e.clip.runTimeInfo.state&&(e.clip.pause(),e.settings.playAfterResize=!0),H(e.listeners.onMouseDown,e.elements.loopBar),e.listeners.onCursorMoveLoopStart(t),T(e.listeners.onMouseUpLoopStart,e.listeners.onCursorMoveLoopStart)},I(e.listeners.onMouseDownLoopStart,e.elements.loopBarStart)}(this),function(e){var t=e.elements,n=!1;t.volumeBtn.onclick=function(){e.settings.volumeMute?(t.volumeBarActive.style.width=\"\".concat(100*e.settings.volume,\"%\"),e.clip.setVolume(e.settings.previousVolume),t.volumeBarActive.style.width=\"\".concat(100*e.settings.previousVolume,\"%\"),e.settings.volumeMute=!1,V(t.volumeBtn,U,X)):(e.settings.volumeMute=!0,V(t.volumeBtn,X,U),t.volumeBarActive.style.width=\"0%\",e.clip.setVolume(0)),e.eventBroadcast(r,e.settings.previousVolume),e.eventBroadcast(a,e.settings.volumeMute)};var s=!1;t.volumeBtn.onmouseover=function(){s=!0},e.elements.leftButtons.onmouseout=function(){if(s&&!n){var t=event.toElement||event.relatedTarget||event.target;t===e.elements.leftButtons||function(e,t){for(var n=t.parentNode;null!=n;){if(n==e)return!0;n=n.parentNode}return!1}(e.elements.leftButtons,t)||(s=!1)}};var o=e.listeners;o.onCursorMoveVolumeBar=function(n){var s=(n.clientX||((n.touches||[])[0]||{}).clientX)-t.volumeBarHelper.getBoundingClientRect().left;if(s<0?s=0:s>t.volumeBarHelper.offsetWidth&&(s=t.volumeBarHelper.offsetWidth),e.settings.volume=Number((s/t.volumeBarHelper.offsetWidth).toFixed(2)),t.volumeBarActive.style.width=\"\".concat(100*e.settings.volume,\"%\"),e.clip.setVolume(e.settings.volume),e.settings.volume>=0){var o=0===e.settings.volume;e.settings.volumeMute=o,o?V(t.volumeBtn,X,U):V(t.volumeBtn,U,X)}e.eventBroadcast(r,e.settings.volume),e.eventBroadcast(a,e.settings.volumeMute)},o.onMouseUpVolumeBar=function(){n=!1,t.listenerHelper.style.pointerEvents=\"none\",e.settings.volume>0&&(e.settings.previousVolume=e.settings.volume),z(o.onMouseUpVolumeBar,o.onCursorMoveVolumeBar)},o.onMouseDownVolumeBar=function(e){n=!0,t.listenerHelper.style.pointerEvents=\"auto\",o.onCursorMoveVolumeBar(e),T(o.onMouseUpVolumeBar,o.onCursorMoveVolumeBar)},I(o.onMouseDownVolumeBar,t.volumeBarHelper),I(o.onMouseDownVolumeBar,t.volumeCursor)}(this),function(e){e.elements.statusButton.onclick=function(){switch(e.clip.runTimeInfo.state){case\"playing\":e.clip.pause();break;case\"paused\":case\"idle\":case\"transitional\":case\"armed\":e.clip.play()}return!1}}(this),function(e){e.elements.settingsShowIndicator.onclick=function(){return Y(e)},e.elements.settingsPointerEvents.onclick=function(){return Z(e)},e.elements.settingsShowVolume.onclick=function(){return $(e)},e.elements.settingsShowPreview.onclick=function(){return _(e)},e.elements.settingsButton.onclick=function(){var t=function t(n){if(e.elements.settingsPanel.contains(n.target))return!0;e.elements.settingsPanel.classList.toggle(\"\".concat(e.name,\"-hide\")),e.elements.settingsPanel.classList.toggle(\"m-fadeOut\"),e.elements.settingsPanel.classList.toggle(\"m-fadeIn\"),e.elements.settingsPanel.className.includes(\"m-fadeOut\")&&(L(\"click\",t,!1),e.eventBroadcast(h,e.state))};e.elements.settingsPanel.className.includes(\"m-fadeOut\")?(e.elements.controls.classList.value.includes(\"--mcp-force-show-controls\")||e.elements.controls.classList.toggle(\"--mcp-force-show-controls\"),C(\"click\",t,!1)):L(\"click\",t,!1)}}(this),function(e){e.elements.settingsSpeedButtonShow.onclick=e.elements.settingsSpeedButtonHide.onclick=function(){e.elements.settingsPanel.classList.toggle(\"\".concat(e.name,\"-settings-speed-panel\")),e.elements.settingsPanel.className.includes(\"\".concat(e.name,\"-settings-speed-panel\"))?(e.elements.settingsMainPanel.style.display=\"none\",e.elements.settingsSpeedPanel.style.display=\"block\"):(e.elements.settingsSpeedPanel.style.display=\"none\",e.elements.settingsMainPanel.style.display=\"block\")}}(this),function(e){e.elements.loopButton.onclick=function(){return q(e)}}(this),function(e){e.elements.fullScreenButton.onclick=function(){return G(e)}}(this),A(this),K(this),function(e){function t(){e.elements.mcPlayer.classList.toggle(\"full-screen\"),e.clip.props.host.classList.toggle(\"full-screen\"),e.options.preview&&e.setPreviewDimentions()}C(\"fullscreenchange\",t),C(\"webkitfullscreenchange\",t),C(\"mozfullscreenchange\",t),C(\"MSFullscreenChange\",t)}(this)}},{key:\"launchIntoFullscreen\",value:function(e){this.options.preview&&this.setPreviewDimentions(),e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}},{key:\"exitFullscreen\",value:function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}},{key:\"setTheme\",value:function(){this.options.theme.replace(/\\s\\s+/g,\" \"),this.options.theme.trim();var e,t,n=\"position-ontop\",s=\"position-bottom\";if(this.options.theme.includes(n)||this.options.theme.includes(s)||(this.options.theme+=\" \".concat(n)),this.options.theme.includes(n)?this.elements.mcPlayer.classList.add(n):this.elements.mcPlayer.classList.add(s),this.options.theme.includes(\"default\")?this.elements.mcPlayer.classList.add(\"theme-default\"):this.options.theme.includes(\"transparent\")?this.elements.mcPlayer.classList.add(\"theme-transparent\"):this.options.theme.includes(\"whiteGold\")?this.elements.mcPlayer.classList.add(\"theme-whiteGold\"):this.options.theme.includes(\"darkGold\")?this.elements.mcPlayer.classList.add(\"theme-darkGold\"):this.options.theme.includes(\"green\")?this.elements.mcPlayer.classList.add(\"theme-green\"):this.options.theme.includes(\"blue\")?this.elements.mcPlayer.classList.add(\"theme-blue\"):this.options.theme.includes(\"dark\")?this.elements.mcPlayer.classList.add(\"theme-dark\"):this.options.theme.includes(\"yellow\")&&this.elements.mcPlayer.classList.add(\"theme-yellow\"),t=\"--mc-player-style\",!document.getElementById(t)){var o=k(\"style\");o.id=\"--mc-player-style\",o.styleSheet?o.styleSheet.cssText=J:o.appendChild(document.createTextNode(J)),(e=\"head\",document.getElementsByTagName(e))[0].appendChild(o)}this.eventBroadcast(\"theme-change\",this.options.theme)}},{key:\"setSpeed\",value:function(){var e=1==this.clip.speed?\"Normal\":this.clip.speed;this.elements.speedCurrent.innerHTML=e}},{key:\"calculateSpeed\",value:function(e,t,n){var s=Math.floor(n/e);if(s===t.length-1)return t[s].toFixed(1);var o=(n/e%1*Math.abs(t[s]-t[s+1])+t[s]).toFixed(1);return 0==o?\"0.0\":o}},{key:\"createPreviewDisplay\",value:function(){this.previewClip=this.clip.paste(this.elements.previewHost,{isPreviewClip:!0}),this.elements.previewHost.style.position=\"absolute\",this.elements.previewHost.style.background=this.options.backgroundColor,this.elements.previewHost.style.zIndex=1,this.setPreviewDimentions()}},{key:\"setPreviewDimentions\",value:function(){var e=this.clip.props.host,t=this.previewClip.ownClip.props.host,n=e.offsetWidth,s=e.offsetHeight,o=n*this.previewScale;o>300&&(o=300,this.previewScale=o/n);var i=n*this.previewScale,l=s*this.previewScale,r=E({width:this.clip.props.containerParams.width,height:this.clip.props.containerParams.height-(\"always\"==this.options.visible?44:0)},{width:i,height:l},\"cover\"===this.options.scaleToFit);this.previewClip.ownClip.rootElement.style.transform=\"scale(\".concat(r.scale),this.previewClip.ownClip.rootElement.style.left=\"\".concat(r.position.left,\"px\"),this.previewClip.ownClip.rootElement.style.top=\"\".concat(r.position.top,\"px\"),this.elements.preview.style.width=\"\".concat(i,\"px\"),this.elements.preview.style.height=\"\".concat(l,\"px\"),t.style.boxSizing=\"border-box\"}}])&&o(s.prototype,i),g&&o(s,g),t}()}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgtcGxheWVyL2Rpc3QvbW90b3Jjb3J0ZXgtcGxheWVyLnVtZC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvQGtpc3NteWJ1dHRvbi9tb3RvcmNvcnRleC1wbGF5ZXIvZGlzdC9tb3RvcmNvcnRleC1wbGF5ZXIudW1kLmpzPzQ0ZjgiXSwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dChyZXF1aXJlKFwiQGtpc3NteWJ1dHRvbi9tb3RvcmNvcnRleFwiKSk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJAa2lzc215YnV0dG9uL21vdG9yY29ydGV4XCJdLHQpOihlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6ZXx8c2VsZilbXCJAa2lzc215YnV0dG9uL21vdG9yY29ydGV4LXBsYXllclwiXT10KGUuTW90b3JDb3J0ZXgpfSh0aGlzLChmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocz1zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixzKX1yZXR1cm4gbn1mdW5jdGlvbiBuKGUpe2Zvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspe3ZhciBzPW51bGwhPWFyZ3VtZW50c1tuXT9hcmd1bWVudHNbbl06e307biUyP3QoT2JqZWN0KHMpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpKGUsdCxzW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHMpKTp0KE9iamVjdChzKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHMsdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHMoZSl7cmV0dXJuKHM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIG8oZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHM9dFtuXTtzLmVudW1lcmFibGU9cy5lbnVtZXJhYmxlfHwhMSxzLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBzJiYocy53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUscy5rZXkscyl9fWZ1bmN0aW9uIGkoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfXZhciBsPVwiLS1tYy1wbGF5ZXJcIixyPVwidm9sdW1lLWNoYW5nZVwiLGE9XCJtdXRlLWNoYW5nZVwiLGM9XCJzcGVlZC1jaGFuZ2VcIixwPVwibG9vcC1jaGFuZ2VcIix1PVwic2NhbGUtY2hhbmdlXCIsZD1cInNob3ctdm9sdW1lLWNoYW5nZVwiLG09XCJzaG93LXByZXZpZXctY2hhbmdlXCIsaD1cInN0YXRlLWNoYW5nZVwiLHY9XCJkdXJhdGlvbi1jaGFuZ2VcIixnPVwibW91c2V1cFwiLGY9XCJtb3VzZWRvd25cIix5PVwidG91Y2hzdGFydFwiLGI9XCJtb3VzZW1vdmVcIix3PVwidG91Y2hlbmRcIix4PVwidG91Y2htb3ZlXCIsQj17cGxheTonXFx4M2MhLS0gR2VuZXJhdGVkIGJ5IEljb01vb24uaW8gLS1cXHgzZVxcbjxzdmcgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjMyXCIgaGVpZ2h0PVwiMzJcIiB2aWV3Qm94PVwiMCAwIDMyIDMyXCI+XFxuPHRpdGxlPnBsYXk8L3RpdGxlPlxcbjxwYXRoIGZpbGw9XCIjOTk5XCIgZD1cIk0yNy41NTggMTMuNjI0bC0yMS44MjctMTMuMjMyYy0wLjQwMi0wLjI0OC0wLjg5LTAuMzk1LTEuNDExLTAuMzk1LTEuNTAyIDAtMi43MiAxLjIxOC0yLjcyIDIuNzIgMCAwLjAwMiAwIDAuMDA0IDAgMC4wMDZ2LTAgMjYuNDYxYzAgMC4wMDEgMCAwLjAwMiAwIDAuMDAzIDAgMS41MDIgMS4yMTggMi43MiAyLjcyIDIuNzIgMC41MjIgMCAxLjAwOS0wLjE0NyAxLjQyMy0wLjQwMWwtMC4wMTIgMC4wMDcgMjEuODI3LTEzLjIzMmMwLjc5Mi0wLjQ4NSAxLjMxMy0xLjM0NiAxLjMxMy0yLjMyOHMtMC41MjEtMS44NDMtMS4zMDEtMi4zMjFsLTAuMDEyLTAuMDA3elwiPjwvcGF0aD5cXG48L3N2Zz4nLHBhdXNlOidcXHgzYyEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLVxceDNlXFxuPHN2ZyB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMzJcIiBoZWlnaHQ9XCIzMlwiIHZpZXdCb3g9XCIwIDAgMzIgMzJcIj5cXG48dGl0bGU+cGF1c2U8L3RpdGxlPlxcbjxwYXRoIGQ9XCJNNi4wNTkgNC42MzloOC41MjF2MjIuNzIyaC04LjUyMXpNMTguODQgNC42MzloOC41MjF2MjIuNzIyaC04LjUyMXpcIj48L3BhdGg+XFxuPC9zdmc+JyxcImV4cGFuZC1mdWxsXCI6J1xceDNjIS0tIEdlbmVyYXRlZCBieSBJY29Nb29uLmlvIC0tXFx4M2VcXG48c3ZnIHZlcnNpb249XCIxLjFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIzMlwiIGhlaWdodD1cIjMyXCIgdmlld0JveD1cIjAgMCAzMiAzMlwiPlxcbjx0aXRsZT5leHBhbmQtZnVsbDwvdGl0bGU+XFxuPHBhdGggZmlsbD1cIiM5OTlcIiBkPVwiTTMxLjY2NyAzLjI3MWMtMC4wMDQtMS42MTktMS4zMTUtMi45My0yLjkzNC0yLjkzNGgtNy42NDJjLTAuOTIxIDAtMS42NjcgMC43NDctMS42NjcgMS42NjdzMC43NDcgMS42NjcgMS42NjcgMS42NjdoNi45MDljMC4xODUgMCAwLjMzMyAwLjE0OCAwLjMzMyAwLjMzMnY0LjM1OWMwIDAuOTIxIDAuNzQ3IDEuNjY3IDEuNjY3IDEuNjY3czEuNjY3LTAuNzQ2IDEuNjY3LTEuNjY3djAtNS4wOTF6TTAuMzMzIDguMzYyYzAgMC45MjEgMC43NDYgMS42NjcgMS42NjcgMS42NjdzMS42NjctMC43NDYgMS42NjctMS42Njd2MC00LjM2MmMwLTAuMDAxIDAtMC4wMDEgMC0wLjAwMiAwLTAuMTg0IDAuMTQ4LTAuMzMzIDAuMzMyLTAuMzMzaDYuOTA5YzAuODk4LTAuMDI5IDEuNjE0LTAuNzY0IDEuNjE0LTEuNjY3cy0wLjcxNy0xLjYzNy0xLjYxMi0xLjY2NmwtMC4wMDMtMGgtNy42MzVjLTEuNjE5IDAuMDA1LTIuOTMxIDEuMzE1LTIuOTM0IDIuOTM2bC0wLjAwNyA1LjA5NXpNMzEuNjY3IDI4LjcyNnYtNS4wOTFjMC0wLjkyMS0wLjc0Ny0xLjY2Ny0xLjY2Ny0xLjY2N3MtMS42NjcgMC43NDctMS42NjcgMS42Njd2MCA0LjM2NWMwIDAuMTg1LTAuMTQ4IDAuMzMzLTAuMzMyIDAuMzMzaC02LjkwOWMtMC45MjEgMC0xLjY2NyAwLjc0Ny0xLjY2NyAxLjY2N3MwLjc0NyAxLjY2NyAxLjY2NyAxLjY2N3YwaDcuNjM1YzEuNjI0LTAuMDAyIDIuOTQxLTEuMzE5IDIuOTQxLTIuOTQyek0wLjMzMyAyOC43MjZjMC4wMDQgMS42MjEgMS4zMTkgMi45MzQgMi45NDEgMi45MzQgMCAwIDAgMCAwIDBoNy42MzVjMC4wMTYgMC4wMDEgMC4wMzQgMC4wMDEgMC4wNTMgMC4wMDEgMC45MjEgMCAxLjY2Ny0wLjc0NyAxLjY2Ny0xLjY2N3MtMC43NDYtMS42NjctMS42NjctMS42NjdjLTAuMDE5IDAtMC4wMzcgMC0wLjA1NiAwLjAwMWwwLjAwMy0waC02LjkwOWMtMCAwLTAgMC0wIDAtMC4xODIgMC0wLjMzLTAuMTQ1LTAuMzMzLTAuMzI2di00LjM2NmMwLTAuOTIxLTAuNzQ3LTEuNjY3LTEuNjY3LTEuNjY3cy0xLjY2NyAwLjc0Ny0xLjY2NyAxLjY2N3YwIDUuMDkxelwiPjwvcGF0aD5cXG48cGF0aCBmaWxsPVwiIzk5OVwiIGQ9XCJNMTAuMzIxIDEwLjg0OGgxMS4zNTdjMS44MTggMCAzLjI5MSAxLjQ3MyAzLjI5MSAzLjI5MXYzLjcyYzAgMS44MTgtMS40NzMgMy4yOTEtMy4yOTEgMy4yOTFoLTExLjM1N2MtMS44MTggMC0zLjI5MS0xLjQ3My0zLjI5MS0zLjI5MXYtMy43MmMwLTEuODE4IDEuNDczLTMuMjkxIDMuMjkxLTMuMjkxelwiPjwvcGF0aD5cXG48L3N2Zz4nLFwiYW5nbGUtbGVmdFwiOidcXHgzYyEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLVxceDNlXFxuPHN2ZyB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIzMlwiIHZpZXdCb3g9XCIwIDAgMTYgMzJcIj5cXG48dGl0bGU+YW5nbGUtbGVmdDwvdGl0bGU+XFxuPHBhdGggZD1cIk0xLjk4MSAxNC45MzhsOC41LTguNWMwLjU4OC0wLjU4OCAxLjUzNy0wLjU4OCAyLjExOSAwbDEuNDEyIDEuNDEyYzAuNTg4IDAuNTg4IDAuNTg4IDEuNTM3IDAgMi4xMTlsLTYuMDE5IDYuMDMxIDYuMDI1IDYuMDI1YzAuNTg4IDAuNTg3IDAuNTg4IDEuNTM4IDAgMi4xMTlsLTEuNDEyIDEuNDE5Yy0wLjU4OCAwLjU4Ny0xLjUzNyAwLjU4Ny0yLjExOSAwbC04LjUtOC41Yy0wLjU5NC0wLjU4Ny0wLjU5NC0xLjUzNy0wLjAwNi0yLjEyNXpcIj48L3BhdGg+XFxuPC9zdmc+JyxcImFuZ2xlLXJpZ2h0XCI6J1xceDNjIS0tIEdlbmVyYXRlZCBieSBJY29Nb29uLmlvIC0tXFx4M2VcXG48c3ZnIHZlcnNpb249XCIxLjFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjMyXCIgdmlld0JveD1cIjAgMCAxNiAzMlwiPlxcbjx0aXRsZT5hbmdsZS1yaWdodDwvdGl0bGU+XFxuPHBhdGggZD1cIk0xNC4wMTkgMTcuMDYzbC04LjUgOC41Yy0wLjU4OCAwLjU4Ny0xLjUzOCAwLjU4Ny0yLjExOSAwbC0xLjQxMy0xLjQxM2MtMC41ODctMC41ODctMC41ODctMS41MzggMC0yLjExOWw2LjAxOS02LjAzMS02LjAyNS02LjAyNWMtMC41ODctMC41ODgtMC41ODctMS41MzcgMC0yLjExOWwxLjQxMy0xLjQxOWMwLjU4Ny0wLjU4OCAxLjUzOC0wLjU4OCAyLjExOSAwbDguNSA4LjVjMC41OTQgMC41ODggMC41OTQgMS41MzggMC4wMDYgMi4xMjV6XCI+PC9wYXRoPlxcbjwvc3ZnPicsc2V0dGluZ3M6J1xceDNjIS0tIEdlbmVyYXRlZCBieSBJY29Nb29uLmlvIC0tXFx4M2VcXG48c3ZnIHZlcnNpb249XCIxLjFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIzMlwiIGhlaWdodD1cIjMyXCIgdmlld0JveD1cIjAgMCAzMiAzMlwiPlxcbjx0aXRsZT5zZXR0aW5nczwvdGl0bGU+XFxuPHBhdGggZmlsbD1cIiM5OTlcIiBkPVwiTTI5Ljk5OSAxMi42NjVoLTIuNDgzYy0wLjI3NS0wLjkzOC0wLjYyMS0xLjc1MS0xLjA0OC0yLjUxMmwwLjAzMSAwLjA2MCAxLjc1Ny0xLjc1NWMwLjM2Mi0wLjM2MiAwLjU4Ny0wLjg2MiAwLjU4Ny0xLjQxNXMtMC4yMjQtMS4wNTMtMC41ODctMS40MTVsLTEuODg2LTEuODgzYy0wLjM2Mi0wLjM2Mi0wLjg2Mi0wLjU4Ni0xLjQxNS0wLjU4NnMtMS4wNTMgMC4yMjQtMS40MTUgMC41ODZsLTEuNzU3IDEuNzU1Yy0wLjcwMS0wLjM5Ny0xLjUxNC0wLjc0My0yLjM2Ni0wLjk5NmwtMC4wODQtMC4wMjF2LTIuNDgzYzAuMDAyLTEuMTA3LTAuODk0LTIuMDAxLTEuOTk5LTIuMDAxaC0yLjY2OGMtMS4xMDUgMC0xLjk5OSAwLjg5Ni0xLjk5OSAyLjAwMXYyLjQ4M2MtMC45MzggMC4yNzUtMS43NTEgMC42MjEtMi41MTMgMS4wNDhsMC4wNjAtMC4wMzEtMS43NTctMS43NTVjLTAuMzYyLTAuMzYyLTAuODYyLTAuNTg3LTEuNDE1LTAuNTg3cy0xLjA1MyAwLjIyNC0xLjQxNSAwLjU4N2wtMS44ODYgMS44ODZjLTAuMzYyIDAuMzYyLTAuNTg2IDAuODYyLTAuNTg2IDEuNDE1czAuMjI0IDEuMDUzIDAuNTg2IDEuNDE1djBsMS43NTggMS43NTVjLTAuNDMxIDAuNzc1LTAuNzcxIDEuNTk4LTEuMDE3IDIuNDUxaC0yLjQ4M2MtMS4xMDctMC4wMDItMi4wMDEgMC44OTQtMi4wMDEgMS45OTl2Mi42NjhjMCAxLjEwNSAwLjg5NiAxLjk5OSAyLjAwMSAxLjk5OWgyLjQ4M2MwLjI0NiAwLjg1NCAwLjU4NiAxLjY3NiAxLjAxNyAyLjQ1MmwtMS43NjIgMS43NThjLTAuMzYyIDAuMzYyLTAuNTg2IDAuODYyLTAuNTg2IDEuNDE1czAuMjI0IDEuMDUzIDAuNTg2IDEuNDE1djBsMS44ODYgMS44ODVjMC4zNjggMC4zNDggMC44NjYgMC41NjMgMS40MTUgMC41NjNzMS4wNDctMC4yMTQgMS40MTYtMC41NjRsLTAuMDAxIDAuMDAxIDEuNzU3LTEuNzU3YzAuNzc4IDAuNDI5IDEuNiAwLjc3MSAyLjQ1NCAxLjAxOXYyLjQ3OWMwIDEuMTA1IDAuODk0IDIuMDAxIDEuOTk5IDIuMDAxaDIuNjY4YzEuMTA1IDAgMS45OTktMC44OTYgMS45OTktMi4wMDF2LTIuNDc5YzAuODUyLTAuMjQ4IDEuNjc2LTAuNTg5IDIuNDUyLTEuMDE3bDEuNzU3IDEuNzU3YzAuMzYyIDAuMzYyIDAuODYyIDAuNTg2IDEuNDE1IDAuNTg2czEuMDUzLTAuMjI0IDEuNDE1LTAuNTg2djBsMS44ODUtMS44ODZjMC4zNjItMC4zNjIgMC41ODYtMC44NjIgMC41ODYtMS40MTRzLTAuMjI0LTEuMDUyLTAuNTg2LTEuNDE0bC0xLjc1Ny0xLjc1N2MwLjQzMS0wLjc3NiAwLjc3MS0xLjYgMS4wMTctMi40NTJoMi40ODNjMCAwIDAuMDAxIDAgMC4wMDIgMCAxLjEwNSAwIDIuMDAxLTAuODk2IDIuMDAxLTIuMDAxIDAtMC4wMDIgMC0wLjAwNCAwLTAuMDA1djAtMi42NjNjMC0xLjEwNS0wLjg5Ni0xLjk5OS0yLjAwMS0xLjk5OXpNMTYgMjIuNjY4Yy0zLjY4MiAwLTYuNjY2LTIuOTg1LTYuNjY2LTYuNjY2czIuOTg1LTYuNjY2IDYuNjY2LTYuNjY2djBjMy42ODIgMCA2LjY2NiAyLjk4NSA2LjY2NiA2LjY2NnMtMi45ODUgNi42NjYtNi42NjYgNi42NjZ2MHpcIj48L3BhdGg+XFxuPC9zdmc+Jyxsb29wOidcXHgzYyEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLVxceDNlXFxuPHN2ZyB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMzJcIiBoZWlnaHQ9XCIzMlwiIHZpZXdCb3g9XCIwIDAgMzIgMzJcIj5cXG48dGl0bGU+bG9vcDwvdGl0bGU+XFxuPHBhdGggZmlsbD1cIiM5OTlcIiBkPVwiTTIyLjM2NCAyMS45NjhoLTAuNjMxYy0wLjkyIDAtMS42NjcgMC43NDYtMS42NjcgMS42NjdzMC43NDYgMS42NjcgMS42NjcgMS42NjdoMC42MzdjMC4wMTMgMCAwLjAyOCAwIDAuMDQ0IDAgNS4xMTMgMCA5LjI1OS00LjE0NSA5LjI1OS05LjI1OSAwLTQuNjY4LTMuNDU0LTguNTI5LTcuOTQ2LTkuMTY2bC0wLjA0OS0wLjAwNmMtMC4xNTgtMC4wMjgtMC4yNzYtMC4xNjQtMC4yNzctMC4zMjh2LTIuNjM2Yy0wLTAuOTItMC43NDYtMS42NjYtMS42NjctMS42NjYtMC4zNTcgMC0wLjY4OSAwLjExMi0wLjk2IDAuMzA0bDAuMDA1LTAuMDAzLTYuMzcxIDQuNDU1Yy0wLjQzMiAwLjMwNS0wLjcxMSAwLjgwMy0wLjcxMSAxLjM2NSAwIDAuOTIgMC43NDYgMS42NjcgMS42NjcgMS42NjcgMCAwIDAgMCAwIDBoNi4zNTJjMy43NzIgMCA2LjYxNyAyLjU2NyA2LjYxNyA1Ljk3MS0wLjAwNCAzLjI5NS0yLjY3NCA1Ljk2Ni01Ljk2OSA1Ljk2OWgtMHpNOC4zMjkgMjUuMTI3YzAuMTYgMC4wMjcgMC4yNzcgMC4xNjUgMC4yNzcgMC4zMjh2Mi42MzVjMCAwLjAwMSAwIDAuMDAxIDAgMC4wMDIgMCAwLjkyIDAuNzQ2IDEuNjY1IDEuNjY1IDEuNjY1IDAuMzU4IDAgMC42OS0wLjExMyAwLjk2MS0wLjMwNWwtMC4wMDUgMC4wMDMgNi4zNjQtNC40NTNjMC40MzItMC4zMDYgMC43MS0wLjgwMyAwLjcxLTEuMzY1IDAtMC45Mi0wLjc0Ni0xLjY2Ny0xLjY2Ni0xLjY2OGgtNi4zNTJjLTMuNzcyIDAtNi42MTctMi41NjctNi42MTctNS45NjggMC4wMDItMy4yOTYgMi42NzMtNS45NjggNS45NjktNS45NzJoMC42MzhjMC45MiAwIDEuNjY3LTAuNzQ2IDEuNjY3LTEuNjY3cy0wLjc0Ni0xLjY2Ny0xLjY2Ny0xLjY2N3YwaC0wLjYzN2MtMC4wMTAtMC0wLjAyMi0wLTAuMDM0LTAtNS4xMTQgMC05LjI2IDQuMTQ2LTkuMjYgOS4yNiAwIDQuNjY1IDMuNDUgOC41MjQgNy45MzcgOS4xNjZsMC4wNDkgMC4wMDZ6XCI+PC9wYXRoPlxcbjwvc3ZnPicsXCJ2b2x1bWUtb25cIjonXFx4M2MhLS0gR2VuZXJhdGVkIGJ5IEljb01vb24uaW8gLS1cXHgzZVxcbjxzdmcgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjMyXCIgaGVpZ2h0PVwiMzJcIiB2aWV3Qm94PVwiMCAwIDMyIDMyXCI+XFxuPHRpdGxlPnZvbHVtZS1vbjwvdGl0bGU+XFxuPHBhdGggZD1cIk0yNi4xMDcgMi45OTFsLTMuNzI5IDMuMTg1YzIuODY3IDIuMzU0IDQuNjk0IDUuODc5IDQuNjk0IDkuODI0cy0xLjgyNyA3LjQ3LTQuNjk0IDkuODI0bDMuNzI5IDMuMTg1YzMuNjEyLTMuMjI2IDUuODkzLTcuODUyIDUuODkzLTEzLjAwOXMtMi4yODEtOS43ODMtNS44OTMtMTMuMDA5ek0xOS44NjEgOC4zMjZsLTMuODc2IDMuMzEyYzEuNjkyIDAuNzYyIDMuMDM4IDIuNDIzIDMuMDM4IDQuMzYycy0xLjM0NiAzLjYtMy4wMzggNC4zNjJsMy44NzYgMy4zMTJjMi4zNzktMS43NTYgNC4wMjgtNC41MzUgNC4wMjgtNy42NzRzLTEuNjQ5LTUuOTE4LTQuMDI4LTcuNjc0ek0xMi4xNDMgNS4zOTlsLTcuMTQzIDUuNjAxaC0zYy0xLjQ3OCAwLTIgMC41MzktMiAydjZjMCAxLjQ2MSAwLjU1MyAyIDIgMmgzbDcuMTQzIDUuNTk1YzAuODU3IDAuNTUzIDEuODUgMC43MjcgMS44NS0wLjgyM3YtMTkuNTVjMC0xLjU1LTAuOTkzLTEuMzc2LTEuODUtMC44MjN6XCI+PC9wYXRoPlxcbjwvc3ZnPicsXCJ2b2x1bWUtb2ZmXCI6J1xceDNjIS0tIEdlbmVyYXRlZCBieSBJY29Nb29uLmlvIC0tXFx4M2VcXG48c3ZnIHZlcnNpb249XCIxLjFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIzMlwiIGhlaWdodD1cIjMyXCIgdmlld0JveD1cIjAgMCAzMiAzMlwiPlxcbjx0aXRsZT52b2x1bWUtb2ZmPC90aXRsZT5cXG48cGF0aCBkPVwiTTI3LjM5NyAxNi4wMDFsNC4xMzQtNC4xNDRjMC42MjUtMC42MjcgMC42MjUtMS42NDEgMC0yLjI2N2wtMS4xMzItMS4xMzRjLTAuNjI1LTAuNjI2LTEuNjM4LTAuNjI2LTIuMjYzIDBsLTQuMTM0IDQuMTQ0LTQuMTMzLTQuMTQxYy0wLjYyNS0wLjYyNi0xLjYzOC0wLjYyNi0yLjI2MyAwbC0xLjEzMiAxLjEzNGMtMC42MjUgMC42MjYtMC42MjUgMS42NDEgMCAyLjI2N2w0LjEzNCA0LjE0Mi00LjEzMSA0LjE0MmMtMC42MjUgMC42MjYtMC42MjUgMS42NDEgMCAyLjI2N2wxLjEzMiAxLjEzNGMwLjYyNSAwLjYyNiAxLjYzOCAwLjYyNiAyLjI2MyAwbDQuMTMxLTQuMTQxIDQuMTMzIDQuMTRjMC42MjUgMC42MjcgMS42MzggMC42MjcgMi4yNjMgMGwxLjEzMi0xLjEzNGMwLjYyNS0wLjYyNiAwLjYyNS0xLjY0MSAwLTIuMjY3bC00LjEzNC00LjE0MXpNMTIuMTQ4IDUuMzk5bC03LjE0NiA1LjYwM2gtMy4wMDFjLTEuNDc5IDAtMi4wMDEgMC41MzktMi4wMDEgMi4wMDFsLTAgMi45NTEgMCAzLjA1MWMwIDEuNDYxIDAuNTUzIDIuMDAxIDIuMDAxIDIuMDAxaDMuMDAxbDcuMTQ2IDUuNTk3YzAuODU3IDAuNTUzIDEuODUxIDAuNzI3IDEuODUxLTAuODIzdi0xOS41NTZjLTAtMS41NS0wLjk5NC0xLjM3Ni0xLjg1MS0wLjgyM3pcIj48L3BhdGg+XFxuPC9zdmc+JyxcImRvbmtleWNsaXAtbG9nb1wiOidcXHgzYyEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLVxceDNlXFxuPHN2ZyB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMzJcIiBoZWlnaHQ9XCIzMlwiIHZpZXdCb3g9XCIwIDAgMzIgMzJcIj5cXG48dGl0bGU+ZG9ua2V5Y2xpcC1sb2dvPC90aXRsZT5cXG48cGF0aCBmaWxsPVwiIzc3N1wiIGQ9XCJNMjUuODExIDMuNDU0djExLjAxMGgtMy40NzljLTAuNjk2LTIuNDQ3LTIuOTc0LTQuMjQ2LTUuNjM4LTQuMjQ2LTMuMjM4IDAtNS44NzcgMi42MzgtNS44NzcgNS44NzdzMi42MzggNS44NzcgNS44NzcgNS44NzdjMi42ODYgMCA0Ljk0Mi0xLjc5OSA1LjYzOC00LjI0NmgzLjMzNGMtMC43NjcgNC4yNDYtNC40ODUgNy41MDktOC45NzIgNy41MDktNS4wMTQgMC05LjExNS00LjA3OC05LjExNS05LjExNSAwLTUuMDE0IDQuMDc4LTkuMTE1IDkuMTE1LTkuMTE1IDIuMjMxIDAgNC4yOTQgMC44MTUgNS44NzcgMi4xNTl2LTcuNjUyYy0xLjk5Mi0wLjkxMi00LjIyMi0xLjQxNS02LjU3Mi0xLjQxNS04Ljc3OSAwLTE1LjkwNCA3LjEyNS0xNS45MDQgMTUuOTA0czcuMTI1IDE1LjkwNCAxNS45MDQgMTUuOTA0YzguNzc5IDAgMTUuOTA0LTcuMTI1IDE1LjkwNC0xNS45MDQgMC4wMjQtNS4xMDktMi4zNzUtOS42NDQtNi4wOTMtMTIuNTQ2elwiPjwvcGF0aD5cXG48L3N2Zz4nLHNwaW5uZXI6J1xceDNjIS0tIEdlbmVyYXRlZCBieSBJY29Nb29uLmlvIC0tXFx4M2VcXG48c3ZnIHZlcnNpb249XCIxLjFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIzMlwiIGhlaWdodD1cIjMyXCIgdmlld0JveD1cIjAgMCAzMiAzMlwiPlxcbjx0aXRsZT5zcGlubmVyPC90aXRsZT5cXG48cGF0aCBmaWxsPVwiIzk5OVwiIGQ9XCJNMTYgMC40M2MwLjk5MiAwIDEuNzk2IDEuMjg3IDEuNzk2IDIuODc1djEuNDM3YzAgMS41ODgtMC44MDQgMi44NzUtMS43OTYgMi44NzVzLTEuNzk2LTEuMjg3LTEuNzk2LTIuODc1di0xLjQzN2MwLTEuNTg4IDAuODA0LTIuODc1IDEuNzk2LTIuODc1elwiPjwvcGF0aD5cXG48cGF0aCBmaWxsPVwiIzk5OVwiIGQ9XCJNMjMuNzg1IDIuNTE2YzAuODU5IDAuNDk2IDAuOTEzIDIuMDEzIDAuMTE5IDMuMzg4bC0wLjcxOCAxLjI0NWMtMC43OTQgMS4zNzQtMi4xMzMgMi4wODctMi45OTMgMS41OTJzLTAuOTEzLTIuMDEzLTAuMTE5LTMuMzg4bDAuNzE4LTEuMjQ1YzAuNzk0LTEuMzc0IDIuMTMzLTIuMDg3IDIuOTkzLTEuNTkyelwiPjwvcGF0aD5cXG48cGF0aCBmaWxsPVwiIzk5OVwiIGQ9XCJNMjkuNDg0IDguMjE1YzAuNDk2IDAuODU5LTAuMjE2IDIuMTk5LTEuNTkyIDIuOTkzbC0xLjI0NSAwLjcxOGMtMS4zNzQgMC43OTQtMi44OTIgMC43NDEtMy4zODgtMC4xMTlzMC4yMTYtMi4xOTkgMS41OTItMi45OTNsMS4yNDUtMC43MThjMS4zNzQtMC43OTQgMi44OTItMC43NDEgMy4zODggMC4xMTl6XCI+PC9wYXRoPlxcbjxwYXRoIGZpbGw9XCIjOTk5XCIgZD1cIk0zMS41NyAxNmMwIDAuOTkyLTEuMjg3IDEuNzk2LTIuODc1IDEuNzk2aC0xLjQzN2MtMS41ODggMC0yLjg3NS0wLjgwNC0yLjg3NS0xLjc5NnMxLjI4Ny0xLjc5NiAyLjg3NS0xLjc5NmgxLjQzN2MxLjU4OCAwIDIuODc1IDAuODA0IDIuODc1IDEuNzk2elwiPjwvcGF0aD5cXG48cGF0aCBmaWxsPVwiIzk5OVwiIGQ9XCJNMjkuNDg0IDIzLjc4NWMtMC40OTYgMC44NTktMi4wMTMgMC45MTMtMy4zODggMC4xMTlsLTEuMjQ1LTAuNzE4Yy0xLjM3NC0wLjc5NC0yLjA4Ny0yLjEzMy0xLjU5Mi0yLjk5M3MyLjAxMy0wLjkxMyAzLjM4OC0wLjExOWwxLjI0NSAwLjcxOGMxLjM3NCAwLjc5NCAyLjA4NyAyLjEzMyAxLjU5MiAyLjk5M3pcIj48L3BhdGg+XFxuPHBhdGggZmlsbD1cIiM5OTlcIiBkPVwiTTIzLjc4NSAyOS40ODRjLTAuODU5IDAuNDk2LTIuMTk5LTAuMjE2LTIuOTkzLTEuNTkybC0wLjcxOC0xLjI0NWMtMC43OTQtMS4zNzQtMC43NDEtMi44OTIgMC4xMTktMy4zODhzMi4xOTkgMC4yMTYgMi45OTMgMS41OTJsMC43MTggMS4yNDVjMC43OTQgMS4zNzQgMC43NDEgMi44OTItMC4xMTkgMy4zODh6XCI+PC9wYXRoPlxcbjxwYXRoIGZpbGw9XCIjOTk5XCIgZD1cIk0xNiAzMS41N2MtMC45OTIgMC0xLjc5Ni0xLjI4Ny0xLjc5Ni0yLjg3NXYtMS40MzdjMC0xLjU4OCAwLjgwNC0yLjg3NSAxLjc5Ni0yLjg3NXMxLjc5NiAxLjI4NyAxLjc5NiAyLjg3NXYxLjQzN2MwIDEuNTg4LTAuODA0IDIuODc1LTEuNzk2IDIuODc1elwiPjwvcGF0aD5cXG48cGF0aCBmaWxsPVwiIzk5OVwiIGQ9XCJNOC4yMTUgMjkuNDg0Yy0wLjg1OS0wLjQ5Ni0wLjkxMy0yLjAxMy0wLjExOS0zLjM4OGwwLjcxOC0xLjI0NWMwLjc5NC0xLjM3NCAyLjEzMy0yLjA4NyAyLjk5My0xLjU5MnMwLjkxMyAyLjAxMyAwLjExOSAzLjM4OGwtMC43MTggMS4yNDVjLTAuNzk0IDEuMzc0LTIuMTMzIDIuMDg3LTIuOTkzIDEuNTkyelwiPjwvcGF0aD5cXG48cGF0aCBmaWxsPVwiIzk5OVwiIGQ9XCJNMi41MTYgMjMuNzg1Yy0wLjQ5Ni0wLjg1OSAwLjIxNi0yLjE5OSAxLjU5Mi0yLjk5M2wxLjI0NS0wLjcxOGMxLjM3NC0wLjc5NCAyLjg5Mi0wLjc0MSAzLjM4OCAwLjExOXMtMC4yMTYgMi4xOTktMS41OTIgMi45OTNsLTEuMjQ1IDAuNzE4Yy0xLjM3NCAwLjc5NC0yLjg5MiAwLjc0MS0zLjM4OC0wLjExOXpcIj48L3BhdGg+XFxuPHBhdGggZmlsbD1cIiM5OTlcIiBkPVwiTTAuNDMgMTZjMC0wLjk5MiAxLjI4Ny0xLjc5NiAyLjg3NS0xLjc5NmgxLjQzN2MxLjU4OCAwIDIuODc1IDAuODA0IDIuODc1IDEuNzk2cy0xLjI4NyAxLjc5Ni0yLjg3NSAxLjc5NmgtMS40MzdjLTEuNTg4IDAtMi44NzUtMC44MDQtMi44NzUtMS43OTZ6XCI+PC9wYXRoPlxcbjxwYXRoIGZpbGw9XCIjOTk5XCIgZD1cIk0yLjUxNiA4LjIxNWMwLjQ5Ni0wLjg1OSAyLjAxMy0wLjkxMyAzLjM4OC0wLjExOWwxLjI0NSAwLjcxOGMxLjM3NCAwLjc5NCAyLjA4NyAyLjEzMyAxLjU5MiAyLjk5M3MtMi4wMTMgMC45MTMtMy4zODggMC4xMTlsLTEuMjQ1LTAuNzE4Yy0xLjM3NC0wLjc5NC0yLjA4Ny0yLjEzMy0xLjU5Mi0yLjk5M3pcIj48L3BhdGg+XFxuPHBhdGggZmlsbD1cIiM5OTlcIiBkPVwiTTguMjE1IDIuNTE2YzAuODU5LTAuNDk2IDIuMTk5IDAuMjE2IDIuOTkzIDEuNTkybDAuNzE4IDEuMjQ1YzAuNzk0IDEuMzc0IDAuNzQxIDIuODkyLTAuMTE5IDMuMzg4cy0yLjE5OS0wLjIxNi0yLjk5My0xLjU5MmwtMC43MTgtMS4yNDVjLTAuNzk0LTEuMzc0LTAuNzQxLTIuODkyIDAuMTE5LTMuMzg4elwiPjwvcGF0aD5cXG48L3N2Zz4nLFwiY2hlY2stc29saWRcIjonXFx4M2MhLS0gR2VuZXJhdGVkIGJ5IEljb01vb24uaW8gLS1cXHgzZVxcbjxzdmcgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjMyXCIgaGVpZ2h0PVwiMzJcIiB2aWV3Qm94PVwiMCAwIDMyIDMyXCI+XFxuPHRpdGxlPmNoZWNrLXNvbGlkPC90aXRsZT5cXG48cGF0aCBkPVwiTTEwLjg2OSAyNy40NjNsLTEwLjQtMTAuNGMtMC42MjUtMC42MjUtMC42MjUtMS42MzggMC0yLjI2M2wyLjI2My0yLjI2M2MwLjYyNS0wLjYyNSAxLjYzOC0wLjYyNSAyLjI2MyAwbDcuMDA2IDcuMDA2IDE1LjAwNi0xNS4wMDZjMC42MjUtMC42MjUgMS42MzgtMC42MjUgMi4yNjMgMGwyLjI2MyAyLjI2M2MwLjYyNSAwLjYyNSAwLjYyNSAxLjYzOCAwIDIuMjYzbC0xOC40IDE4LjRjLTAuNjI1IDAuNjI1LTEuNjM4IDAuNjI1LTIuMjYzLTB6XCI+PC9wYXRoPlxcbjwvc3ZnPid9O2Z1bmN0aW9uIE0oZSx0KXtyZXR1cm4gZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHQpWzBdfWZ1bmN0aW9uIGsoZSl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZSl9ZnVuY3Rpb24gQygpe3ZhciBlO3JldHVybihlPWRvY3VtZW50KS5hZGRFdmVudExpc3RlbmVyLmFwcGx5KGUsYXJndW1lbnRzKX1mdW5jdGlvbiBMKCl7dmFyIGU7cmV0dXJuKGU9ZG9jdW1lbnQpLnJlbW92ZUV2ZW50TGlzdGVuZXIuYXBwbHkoZSxhcmd1bWVudHMpfXZhciBQPW5ldyBSZWdFeHAoXCJeWystXT8oWzAtOV0rKFsuXVswLTldKik/fFsuXVswLTldKylcIixcImdpXCIpO2Z1bmN0aW9uIFMoZSl7dmFyIHQsbj1lLm1hdGNoKFApWzBdLHM9ZS5zdWJzdHJpbmcobi5sZW5ndGgpO2lmKFwibnVtYmVyXCI9PXR5cGVvZih0PU51bWJlcihuKSkmJmlzRmluaXRlKHQpJiYoXCIlXCIhPT1zfHxcInB4XCIhPT1zKSlyZXR1cm57bnVtYmVyOk51bWJlcihuKSx1bml0OnN9fWZ1bmN0aW9uIEUoZSx0KXt2YXIgbixzLG8saSxsPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl07T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ3aWR0aFwiKSYmKG89UyhlLndpZHRoKSksT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJoZWlnaHRcIikmJihpPVMoZS5oZWlnaHQpKTt2YXIgcj0xLGE9MTtcInB4XCI9PT0obnVsbD09PShuPW8pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnVuaXQpJiZvLm51bWJlciE9PXQud2lkdGgmJihyPXQud2lkdGgvby5udW1iZXIpLFwicHhcIj09PShudWxsPT09KHM9aSl8fHZvaWQgMD09PXM/dm9pZCAwOnMudW5pdCkmJmkubnVtYmVyIT09dC5oZWlnaHQmJihhPXQuaGVpZ2h0L2kubnVtYmVyKTt2YXIgYz1sP2E+cjphPD1yLHA9Yz9hOnIsdT17fTtpZihudWxsIT09byl7dmFyIGQ9by5udW1iZXIqcDtcInB4XCIhPT1vLnVuaXQmJihkKj10LndpZHRoLzEwMCk7dmFyIG09dC53aWR0aC1kO3UubGVmdD1tLzJ9aWYobnVsbCE9PW8pe3ZhciBoPWkubnVtYmVyKnA7XCJweFwiIT09aS51bml0JiYoaCo9dC5oZWlnaHQvMTAwKTt2YXIgdj10LmhlaWdodC1oO3UudG9wPXYvMn1yZXR1cm57c2NhbGU6cCxwb3NpdGlvbjp1fX1mdW5jdGlvbiBUKGUsdCl7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihnLGUsITEpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIodyxlLCExKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGIsdCwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih4LHQsITEpfWZ1bmN0aW9uIHooZSx0KXtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGcsZSwhMSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih3LGUsITEpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoYix0LCExKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHgsdCwhMSl9ZnVuY3Rpb24gSShlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ZG9jdW1lbnQsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdO3QuYWRkRXZlbnRMaXN0ZW5lcihmLGUse3Bhc3NpdmU6bn0sITEpLHQuYWRkRXZlbnRMaXN0ZW5lcih5LGUse3Bhc3NpdmU6bn0sITEpfWZ1bmN0aW9uIEgoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOmRvY3VtZW50O3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihmLGUsITEpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcih5LGUsITEpfWZ1bmN0aW9uIFYoZSx0LG4pe3QmJihlLmNsYXNzTGlzdC5yZW1vdmUoXCJpY29uLVwiLmNvbmNhdCh0KSksZS5pbm5lckhUTUw9XCJcIiksbiYmKGUuY2xhc3NMaXN0LmFkZChcImljb24tXCIuY29uY2F0KG4pKSxlLmlubmVySFRNTD1CW25dKX12YXIgRj1mdW5jdGlvbihlKXtlLmVsZW1lbnRzPXt9LEQoZSk7dmFyIHQsbj1lLmVsZW1lbnRzLm1jUGxheWVyO2UuZWxlbWVudHMucG9pbnRlckV2ZW50UGFuZWw9TShuLFwiLS1tY3AtcG9pbnRlci1ldmVudHMtcGFuZWxcIiksZS5lbGVtZW50cy5saXN0ZW5lckhlbHBlcj1NKG4sXCItLW1jcC1saXN0ZW5lci1oZWxwZXJcIiksZS5lbGVtZW50cy5sb29wQmFyPU0obixcIi0tbWNwLWxvb3BiYXJcIiksZS5lbGVtZW50cy50b3RhbEJhcj1NKG4sXCItLW1jcC10b3RhbGJhclwiKSxlLmVsZW1lbnRzLmluZGljYXRvcj1NKG4sXCItLW1jcC1pbmRpY2F0b3JcIiksZS5lbGVtZW50cy5sb29wQnV0dG9uPU0obixcIi0tbWNwLWxvb3AtYnRuXCIpLGUuZWxlbWVudHMudm9sdW1lQmFyPU0obixcIi0tbWNwLXZvbHVtZWJhclwiKSxlLmVsZW1lbnRzLnRvdGFsVGltZT1NKG4sXCItLW1jcC10aW1lLXRvdGFsXCIpLGUuZWxlbWVudHMudm9sdW1lQ29udHJvbD1NKG4sXCItLW1jcC12b2x1bWVcIiksZS5lbGVtZW50cy52b2x1bWVCdG49TShuLFwiLS1tY3Atdm9sdW1lLWJ0blwiKSxlLmVsZW1lbnRzLnJ1bm5pbmdCYXI9TShuLFwiLS1tY3AtcnVubmluZ2JhclwiKSxlLmVsZW1lbnRzLmxvb3BCYXJFbmQ9TShuLFwiLS1tY3AtbG9vcGJhci1lbmRcIiksZS5lbGVtZW50cy5zdGF0dXNCdXR0b249TShuLFwiLS1tY3Atc3RhdHVzLWJ0blwiKSxlLmVsZW1lbnRzLnNwZWVkQmFyPU0obixcIi0tbWNwLXNwZWVkLXZhbHVlc1wiKSxlLmVsZW1lbnRzLmN1cnJlbnRUaW1lPU0obixcIi0tbWNwLXRpbWUtY3VycmVudFwiKSxlLmVsZW1lbnRzLnRpbWVEaXNwbGF5PU0obixcIi0tbWNwLXRpbWUtZGlzcGxheVwiKSxlLmVsZW1lbnRzLnNwZWVkQnV0dG9uU2hvdz1NKG4sXCItLW1jcC1zcGVlZC1idG4tc2hvd1wiKSxlLmVsZW1lbnRzLnNwZWVkQnV0dG9uSGlkZT1NKG4sXCItLW1jcC1zcGVlZC1idG4taGlkZVwiKSxlLmVsZW1lbnRzLnNwZWVkQ3VycmVudD1NKG4sXCItLW1jcC1zcGVlZC1jdXJyZW50XCIpLGUuZWxlbWVudHMubG9vcEJhclN0YXJ0PU0obixcIi0tbWNwLWxvb3BiYXItc3RhcnRcIiksZS5lbGVtZW50cy52b2x1bWVDdXJzb3I9TShuLFwiLS1tY3Atdm9sdW1lLWN1cnNvclwiKSxlLmVsZW1lbnRzLnNldHRpbmdzQnV0dG9uPU0obixcIi0tbWNwLXNldHRpbmdzLWJ0blwiKSxlLmVsZW1lbnRzLmRvbmtleWNsaXBCdXR0b249TShuLFwiLS1tY3AtZGMtYnRuXCIpLGUuZWxlbWVudHMudGltZVNlcGFyYXRvcj1NKG4sXCItLW1jcC10aW1lLXNlcGFyYXRvclwiKSxlLmVsZW1lbnRzLnNldHRpbmdzUGFuZWw9TShuLFwiLS1tY3Atc2V0dGluZ3MtcGFuZWxcIiksZS5lbGVtZW50cy5zZXR0aW5nc01haW5QYW5lbD1NKG4sXCItLW1jcC1tYWluLXNldHRpbmdzXCIpLGUuZWxlbWVudHMuZnVsbFNjcmVlbkJ1dHRvbj1NKG4sXCItLW1jcC1mdWxsLXNjcmVlbi1idG5cIiksZS5lbGVtZW50cy52b2x1bWVCYXJIZWxwZXI9TShuLFwiLS1tY3Atdm9sdW1lYmFyXCIpLGUuZWxlbWVudHMudm9sdW1lQmFyQWN0aXZlPU0obixcIi0tbWNwLXZvbHVtZWJhci1jb2xvci1hY3RpdmVcIiksZS5lbGVtZW50cy5zZXR0aW5nc1NwZWVkUGFuZWw9TShuLFwiLS1tY3Atc3BlZWQtc2V0dGluZ3NcIiksZS5lbGVtZW50cy5zZXR0aW5nc1Nob3dWb2x1bWU9TShuLFwiLS1tY3Atc2V0dGluZ3Mtdm9sdW1lXCIpLGUuZWxlbWVudHMuc2V0dGluZ3NTaG93UHJldmlldz1NKG4sXCItLW1jcC1zZXR0aW5ncy1wcmV2aWV3XCIpLGUuZWxlbWVudHMuc2V0dGluZ3NQb2ludGVyRXZlbnRzPU0obixcIi0tbWNwLXNldHRpbmdzLXBvaW50ZXItZXZlbnRzXCIpLGUuZWxlbWVudHMuc2V0dGluZ3NTaG93SW5kaWNhdG9yPU0obixcIi0tbWNwLXNldHRpbmdzLWluZGljYXRvclwiKSxlLmVsZW1lbnRzLnNldHRpbmdzU3BlZWRCdXR0b25TaG93PU0obixcIi0tbWNwLXNldHRpbmdzLXNwZWVkLXNob3dcIiksZS5lbGVtZW50cy5zZXR0aW5nc1NwZWVkQnV0dG9uSGlkZT1NKG4sXCItLW1jcC1zZXR0aW5ncy1zcGVlZC1oaWRlXCIpLGUuZWxlbWVudHMuY29udHJvbHM9TShuLFwiLS1tY3AtY29udHJvbHNcIiksZS5lbGVtZW50cy5wcmV2aWV3SG9zdD1NKG4sXCItLW1jcC1wcmV2aWV3LWhvc3RcIiksZS5lbGVtZW50cy5wcmV2aWV3PU0obixcIi0tbWNwLXByZXZpZXdcIiksZS5lbGVtZW50cy52b2x1bWVDaGVja2JveD1NKG4sXCItLW1jcC1zaG93LXZvbHVtZS1jaGVja2JveFwiKSxlLmVsZW1lbnRzLnNob3dJbmRpY2F0b3JDaGVja2JveD1NKG4sXCItLW1jcC1zaG93LWluZGljYXRvci1jaGVja2JveFwiKSxlLmVsZW1lbnRzLnNob3dQcmV2aWV3Q2hlY2tib3g9TShuLFwiLS1tY3Atc2hvdy1wcmV2aWV3LWNoZWNrYm94XCIpLGUuZWxlbWVudHMuc2hvd1ZvbHVtZUNoZWNrYm94PU0obixcIi0tbWNwLXNob3ctdm9sdW1lLWNoZWNrYm94XCIpLGUuZWxlbWVudHMuc2hvd1BvaW50ZXJFdmVudHNDaGVja2JveD1NKG4sXCItLW1jcC1zaG93LXBvaW50ZXItZXZlbnRzLWNoZWNrYm94XCIpLGUuZWxlbWVudHMucHJldmlld01pbGxpc2Vjb25kPU0obixcIi0tbWNwLXByZXZpZXctbWlsbGlzZWNvbmRcIiksZS5lbGVtZW50cy5sZWZ0QnV0dG9ucz1NKG4sXCItLW1jcC1sZWZ0LWJ1dHRvbnNcIiksKHQ9ZS5lbGVtZW50cykubG9vcEJ1dHRvbi5pbm5lckhUTUw9Qi5sb29wLHQudm9sdW1lQnRuLmlubmVySFRNTD1CW1widm9sdW1lLW9uXCJdLHQuc3RhdHVzQnV0dG9uLmlubmVySFRNTD1CLnBsYXksdC5zZXR0aW5nc0J1dHRvbi5pbm5lckhUTUw9Qi5zZXR0aW5ncyx0LmRvbmtleWNsaXBCdXR0b24uaW5uZXJIVE1MPUJbXCJkb25rZXljbGlwLWxvZ29cIl0sdC5mdWxsU2NyZWVuQnV0dG9uLmlubmVySFRNTD1CW1wiZXhwYW5kLWZ1bGxcIl0sdC5mdWxsU2NyZWVuQnV0dG9uLmlubmVySFRNTD1CW1wiZXhwYW5kLWZ1bGxcIl0sdC5zcGVlZEJ1dHRvblNob3cuaW5uZXJIVE1MPUJbXCJhbmdsZS1yaWdodFwiXSx0LnNwZWVkQnV0dG9uSGlkZS5pbm5lckhUTUw9QltcImFuZ2xlLWxlZnRcIl0sTyhlKSxXKGUpLGooZSl9LEQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jbGlwLnByb3BzLmhvc3Q7aWYodC5vZmZzZXRXaWR0aHx8KHQuc3R5bGUud2lkdGg9ZS5jbGlwLnByb3BzLmNvbnRhaW5lclBhcmFtcy53aWR0aCksdC5vZmZzZXRIZWlnaHR8fCh0LnN0eWxlLmhlaWdodD1lLmNsaXAucHJvcHMuY29udGFpbmVyUGFyYW1zLmhlaWdodCksdC5zdHlsZS5kaXNwbGF5PVwiZmxleFwiLHQuc3R5bGUuanVzdGlmeUNvbnRlbnQ9XCJjZW50ZXJcIix0LnN0eWxlLmFsaWduSXRlbXM9XCJjZW50ZXJcIix0LnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsZS5jbGlwLnByb3BzLmhvc3Quc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLGUuY2xpcC5wcm9wcy5ob3N0LnN0eWxlLnpJbmRleD0wLGUuZWxlbWVudHMubWNQbGF5ZXI9ayhcImRpdlwiKSxlLmVsZW1lbnRzLm1jUGxheWVyLmlkPVwiXCIuY29uY2F0KGUubmFtZSksZS5lbGVtZW50cy5tY1BsYXllci5jbGFzc05hbWU9XCJcIi5jb25jYXQoZS5jbGFzc05hbWUpLGUuZWxlbWVudHMubWNQbGF5ZXIuaW5uZXJIVE1MPSc8ZGl2IGNsYXNzPVwiLS1tY3AtYmFja2dyb3VuZFwiPjwvZGl2PlxcbjxkaXYgY2xhc3M9XCItLW1jcC1jb250ZXh0XCI+XFxuICAgIDxkaXYgY2xhc3M9XCItLW1jcC1wb2ludGVyLWV2ZW50cy1wYW5lbFwiPjwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVwiLS1tY3AtbGlzdGVuZXItaGVscGVyXCI+PC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XCItLW1jcC1jb250cm9sc1wiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cIi0tbWNwLWdyYWRcIj48L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XCItLW1jcC1wcm9ncmVzc2JhclwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCItLW1jcC1wcmV2aWV3XCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCItLW1jcC1wcmV2ZW50LXBvaW50LWV2ZW50c1wiPjwvZGl2PlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiLS1tY3AtcHJldmlldy1ob3N0XCI+IDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiLS1tY3AtcHJldmlldy1taWxsaXNlY29uZFwiPjAwOjAwPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIi0tbWNwLXRvdGFsYmFyXCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCItLW1jcC1sb29wYmFyXCI+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiLS1tY3AtbG9vcGJhci1jb2xvclwiPjwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIi0tbWNwLWxvb3AtYm91bmRhcmllcyAtLW1jcC1sb29wYmFyLXN0YXJ0XCI+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCItLW1jcC1sb29wLWJvdW5kYXJpZXMgLS1tY3AtbG9vcGJhci1lbmRcIj5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIi0tbWNwLXJ1bm5pbmdiYXJcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiLS1tY3AtY3Vyc29yXCI+PC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XCItLW1jcC1idXR0b25zXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIi0tbWNwLWxlZnQtYnV0dG9uc1wiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiLS1tY3Atc3RhdHVzXCI+XFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIi0tbWNwLWJ0biAtLW1jcC1zdGF0dXMtYnRuIGljb24tcGxheVwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiLS1tY3AtaW5kaWNhdG9yXCI+aTwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCItLW1jcC12b2x1bWVcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCItLW1jcC1idG4gLS1tY3Atdm9sdW1lLWJ0biBpY29uLXZvbHVtZS1vblwiPjwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIi0tbWNwLXZvbHVtZWJhclwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCItLW1jcC12b2x1bWViYXItY29sb3JcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIi0tbWNwLXZvbHVtZWJhci1jb2xvci1hY3RpdmVcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCItLW1jcC12b2x1bWUtY3Vyc29yXCI+PC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiLS1tY3AtdGltZS1kaXNwbGF5XCI+XFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIi0tbWNwLXRpbWUtY3VycmVudFwiPjAwOjAwPC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCItLW1jcC10aW1lLXNlcGFyYXRvclwiPi88L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIi0tbWNwLXRpbWUtdG90YWxcIj4wMDowMDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIi0tbWNwLXJpZ2h0LWJ1dHRvbnNcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIi0tbWNwLWxvb3AtYnRuLWNvbnRhaW5lclwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIi0tbWNwLWJ0biAtLW1jcC1sb29wLWJ0biBpY29uLWxvb3BcIj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCItLW1jcC1idG4gLS1tY3Atc2V0dGluZ3MtYnRuIGljb24tc2V0dGluZ3NcIj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIi0tbWNwLWJ0biAtLW1jcC1kYy1idG4gaWNvbi1kb25rZXljbGlwLWxvZ29cIj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIi0tbWNwLWJ0biAtLW1jcC1mdWxsLXNjcmVlbi1idG4gaWNvbi1leHBhbmQtZnVsbFwiPlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cIi0tbWNwLXNldHRpbmdzLXBhbmVsXCI+XFxuICAgICAgICA8dWwgY2xhc3M9XCItLW1jcC1tYWluLXNldHRpbmdzXCI+XFxuICAgICAgICAgICAgPGxpIGNsYXNzPVwiLS1tY3Atc2V0dGluZ3MtcG9pbnRlci1ldmVudHNcIj5cXG4gICAgICAgICAgICAgICAgPHA+UG9pbnRlciBldmVudHM8L3A+XFxuICAgICAgICAgICAgICAgIDxkaXY+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3dpdGNoIHNldHRpbmdzLXN3aXRjaFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cIi0tbWNwLXNob3ctcG9pbnRlci1ldmVudHMtY2hlY2tib3hcIiB0eXBlPVwiY2hlY2tib3hcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNsaWRlciByb3VuZFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgIDxsaSBjbGFzcz1cIi0tbWNwLXNldHRpbmdzLXByZXZpZXdcIj5cXG4gICAgICAgICAgICAgICAgPHA+U2hvdyBwcmV2aWV3PC9wPlxcbiAgICAgICAgICAgICAgICA8ZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN3aXRjaCBzZXR0aW5ncy1zd2l0Y2hcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCItLW1jcC1zaG93LXByZXZpZXctY2hlY2tib3hcIiB0eXBlPVwiY2hlY2tib3hcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNsaWRlciByb3VuZFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgIDxsaSBjbGFzcz1cIi0tbWNwLXNldHRpbmdzLWluZGljYXRvclwiPlxcbiAgICAgICAgICAgICAgICA8cD5TaG93IGluZGljYXRvcjwvcD5cXG4gICAgICAgICAgICAgICAgPGRpdj5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzd2l0Y2ggc2V0dGluZ3Mtc3dpdGNoXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiLS1tY3Atc2hvdy1pbmRpY2F0b3ItY2hlY2tib3hcIiB0eXBlPVwiY2hlY2tib3hcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNsaWRlciByb3VuZFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgIDxsaSBjbGFzcz1cIi0tbWNwLXNldHRpbmdzLXZvbHVtZVwiPlxcbiAgICAgICAgICAgICAgICA8cD5TaG93IHZvbHVtZTwvcD5cXG4gICAgICAgICAgICAgICAgPGRpdj5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzd2l0Y2ggc2V0dGluZ3Mtc3dpdGNoXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiLS1tY3Atc2hvdy12b2x1bWUtY2hlY2tib3hcIiB0eXBlPVwiY2hlY2tib3hcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNsaWRlciByb3VuZFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgIDxsaSBjbGFzcz1cIi0tbWNwLXNldHRpbmdzLXNwZWVkLXNob3dcIj5cXG4gICAgICAgICAgICAgICAgPHA+UGxheWJhY2sgc3BlZWQ8L3A+XFxuICAgICAgICAgICAgICAgIDxkaXY+XFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIi0tbWNwLXNwZWVkLWN1cnJlbnRcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiLS1tY3AtYnRuIC0tbWNwLXNwZWVkLWJ0biAtLW1jcC1zcGVlZC1idG4tc2hvdyBpY29uLWFuZ2xlLXJpZ2h0XCI+PC9kaXY+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICA8L3VsPlxcbiAgICAgICAgPHVsIGNsYXNzPVwiLS1tY3Atc3BlZWQtc2V0dGluZ3NcIj5cXG4gICAgICAgICAgICA8bGkgY2xhc3M9XCItLW1jcC1zZXR0aW5ncy1zcGVlZC1oaWRlXCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCItLW1jcC1idG4gLS1tY3Atc3BlZWQtYnRuIC0tbWNwLXNwZWVkLWJ0bi1oaWRlIGljb24tYW5nbGUtbGVmdFwiPjwvZGl2PlxcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cIi0tbWNwLXNwZWVkLXJ1bnRpbWVcIj5QbGF5YmFjayBzcGVlZDwvcD5cXG4gICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgIDxsaSBjbGFzcz1cIi0tbWNwLW5vLWhvdmVyXCI+XFxuICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cIi0tbWNwLXNwZWVkLXZhbHVlc1wiPjwvdWw+XFxuICAgICAgICAgICAgPC9saT5cXG4gICAgICAgIDwvdWw+XFxuICAgIDwvZGl2PlxcbjwvZGl2PicsXCJzdHJpbmdcIj09dHlwZW9mIGUub3B0aW9ucy5ob3N0KXt2YXIgbj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGUub3B0aW9ucy5ob3N0KTtmb3IodmFyIHMgaW4gbilpc05hTihzKXx8bltzXS5hcHBlbmRDaGlsZChlLmVsZW1lbnRzLm1jUGxheWVyKX1lbHNlIGUub3B0aW9ucy5ob3N0LmFwcGVuZENoaWxkKGUuZWxlbWVudHMubWNQbGF5ZXIpfSxPPWZ1bmN0aW9uKGUpe2UuZWxlbWVudHMudm9sdW1lQmFyQWN0aXZlLnN0eWxlLndpZHRoPVwiXCIuY29uY2F0KDEwMCplLnNldHRpbmdzLnZvbHVtZSxcIiVcIiksZS5lbGVtZW50cy5jdXJyZW50VGltZS5pbm5lckhUTUw9ZS50aW1lRm9ybWF0KDApLGUuZWxlbWVudHMudG90YWxUaW1lLmlubmVySFRNTD1lLnRpbWVGb3JtYXQoZS5jbGlwLmR1cmF0aW9uKSxlLmVsZW1lbnRzLnRpbWVTZXBhcmF0b3IuaW5uZXJIVE1MPVwiL1wiLGUuZWxlbWVudHMuc2V0dGluZ3NQYW5lbC5jbGFzc0xpc3QuYWRkKFwibS1mYWRlT3V0XCIsXCJcIi5jb25jYXQoZS5uYW1lLFwiLWhpZGVcIikpLGUub3B0aW9ucy5zaG93SW5kaWNhdG9yPyhlLmVsZW1lbnRzLmluZGljYXRvci5zdHlsZS5kaXNwbGF5PXZvaWQgMCxlLmVsZW1lbnRzLnN0YXR1c0J1dHRvbi5zdHlsZS53aWR0aD1cIjM1cHhcIixlLmVsZW1lbnRzLnN0YXR1c0J1dHRvbi5zdHlsZS5oZWlnaHQ9XCIyMHB4XCIsZS5lbGVtZW50cy5zdGF0dXNCdXR0b24uc3R5bGUuYm90dG9tPVwiNXB4XCIpOmUuZWxlbWVudHMuaW5kaWNhdG9yLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsZS5lbGVtZW50cy5pbmRpY2F0b3IuaW5uZXJIVE1MPWUuY2xpcC5ydW5UaW1lSW5mby5zdGF0ZSxlLmVsZW1lbnRzLnNldHRpbmdzU3BlZWRQYW5lbC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGUuZWxlbWVudHMubG9vcEJhclN0YXJ0LnN0eWxlLmxlZnQ9XCIwJVwiLGUuZWxlbWVudHMubG9vcEJhclN0YXJ0LmNsYXNzTGlzdC5hZGQoXCJtLWZhZGVPdXRcIixcIlwiLmNvbmNhdChlLm5hbWUsXCItaGlkZVwiKSksZS5lbGVtZW50cy5sb29wQmFyRW5kLnN0eWxlLmxlZnQ9XCIxMDAlXCIsZS5lbGVtZW50cy5sb29wQmFyRW5kLmNsYXNzTGlzdC5hZGQoXCJtLWZhZGVPdXRcIixcIlwiLmNvbmNhdChlLm5hbWUsXCItaGlkZVwiKSksZS5lbGVtZW50cy5wcmV2aWV3LmNsYXNzTGlzdC5hZGQoXCJtLWZhZGVPdXRcIiksZS5lbGVtZW50cy52b2x1bWVDaGVja2JveC5jaGVja2VkPWUub3B0aW9ucy5zaG93Vm9sdW1lLGUuZWxlbWVudHMuc2hvd0luZGljYXRvckNoZWNrYm94LmNoZWNrZWQ9ZS5vcHRpb25zLnNob3dJbmRpY2F0b3IsZS5lbGVtZW50cy5zaG93UHJldmlld0NoZWNrYm94LmNoZWNrZWQ9ZS5vcHRpb25zLnByZXZpZXcsZS5lbGVtZW50cy5zaG93UG9pbnRlckV2ZW50c0NoZWNrYm94LmNoZWNrZWQ9ZS5vcHRpb25zLnBvaW50ZXJFdmVudHMsZS5vcHRpb25zLnBvaW50ZXJFdmVudHM/ZS5lbGVtZW50cy5wb2ludGVyRXZlbnRQYW5lbC5zdHlsZS5wb2ludGVyRXZlbnRzPVwibm9uZVwiOmUuZWxlbWVudHMucG9pbnRlckV2ZW50UGFuZWwuc3R5bGUucG9pbnRlckV2ZW50cz1cImF1dG9cIixlLm9wdGlvbnMuc2hvd1ZvbHVtZXx8ZS5lbGVtZW50cy52b2x1bWVDb250cm9sLmNsYXNzTGlzdC50b2dnbGUoXCJtLWZhZGVPdXRcIil9LFc9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCl7aWYoMD09ZS5vcHRpb25zLnNwZWVkVmFsdWVzW3RdKXJldHVyblwiY29udGludWVcIjt2YXIgbj1cImNoZWNrLXNvbGlkXCIscz1cIi0tbWNwLXNlbGVjdGVkXCIsbz1rKFwibGlcIik7by5jbGFzc05hbWU9XCItLW1jcC1zcGVlZC12YWx1ZVwiLG8uZGF0YXNldC5zcGVlZFZhbHVlPWUub3B0aW9ucy5zcGVlZFZhbHVlc1t0XTt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtvLmFwcGVuZChpKTt2YXIgbD1rKFwicFwiKSxyPTE9PWUub3B0aW9ucy5zcGVlZFZhbHVlc1t0XTtsLmlubmVySFRNTD1yP1wiTm9ybWFsXCI6ZS5vcHRpb25zLnNwZWVkVmFsdWVzW3RdLGwuZGF0YXNldC56b25lPXQsbC5jbGFzc0xpc3QuYWRkKFwiLS1tY3Atc3BlZWQtdmFsdWUtaXRlbVwiKSxlLm9wdGlvbnMuc3BlZWRWYWx1ZXNbdF09PWUuY2xpcC5zcGVlZCYmKFYoaSxudWxsLG4pLGwuY2xhc3NMaXN0LmFkZChzKSksby5hcHBlbmQobCksZS5lbGVtZW50cy5zcGVlZEJhci5hcHBlbmQobyksby5vbmNsaWNrPWZ1bmN0aW9uKCl7ZS5vcHRpb25zLnNwZWVkPWUub3B0aW9ucy5zcGVlZFZhbHVlc1t0XSxlLmNsaXAuc3BlZWQ9ZS5vcHRpb25zLnNwZWVkVmFsdWVzW3RdO3ZhciBvPTE9PWUuY2xpcC5zcGVlZDtlLmVsZW1lbnRzLnNwZWVkQ3VycmVudC5pbm5lckhUTUw9bz9cIk5vcm1hbFwiOmUuY2xpcC5zcGVlZCxWKE0oZS5lbGVtZW50cy5tY1BsYXllcixcImljb24tY2hlY2stc29saWRcIiksbiksVihpLG51bGwsbiksTShlLmVsZW1lbnRzLm1jUGxheWVyLHMpLmNsYXNzTGlzdC5yZW1vdmUocyksbC5jbGFzc0xpc3QuYWRkKHMpfX07Zm9yKHZhciBuIGluIGUub3B0aW9ucy5zcGVlZFZhbHVlcyl0KG4pfSxqPWZ1bmN0aW9uKGUpeyExPT09ZS5vcHRpb25zLmJ1dHRvbnMuZnVsbFNjcmVlbiYmZS5lbGVtZW50cy5mdWxsU2NyZWVuQnV0dG9uLnJlbW92ZSgpLCExPT09ZS5vcHRpb25zLmJ1dHRvbnMuc2V0dGluZ3MmJmUuZWxlbWVudHMuc2V0dGluZ3NCdXR0b24ucmVtb3ZlKCksITE9PT1lLm9wdGlvbnMuYnV0dG9ucy5kb25rZXljbGlwJiZlLmVsZW1lbnRzLmRvbmtleWNsaXBCdXR0b24ucmVtb3ZlKCksITE9PT1lLm9wdGlvbnMuYnV0dG9ucy5sb29wJiZlLmVsZW1lbnRzLmxvb3BCdXR0b24ucmVtb3ZlKCl9LEE9ZnVuY3Rpb24oZSl7ZS5lbGVtZW50cy5kb25rZXljbGlwQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLChmdW5jdGlvbigpe3ZhciB0LG49KHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksXCJ4eHh4eHh4eC14eHh4XCIucmVwbGFjZSgvW3h5XS9nLChmdW5jdGlvbihlKXt2YXIgbj0odCsxNipNYXRoLnJhbmRvbSgpKSUxNnwwO3Q9TWF0aC5mbG9vcih0LzE2KTt2YXIgcz1NYXRoLnJhbmRvbSgpPi41LG89KFwieFwiPT1lP246MyZufDgpLnRvU3RyaW5nKDE2KTtyZXR1cm4gcz9vLnRvVXBwZXJDYXNlKCk6b30pKSkscz13aW5kb3cub3BlbihcImh0dHBzOi8vZG9ua2V5Y2xpcC5jb20/dT1cIi5jb25jYXQobikpLG89ZS5jbGlwLmV4cG9ydERlZmluaXRpb24oKSxpPWUuY2xpcENsYXNzO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLChmdW5jdGlvbihlKXtlLmRhdGE9PT1uJiZzLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHtkZWZpbml0aW9uOm8sY2xpcENsYXNzOmksdTpufSksXCIqXCIpfSksITEpfSkpfSxOPVwiLS1tY3AtZm9yY2Utc2hvdy1jb250cm9sc1wiLFI9XCJwbGF5aW5nXCIsVT1cInZvbHVtZS1vZmZcIixYPVwidm9sdW1lLW9uXCIsSj0nLi0tbWMtcGxheWVyLnRoZW1lLWRlZmF1bHQge1xcbiAgLS1hY3RpdmVDb2xvcjogMTM2LCAxMzYsIDEzNjtcXG4gIC0tZGVmYXVsdENvbG9yOiAxMzYsIDEzNiwgMTM2O1xcbiAgLS1iYWNrZ3JvdW5kQ29sb3I6IDI0NSwgMjQ1LCAyNDUsIDE7XFxuICAtLWxvb3BCYXJDb2xvcjogcmdiYSh2YXIoLS1hY3RpdmVDb2xvciksIDAuMik7XFxuICAtLWdyYWQtZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLi0tbWMtcGxheWVyLnRoZW1lLXllbGxvdyB7XFxuICAtLWFjdGl2ZUNvbG9yOiAyNTUsIDIzNSwgNTk7XFxuICAtLWRlZmF1bHRDb2xvcjogMjU1LCAyNTUsIDI1NTtcXG4gIC0tYmFja2dyb3VuZENvbG9yOiA2NiwgNjYsIDY2LCAxO1xcbiAgLS1sb29wQmFyQ29sb3I6IHJnYmEodmFyKC0tYWN0aXZlQ29sb3IpLCAwLjIpO1xcbiAgLS1ncmFkLWRpc3BsYXk6IG5vbmU7XFxufVxcblxcbi4tLW1jLXBsYXllci50aGVtZS1kYXJrIHtcXG4gIC0tYWN0aXZlQ29sb3I6IDEzNiwgMTM2LCAxMzY7XFxuICAtLWRlZmF1bHRDb2xvcjogMTM2LCAxMzYsIDEzNjtcXG4gIC0tYmFja2dyb3VuZENvbG9yOiAwLCAwLCAwLCAxO1xcbiAgLS1sb29wQmFyQ29sb3I6IHJnYmEodmFyKC0tYWN0aXZlQ29sb3IpLCAwLjIpO1xcbiAgLS1ncmFkLWRpc3BsYXk6IG5vbmU7XFxufVxcblxcbi4tLW1jLXBsYXllci50aGVtZS13aGl0ZUdvbGQge1xcbiAgLS1hY3RpdmVDb2xvcjogMTYxLCAxMjcsIDI2O1xcbiAgLS1kZWZhdWx0Q29sb3I6IDEzNiwgMTM2LCAxMzY7XFxuICAtLWJhY2tncm91bmRDb2xvcjogMjQ1LCAyNDUsIDI0NSwgMTtcXG4gIC0tbG9vcEJhckNvbG9yOiByZ2JhKHZhcigtLWFjdGl2ZUNvbG9yKSwgMC4yKTtcXG4gIC0tZ3JhZC1kaXNwbGF5OiBub25lO1xcbn1cXG5cXG4uLS1tYy1wbGF5ZXIudGhlbWUtZGFya0dvbGQge1xcbiAgLS1hY3RpdmVDb2xvcjogMTYxLCAxMjcsIDI2O1xcbiAgLS1kZWZhdWx0Q29sb3I6IDEzNiwgMTM2LCAxMzY7XFxuICAtLWJhY2tncm91bmRDb2xvcjogMCwgMCwgMCwgMTtcXG4gIC0tbG9vcEJhckNvbG9yOiByZ2JhKHZhcigtLWFjdGl2ZUNvbG9yKSwgMC4yKTtcXG4gIC0tZ3JhZC1kaXNwbGF5OiBub25lO1xcbn1cXG4uLS1tYy1wbGF5ZXIudGhlbWUtdHJhbnNwYXJlbnQge1xcbiAgLS1hY3RpdmVDb2xvcjogMjU1LCAwLCAwO1xcbiAgLS1kZWZhdWx0Q29sb3I6IDIzOSwgMjM4LCAyMzY7XFxuICAtLWJhY2tncm91bmRDb2xvcjogMCwgMCwgMCwgMDtcXG4gIC0tbG9vcEJhckNvbG9yOiByZ2JhKHZhcigtLWRlZmF1bHRDb2xvciksIDAuMik7XFxuICAtLWdyYWQtZGlzcGxheTogYmxvY2s7XFxufVxcblxcbi4tLW1jLXBsYXllci50aGVtZS1ncmVlbiB7XFxuICAtLWFjdGl2ZUNvbG9yOiAwLCAxODQsIDEzOTtcXG4gIC0tZGVmYXVsdENvbG9yOiAxNTMsIDE1MywgMTUzO1xcbiAgLS1iYWNrZ3JvdW5kQ29sb3I6IDIwLCAyMCwgMjIsIDE7XFxuICAtLWxvb3BCYXJDb2xvcjogcmdiYSh2YXIoLS1hY3RpdmVDb2xvciksIDAuMik7XFxuICAtLWdyYWQtZGlzcGxheTogbm9uZTtcXG59XFxuLi0tbWMtcGxheWVyLnRoZW1lLWJsdWUge1xcbiAgLS1hY3RpdmVDb2xvcjogMCwgMTUzLCAyMjU7XFxuICAtLWRlZmF1bHRDb2xvcjogMTUzLCAxNTMsIDE1MztcXG4gIC0tYmFja2dyb3VuZENvbG9yOiAyMCwgMjAsIDIyLCAxO1xcbiAgLS1sb29wQmFyQ29sb3I6IHJnYmEodmFyKC0tYWN0aXZlQ29sb3IpLCAwLjIpO1xcbiAgLS1ncmFkLWRpc3BsYXk6IG5vbmU7XFxufVxcbi4tLW1jLXBsYXllciAqIHtcXG4gIGNvbG9yOiByZ2IodmFyKC0tZGVmYXVsdENvbG9yKSk7XFxuICBmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCBcIlNlZ29lIFVJXCIsIFJvYm90bywgSGVsdmV0aWNhLFxcbiAgICBBcmlhbCwgc2Fucy1zZXJpZiwgXCJBcHBsZSBDb2xvciBFbW9qaVwiLCBcIlNlZ29lIFVJIEVtb2ppXCIsIFwiU2Vnb2UgVUkgU3ltYm9sXCI7XFxuICBmb250LXNpemU6IDEzcHg7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxuICB1c2VyLXNlbGVjdDogbm9uZTtcXG59XFxuLi0tbWMtcGxheWVyIHN2ZyB7XFxuICB3aWR0aDogMjJweDtcXG59XFxuLi0tbWNwLXNldHRpbmdzLXBhbmVsIHN2ZyB7XFxuICB3aWR0aDogMTBweDtcXG59XFxuLi0tbWMtcGxheWVyIHN2ZyxcXG4uLS1tYy1wbGF5ZXIgc3ZnICoge1xcbiAgZmlsbDogcmdiKHZhcigtLWRlZmF1bHRDb2xvcikpICFpbXBvcnRhbnQ7XFxufVxcblxcbi4tLW1jLXBsYXllciB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMHB4O1xcbiAgbGVmdDogMHB4O1xcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxufVxcblxcbi4tLW1jLXBsYXllciAqIHtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcblxcbi4tLW1jcC1iYWNrZ3JvdW5kLFxcbi4tLW1jcC1jb250ZXh0IHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG59XFxuLi0tbWNwLWJhY2tncm91bmQge1xcbiAgYmFja2dyb3VuZDogYmxhY2s7XFxuICB6LWluZGV4OiAtMTAwMDtcXG59XFxuXFxuLi0tbWNwLXBvaW50ZXItZXZlbnRzLXBhbmVsIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgbWluLWhlaWdodDogY2FsYygxMDAlIC0gNDRweCk7XFxufVxcblxcbi4tLW1jcC1wb2ludGVyLWV2ZW50cy1wYW5lbC5sb2FkaW5nIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuOCk7XFxufVxcbi4tLW1jcC1wb2ludGVyLWV2ZW50cy1wYW5lbC5sb2FkaW5nIHN2ZyB7XFxuICBhbmltYXRpb246IHNwaW4gNHMgbGluZWFyIGluZmluaXRlO1xcbn1cXG5cXG5Aa2V5ZnJhbWVzIHNwaW4ge1xcbiAgMTAwJSB7XFxuICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7XFxuICB9XFxufVxcblxcbi4tLW1jcC1ncmFkIHtcXG4gIGRpc3BsYXk6IHZhcigtLWdyYWQtZGlzcGxheSk7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBib3R0b206IDBweDtcXG4gIGxlZnQ6IDBweDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAyMDBweDtcXG4gIHotaW5kZXg6IDA7XFxuICBwb2ludGVyLWV2ZW50czogbm9uZSAhaW1wb3J0YW50O1xcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KFxcbiAgICByZ2JhKDAsIDAsIDAsIDAwLjAwMSksXFxuICAgIHJnYmEoMCwgMCwgMCwgMDAuMDA0KSxcXG4gICAgcmdiYSgwLCAwLCAwLCAwMC4wMDcpLFxcbiAgICByZ2JhKDAsIDAsIDAsIDAwLjAxKSxcXG4gICAgcmdiYSgwLCAwLCAwLCAwLjA0KSxcXG4gICAgcmdiYSgwLCAwLCAwLCAwLjA3KSxcXG4gICAgcmdiYSgwLCAwLCAwLCAwLjEpLFxcbiAgICByZ2JhKDAsIDAsIDAsIDAuMTUpLFxcbiAgICByZ2JhKDAsIDAsIDAsIDAuMiksXFxuICAgIHJnYmEoMCwgMCwgMCwgMC4yNSksXFxuICAgIHJnYmEoMCwgMCwgMCwgMC4zKSxcXG4gICAgcmdiYSgwLCAwLCAwLCAwLjM1KSxcXG4gICAgcmdiYSgwLCAwLCAwLCAwLjQpLFxcbiAgICByZ2JhKDAsIDAsIDAsIDAuNDUpLFxcbiAgICByZ2JhKDAsIDAsIDAsIDAuNSksXFxuICAgIHJnYmEoMCwgMCwgMCwgMC41NSksXFxuICAgIHJnYmEoMCwgMCwgMCwgMC42KSxcXG4gICAgcmdiYSgwLCAwLCAwLCAwLjY1KSxcXG4gICAgcmdiYSgwLCAwLCAwLCAwLjcpLFxcbiAgICByZ2JhKDAsIDAsIDAsIDAuNzUpLFxcbiAgICByZ2JhKDAsIDAsIDAsIDAuOCksXFxuICAgIHJnYmEoMCwgMCwgMCwgMC44OClcXG4gICk7XFxufVxcblxcbi4tLW1jLXBsYXllcjpob3ZlciAuLS1tY3AtY29udHJvbHMge1xcbiAgb3BhY2l0eTogMSAhaW1wb3J0YW50O1xcbn1cXG4uLS1tY3AtY29udHJvbHM6YWN0aXZlIHtcXG4gIG9wYWNpdHk6IDEgIWltcG9ydGFudDtcXG59XFxuLi0tbWNwLWNvbnRyb2xzIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgei1pbmRleDogMTtcXG4gIGJhY2tncm91bmQ6IHJnYmEodmFyKC0tYmFja2dyb3VuZENvbG9yKSk7XFxuICBoZWlnaHQ6IDQ0cHg7XFxuICBwYWRkaW5nOiAwIDE1cHg7XFxuICBvcGFjaXR5OiAwO1xcbiAgdHJhbnNpdGlvbjogYWxsIGVhc2UgMC4ycztcXG4gIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xcbn1cXG4uLS1tY3AtZm9yY2Utc2hvdy1jb250cm9scyB7XFxuICBvcGFjaXR5OiAxICFpbXBvcnRhbnQ7XFxufVxcblxcbi4tLW1jcC1hbHdheXMtc2hvdy1jb250cm9scyB7XFxuICBvcGFjaXR5OiAxICFpbXBvcnRhbnQ7XFxufVxcblxcbi4tLW1jcC1wcm9ncmVzc2JhciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG5cXG4uLS1tY3AtdG90YWxiYXIsXFxuLi0tbWNwLWxvb3BiYXIsXFxuLi0tbWNwLXJ1bm5pbmdiYXIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgaGVpZ2h0OiA1cHg7XFxufVxcblxcbi4tLW1jcC1jdXJzb3Ige1xcbiAgd2lkdGg6IDE0cHg7XFxuICBoZWlnaHQ6IDE0cHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IodmFyKC0tYWN0aXZlQ29sb3IpKTtcXG4gIGJvcmRlci1yYWRpdXM6IDEwMCU7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IC01cHg7XFxuICByaWdodDogLThweDtcXG4gIHotaW5kZXg6IDEwO1xcbn1cXG5cXG4uLS1tY3AtdG90YWxiYXIge1xcbiAgbWluLXdpZHRoOiAxMDAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSh2YXIoLS1kZWZhdWx0Q29sb3IpLCAwLjMpO1xcbn1cXG5cXG4uLS1tY3AtbG9vcGJhciB7XFxuICB3aWR0aDogMTAwJTtcXG4gIHBhZGRpbmc6IDEwcHggMHB4O1xcbiAgdG9wOiAtMTBweDtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuLi0tbWNwLWxvb3BiYXItY29sb3Ige1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMHB4O1xcbiAgYm90dG9tOiA1cHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1sb29wQmFyQ29sb3IpO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDVweDtcXG59XFxuLi0tbWNwLXJ1bm5pbmdiYXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKHZhcigtLWFjdGl2ZUNvbG9yKSk7XFxuICB3aWR0aDogMHB4O1xcbn1cXG5cXG4uLS1tY3AtYnV0dG9ucyxcXG4uLS1tY3AtbGVmdC1idXR0b25zLFxcbi4tLW1jcC1yaWdodC1idXR0b25zLFxcbi4tLW1jcC1sZWZ0LWJ1dHRvbnMgPiBkaXYsXFxuLi0tbWNwLXJpZ2h0LWJ1dHRvbnMgPiBkaXYge1xcbiAgei1pbmRleDogMTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgZ2FwOiA1cHg7XFxufVxcblxcbi4tLW1jcC1idXR0b25zLFxcbi4tLW1jcC1sZWZ0LWJ1dHRvbnMsXFxuLi0tbWNwLXJpZ2h0LWJ1dHRvbnMge1xcbiAgZmxleDogMTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIGdhcDogMjBweDtcXG59XFxuXFxuLi0tbWNwLWxlZnQtYnV0dG9ucyB7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XFxufVxcblxcbi4tLW1jcC1yaWdodC1idXR0b25zIHtcXG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XFxufVxcblxcbi4tLW1jcC1wcmV2aWV3IHtcXG4gIG1pbi13aWR0aDogMTAwcHg7XFxuICBtaW4taGVpZ2h0OiAxMDBweDtcXG4gIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm90dG9tOiA1MHB4O1xcbiAgYm9yZGVyOiAzcHggc29saWQ7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYm94LXNpemluZzogY29udGVudC1ib3g7XFxufVxcbi4tLW1jcC1wcmV2ZW50LXBvaW50LWV2ZW50cyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBsZWZ0OiAwO1xcbiAgdG9wOiAwO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICB6LWluZGV4OiAxMDA7XFxufVxcbi4tLW1jcC1wcmV2aWV3LWhvc3Qge1xcbiAgZmxleDogMTtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuXFxuLi0tbWNwLXByZXZpZXctbWlsbGlzZWNvbmQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGJvdHRvbTogLTI0cHg7XFxuICBsZWZ0OiA1MCU7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxufVxcblxcbi4tLW1jcC1sb29wLWJvdW5kYXJpZXMge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG4uLS1tY3AtbG9vcC1ib3VuZGFyaWVzOmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFwiXCI7XFxuICB0b3A6IC00cHg7XFxuICBsZWZ0OiAtNnB4O1xcbiAgd2lkdGg6IDEzcHg7XFxuICBoZWlnaHQ6IDEzcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYWVhZWFlO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm9yZGVyLXJhZGl1czogMTAwJTtcXG4gIHotaW5kZXg6IDEwMDtcXG59XFxuLi0tbWNwLWxvb3BiYXItc3RhcnQge1xcbiAgbGVmdDogLTVweDtcXG59XFxuLi0tbWNwLWxvb3BiYXItZW5kIHtcXG4gIHJpZ2h0OiA1cHg7XFxufVxcbi4tLW1jcC1sb29wYmFyLFxcbi4tLW1jcC1sb29wYmFyLWNvbG9yLFxcbi4tLW1jcC1ydW5uaW5nYmFyLFxcbi4tLW1jcC1zdGF0dXMtYnRuLFxcbi4tLW1jcC1sb29wLWJvdW5kYXJpZXMsXFxuLi0tbWNwLWN1cnNvcixcXG4uLS1tY3AtYnRuLFxcbi4tLW1jcC12b2x1bWUgKixcXG4uLS1tYy1wbGF5ZXIgc3ZnLFxcbi4tLW1jLXBsYXllciBzdmcgKiB7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi4tLW1jcC1idG4ge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuLi0tbWNwLXN0YXR1cy1idG4ge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGdhcDogM3B4O1xcbn1cXG4uLS1tY3AtaW5kaWNhdG9yIHtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG59XFxuLi0tbWNwLWxpc3RlbmVyLWhlbHBlciB7XFxuICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG59XFxuXFxuLi0tbWNwLWJ0biB7XFxuICBmb250LXNpemU6IDIwcHg7XFxufVxcblxcbi4tLW1jcC12b2x1bWUtYnRuIHtcXG4gIGZvbnQtc2l6ZTogMTVweDtcXG59XFxuLi0tbWNwLXZvbHVtZWJhciB7XFxuICB3aWR0aDogMDtcXG4gIHBhZGRpbmctbGVmdDogMHB4O1xcbiAgcGFkZGluZy1yaWdodDogMHB4O1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIHRyYW5zaXRpb246IGFsbCBlYXNlIDAuMnM7XFxufVxcbi4tLW1jcC12b2x1bWUge1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG4uLS1tY3Atdm9sdW1lOmhvdmVyIHtcXG4gIHBhZGRpbmctcmlnaHQ6IDEwcHg7XFxufVxcbi4tLW1jcC12b2x1bWU6aG92ZXIgLi0tbWNwLXZvbHVtZWJhcixcXG4uLS1tY3Atdm9sdW1lOmFjdGl2ZSAuLS1tY3Atdm9sdW1lYmFyIHtcXG4gIHdpZHRoOiA1MnB4O1xcbiAgcGFkZGluZy1sZWZ0OiA1cHg7XFxufVxcbi4tLW1jcC12b2x1bWU6aG92ZXIgLi0tbWNwLXZvbHVtZS1jdXJzb3IsXFxuLi0tbWNwLXZvbHVtZTphY3RpdmUgLi0tbWNwLXZvbHVtZS1jdXJzb3Ige1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcblxcbi4tLW1jcC1idG46OmJlZm9yZSB7XFxuICBjb2xvcjogdmFyKC0tZGVmYXVsdENvbG9yKSAhaW1wb3J0YW50O1xcbn1cXG4uLS1tY3AtYnRuOjpiZWZvcmU6aG92ZXIge1xcbiAgZmlsdGVyOiBicmlnaHRuZXNzKDQwKTtcXG59XFxuLi0tbWNwLXNldHRpbmdzLXNwZWVkLWhpZGUge1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcXG59XFxudWwuLS1tY3Atc3BlZWQtdmFsdWVzIHtcXG4gIHBhZGRpbmc6IDBweDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcbnVsLi0tbWNwLXNwZWVkLXZhbHVlcyBsaSB7XFxuICB3aWR0aDogMTAwJTtcXG59XFxudWwuLS1tY3Atc3BlZWQtdmFsdWVzIGxpIHAge1xcbiAgd2lkdGg6IDEwMCU7XFxufVxcbi4tLW1jcC1zZXR0aW5ncy1wYW5lbCB1bCB7XFxuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIHBhZGRpbmc6IDVweCAwcHg7XFxuICBtYXJnaW46IDBweDtcXG4gIGZsZXg6IDE7XFxufVxcblxcbi4tLW1jcC1zZXR0aW5ncy1wYW5lbCB1bCBsaSB7XFxuICBmbGV4OiAxO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBtaW4taGVpZ2h0OiA0MHB4O1xcbiAgcGFkZGluZzogMHB4IDIxcHg7XFxufVxcbi4tLW1jcC1zZXR0aW5ncy1wYW5lbCB1bCBsaSAqIHtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLi0tbWNwLXNldHRpbmdzLXBhbmVsIHVsIGxpOm5vdCguLS1tY3Atbm8taG92ZXIpOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEodmFyKC0tYWN0aXZlQ29sb3IpLCAwLjIpO1xcbn1cXG5cXG4uLS1tY3Atc2V0dGluZ3MtcGFuZWwgdWwgbGkgPiBkaXYge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xcbiAgd2lkdGg6IDQ4cHg7XFxuICBmbGV4OiAxO1xcbiAgZ2FwOiAxMHB4O1xcbn1cXG5cXG4uLS1tY3Atc2V0dGluZ3MtcGFuZWwge1xcbiAgd2lkdGg6IDI1MXB4O1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyOCwgMjgsIDI4LCAwLjkpO1xcbiAgcmlnaHQ6IDE1cHg7XFxuICBib3R0b206IDUwcHg7XFxuICB0cmFuc2l0aW9uOiBhbGwgZWFzZSAwLjJzO1xcbiAgei1pbmRleDogMTAwMDtcXG4gIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xcbn1cXG5cXG4uLS1tY3Atc3BlZWQtdmFsdWVzIHtcXG4gIHBhZGRpbmc6IDBweDtcXG59XFxuLi0tbWNwLW5vLWhvdmVyIHtcXG4gIHBhZGRpbmc6IDBweCAhaW1wb3J0YW50O1xcbn1cXG4uLS1tY3Atc3BlZWQtdmFsdWUtaXRlbTpub3QoLi0tbWNwLXNlbGVjdGVkKSB7XFxuICBwYWRkaW5nLWxlZnQ6IDE1cHg7XFxufVxcbi4tLW1jcC1zcGVlZC12YWx1ZS1pdGVtLi0tbWNwLXNlbGVjdGVkIHtcXG4gIHBhZGRpbmctbGVmdDogMTBweDtcXG59XFxuLi0tbWNwLXNwZWVkLXZhbHVlIC5pY29uLWNoZWNrLXNvbGlkIHtcXG4gIG1hcmdpbi1sZWZ0OiAtNXB4O1xcbn1cXG4uLS1tY3Atc2V0dGluZ3MtcGFuZWwgdWwuLS1tY3Atc3BlZWQtc2V0dGluZ3MgbGkgPiBkaXYge1xcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xcbiAgZmxleDogdW5zZXQ7XFxuICB3aWR0aDogMjBweDtcXG59XFxuXFxuLi0tbWNwLW1haW4tc2V0dGluZ3MgdWwgbGkgPiBwIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xcbiAgZmxleDogMTtcXG59XFxuXFxuLyogXFxuXFxuU2xpZGVycyBcXG5cXG4qL1xcbi4tLW1jLXBsYXllciAuc3dpdGNoIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIHdpZHRoOiAzNnB4O1xcbiAgaGVpZ2h0OiAxNHB4O1xcbn1cXG5cXG4uLS1tYy1wbGF5ZXIgLnN3aXRjaCBpbnB1dCB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG4uLS1tYy1wbGF5ZXIgLnNldHRpbmdzLXN3aXRjaDo6YWZ0ZXIge1xcbiAgY2xlYXI6IGJvdGg7XFxufVxcblxcbi4tLW1jLXBsYXllciAuc2xpZGVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IDA7XFxuICByaWdodDogMDtcXG4gIGJvdHRvbTogMDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM5OTk7XFxuICAtd2Via2l0LXRyYW5zaXRpb246IDAuNHM7XFxuICB0cmFuc2l0aW9uOiAwLjRzO1xcbn1cXG5cXG4uLS1tYy1wbGF5ZXIgLnNsaWRlcjpiZWZvcmUge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgY29udGVudDogXCJcIjtcXG4gIGhlaWdodDogMjBweDtcXG4gIHdpZHRoOiAyMHB4O1xcbiAgbGVmdDogMHB4O1xcbiAgYm90dG9tOiAtM3B4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2NmY2ZjZjtcXG4gIC13ZWJraXQtdHJhbnNpdGlvbjogMC40cztcXG4gIHRyYW5zaXRpb246IDAuNHM7XFxufVxcblxcbi4tLW1jLXBsYXllciBpbnB1dDpjaGVja2VkICsgLnNsaWRlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IodmFyKC0tYWN0aXZlQ29sb3IpKTtcXG59XFxuLi0tbWMtcGxheWVyIGlucHV0OmNoZWNrZWQgKyAuc2xpZGVyOmJlZm9yZSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXG59XFxuXFxuLi0tbWMtcGxheWVyIGlucHV0OmZvY3VzICsgLnNsaWRlciB7XFxuICBib3gtc2hhZG93OiAwIDAgMXB4IHJnYih2YXIoLS1hY3RpdmVDb2xvcikpO1xcbn1cXG5cXG4uLS1tYy1wbGF5ZXIgaW5wdXQ6Y2hlY2tlZCArIC5zbGlkZXI6YmVmb3JlIHtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDE2cHgpO1xcbiAgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlWCgxNnB4KTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgxNnB4KTtcXG59XFxuXFxuLi0tbWMtcGxheWVyIC5zbGlkZXIucm91bmQge1xcbiAgYm9yZGVyLXJhZGl1czogMzRweDtcXG59XFxuXFxuLi0tbWMtcGxheWVyIC5zbGlkZXIucm91bmQ6YmVmb3JlIHtcXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcXG59XFxuXFxuLi0tbWMtcGxheWVyIC5tLWZhZGVPdXQge1xcbiAgdmlzaWJpbGl0eTogaGlkZGVuICFpbXBvcnRhbnQ7XFxuICBvcGFjaXR5OiAwICFpbXBvcnRhbnQ7XFxuICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XFxufVxcblxcbi4tLW1jLXBsYXllciAubS1mYWRlSW4ge1xcbiAgZGlzcGxheTogdW5zZXQ7XFxuICB2aXNpYmlsaXR5OiB2aXNpYmxlICFpbXBvcnRhbnQ7XFxuICBvcGFjaXR5OiAxICFpbXBvcnRhbnQ7XFxufVxcblxcbi4tLW1jcC12b2x1bWUtY3Vyc29yIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHdpZHRoOiAxNHB4O1xcbiAgaGVpZ2h0OiAxNHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKHZhcigtLWRlZmF1bHRDb2xvcikpO1xcbiAgcmlnaHQ6IC04cHg7XFxuICBib3JkZXItcmFkaXVzOiAxMDAlO1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLi0tbWNwLXZvbHVtZWJhci1jb2xvciB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogM3B4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSh2YXIoLS1kZWZhdWx0Q29sb3IpLCAwLjMpO1xcbn1cXG4uLS1tY3Atdm9sdW1lYmFyLWNvbG9yLWFjdGl2ZSB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYih2YXIoLS1kZWZhdWx0Q29sb3IpKTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcbic7ZnVuY3Rpb24gRyhlKXt2YXIgdD1lLmNsaXAucHJvcHMuaG9zdC5jbGFzc05hbWUuaW5jbHVkZXMoXCJmdWxsLXNjcmVlblwiKTtlLmNsaXAucHJvcHMuaG9zdCE9PWUub3B0aW9ucy5ob3N0JiYodD9lLm9wdGlvbnMuaG9zdC5hcHBlbmRDaGlsZChlLmVsZW1lbnRzLm1jUGxheWVyKTplLmNsaXAucHJvcHMuaG9zdC5hcHBlbmRDaGlsZChlLmVsZW1lbnRzLm1jUGxheWVyKSksdD9lLmV4aXRGdWxsc2NyZWVuKCk6ZS5sYXVuY2hJbnRvRnVsbHNjcmVlbihlLmNsaXAucHJvcHMuaG9zdCl9ZnVuY3Rpb24gcShlKXtlLnNldHRpbmdzLmxvb3BBY3RpdmF0ZWQ9IWUuc2V0dGluZ3MubG9vcEFjdGl2YXRlZCxlLmV2ZW50QnJvYWRjYXN0KHAsZS5zZXR0aW5ncy5sb29wQWN0aXZhdGVkKSxlLmVsZW1lbnRzLmxvb3BCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcInN2Zy1zZWxlY3RlZFwiKSxlLmVsZW1lbnRzLmxvb3BCYXJTdGFydC5jbGFzc0xpc3QudG9nZ2xlKFwibS1mYWRlT3V0XCIpLGUuZWxlbWVudHMubG9vcEJhckVuZC5jbGFzc0xpc3QudG9nZ2xlKFwibS1mYWRlT3V0XCIpLGUuZWxlbWVudHMubG9vcEJhclN0YXJ0LmNsYXNzTGlzdC50b2dnbGUoXCJtLWZhZGVJblwiKSxlLmVsZW1lbnRzLmxvb3BCYXJTdGFydC5jbGFzc0xpc3QudG9nZ2xlKFwiXCIuY29uY2F0KGUubmFtZSxcIi1oaWRlXCIpKSxlLmVsZW1lbnRzLmxvb3BCYXJFbmQuY2xhc3NMaXN0LnRvZ2dsZShcIm0tZmFkZUluXCIpLGUuZWxlbWVudHMubG9vcEJhckVuZC5jbGFzc0xpc3QudG9nZ2xlKFwiXCIuY29uY2F0KGUubmFtZSxcIi1oaWRlXCIpKSxlLnNldHRpbmdzLm5lZWRzVXBkYXRlPSEwLGUuc2V0dGluZ3MubG9vcEFjdGl2YXRlZHx8KGUuZWxlbWVudHMubG9vcEJhci5zdHlsZS5sZWZ0PVwiMCVcIixlLmVsZW1lbnRzLmxvb3BCYXIuc3R5bGUud2lkdGg9XCIxMDAlXCIsZS5zZXR0aW5ncy5sb29wU3RhcnRNaWxsaXNlY29uZD0wLGUuc2V0dGluZ3MubG9vcEVuZE1pbGxpc2Vjb25kPWUuY2xpcC5kdXJhdGlvbixlLnNldHRpbmdzLmxvb3BMYXN0UG9zaXRpb25YUHhscz0wLGUuc2V0dGluZ3MubG9vcExhc3RQb3NpdGlvblhQZXJjZW50YWdlPTAsZS5lbGVtZW50cy5ydW5uaW5nQmFyLnN0eWxlLndpZHRoPWUuY2xpcC5ydW5UaW1lSW5mby5jdXJyZW50TWlsbGlzZWNvbmQvZS5jbGlwLmR1cmF0aW9uKjEwMCtcIiVcIil9dmFyIEs9ZnVuY3Rpb24oZSl7aWYoIS9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSl7dmFyIHQ9UShlKSxuPXQubG9vcEJhck1vdXNlSW4scz10Lmxvb3BCYXJNb3VzZU91dCxvPXQubG9vcEJhckFkZExpc3RlbmVycyxpPXQubG9vcEJhck1vdXNlTW92ZTtlLmVsZW1lbnRzLmxvb3BCYXIub25tb3VzZW92ZXI9bixlLmVsZW1lbnRzLmxvb3BCYXIub25tb3VzZW91dD1zLGUuZWxlbWVudHMubG9vcEJhci5vbm1vdXNlZG93bj1mdW5jdGlvbigpe2Uub3B0aW9ucy5wcmV2aWV3JiYoZS5lbGVtZW50cy5sb29wQmFyLm9ubW91c2VvdmVyPWUuZWxlbWVudHMubG9vcEJhci5vbm1vdXNlb3V0PW51bGwsZS5lbGVtZW50cy5sb29wQmFyLm9ubW91c2Vtb3ZlPW51bGwsVChvLGkpKX0sZS5lbGVtZW50cy5sb29wQmFyLm9ubW91c2V1cD1mdW5jdGlvbigpe2Uub3B0aW9ucy5wcmV2aWV3JiYoeihvLGkpLGUuZWxlbWVudHMubG9vcEJhci5vbm1vdXNlb3Zlcj1uLGUuZWxlbWVudHMubG9vcEJhci5vbm1vdXNlb3V0PXMsZS5lbGVtZW50cy5sb29wQmFyLm9ubW91c2Vtb3ZlPWkpfX19LFE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oKXtlLm9wdGlvbnMucHJldmlldyYmKGUuZWxlbWVudHMucHJldmlldy5jbGFzc0xpc3QuYWRkKFwibS1mYWRlSW5cIiksZS5lbGVtZW50cy5wcmV2aWV3LmNsYXNzTGlzdC5yZW1vdmUoXCJtLWZhZGVPdXRcIiksZS5lbGVtZW50cy5sb29wQmFyLm9ubW91c2Vtb3ZlPXMpfSxuPWZ1bmN0aW9uKCl7ZS5vcHRpb25zLnByZXZpZXcmJihlLmVsZW1lbnRzLnByZXZpZXcuY2xhc3NMaXN0LnJlbW92ZShcIm0tZmFkZUluXCIpLGUuZWxlbWVudHMucHJldmlldy5jbGFzc0xpc3QuYWRkKFwibS1mYWRlT3V0XCIpLGUuZWxlbWVudHMubG9vcEJhci5vbm1vdXNlbW92ZT1zKX0scz1mdW5jdGlvbih0KXt2YXIgbj10LmNsaWVudFgscz1lLmVsZW1lbnRzLmxvb3BCYXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYobi1zLmxlZnQrZS5zZXR0aW5ncy5sb29wTGFzdFBvc2l0aW9uWFB4bHM+ZS5zZXR0aW5ncy5sb29wTGFzdFBvc2l0aW9uWFB4bHMrZS5lbGVtZW50cy5sb29wQmFyLm9mZnNldFdpZHRoJiYhZS5zZXR0aW5ncy5yZXNpemVMb29wKWUuZWxlbWVudHMucHJldmlld01pbGxpc2Vjb25kLmlubmVySFRNTD1lLnRpbWVGb3JtYXQoZS5zZXR0aW5ncy5sb29wRW5kTWlsbGlzZWNvbmQpO2Vsc2UgaWYobi1zLmxlZnQ8MCYmIWUuc2V0dGluZ3MucmVzaXplTG9vcCllLmVsZW1lbnRzLnByZXZpZXdNaWxsaXNlY29uZC5pbm5lckhUTUw9ZS50aW1lRm9ybWF0KGUuc2V0dGluZ3MubG9vcFN0YXJ0TWlsbGlzZWNvbmQpO2Vsc2V7dmFyIG89bi1zLmxlZnQrZS5zZXR0aW5ncy5sb29wTGFzdFBvc2l0aW9uWFB4bHM7bzwwJiYobz0wKTt2YXIgaT1lLmVsZW1lbnRzLnByZXZpZXcub2Zmc2V0V2lkdGgvMixsPWUuZWxlbWVudHMucHJldmlldy5vZmZzZXRXaWR0aC8yLHI9by1sO28taTwwP3I9MDpvK2k+ZS5lbGVtZW50cy50b3RhbEJhci5vZmZzZXRXaWR0aCYmKHI9ZS5lbGVtZW50cy50b3RhbEJhci5vZmZzZXRXaWR0aC1sLWkpO3ZhciBhPU1hdGgucm91bmQoby9lLmVsZW1lbnRzLnRvdGFsQmFyLm9mZnNldFdpZHRoKmUuY2xpcC5kdXJhdGlvbik7aWYoZS5vcHRpb25zLnByZXZpZXcpe3ZhciBjPWEvZS5jbGlwLmR1cmF0aW9uO2UucHJldmlld0NsaXAub25Qcm9ncmVzcyhjLGEpfWUuZWxlbWVudHMucHJldmlld01pbGxpc2Vjb25kLmlubmVySFRNTD1lLnRpbWVGb3JtYXQoYSksZS5lbGVtZW50cy5wcmV2aWV3LnN0eWxlLmxlZnQ9XCJcIi5jb25jYXQocixcInB4XCIpfX07cmV0dXJue2xvb3BCYXJNb3VzZUluOnQsbG9vcEJhck1vdXNlT3V0Om4sbG9vcEJhckFkZExpc3RlbmVyczpmdW5jdGlvbiBvKCl7ZS5vcHRpb25zLnByZXZpZXcmJihuKCksZS5lbGVtZW50cy5sb29wQmFyLm9ubW91c2VvdmVyPXQsZS5lbGVtZW50cy5sb29wQmFyLm9ubW91c2VvdXQ9bixlLmVsZW1lbnRzLmxvb3BCYXIub25tb3VzZW1vdmU9cyx6KG8scykpfSxsb29wQmFyTW91c2VNb3ZlOnN9fSxZPWZ1bmN0aW9uKGUpe2UuZWxlbWVudHMuc2hvd0luZGljYXRvckNoZWNrYm94LmNoZWNrZWQ/KGUuZWxlbWVudHMuc2hvd0luZGljYXRvckNoZWNrYm94LmNoZWNrZWQ9ITEsZS5lbGVtZW50cy5pbmRpY2F0b3Iuc3R5bGUuZGlzcGxheT1cIm5vbmVcIik6KGUuZWxlbWVudHMuc2hvd0luZGljYXRvckNoZWNrYm94LmNoZWNrZWQ9ITAsZS5lbGVtZW50cy5pbmRpY2F0b3Iuc3R5bGUuZGlzcGxheT12b2lkIDApLGUuZXZlbnRCcm9hZGNhc3QoXCJzaG93LWluZGljYXRvci1jaGFuZ2VcIixlLmVsZW1lbnRzLnNob3dJbmRpY2F0b3JDaGVja2JveC5jaGVja2VkKX0sWj1mdW5jdGlvbihlKXtlLmVsZW1lbnRzLnNob3dQb2ludGVyRXZlbnRzQ2hlY2tib3guY2hlY2tlZD8oZS5lbGVtZW50cy5zaG93UG9pbnRlckV2ZW50c0NoZWNrYm94LmNoZWNrZWQ9ITEsZS5lbGVtZW50cy5tY1BsYXllci5zdHlsZS5wb2ludGVyRXZlbnRzPVwibm9uZVwiLGUuZWxlbWVudHMucG9pbnRlckV2ZW50UGFuZWwuc3R5bGUucG9pbnRlckV2ZW50cz1cImF1dG9cIixlLmVsZW1lbnRzLmNvbnRyb2xzLnN0eWxlLnBvaW50ZXJFdmVudHM9XCJhdXRvXCIsZS5lbGVtZW50cy5zZXR0aW5nc1BhbmVsLnN0eWxlLnBvaW50ZXJFdmVudHM9XCJhdXRvXCIpOihlLmVsZW1lbnRzLnNob3dQb2ludGVyRXZlbnRzQ2hlY2tib3guY2hlY2tlZD0hMCxlLm9wdGlvbnMucG9pbnRlckV2ZW50cz0hMSxlLmVsZW1lbnRzLm1jUGxheWVyLnN0eWxlLnBvaW50ZXJFdmVudHM9XCJub25lXCIsZS5lbGVtZW50cy5wb2ludGVyRXZlbnRQYW5lbC5zdHlsZS5wb2ludGVyRXZlbnRzPVwibm9uZVwiLGUuZWxlbWVudHMuY29udHJvbHMuc3R5bGUucG9pbnRlckV2ZW50cz1cImF1dG9cIixlLmVsZW1lbnRzLnNldHRpbmdzUGFuZWwuc3R5bGUucG9pbnRlckV2ZW50cz1cImF1dG9cIiksZS5ldmVudEJyb2FkY2FzdChcInNob3ctcG9pbnRlci1ldmVudHMtY2hhbmdlXCIsZS5lbGVtZW50cy5zaG93UG9pbnRlckV2ZW50c0NoZWNrYm94LmNoZWNrZWQpfSwkPWZ1bmN0aW9uKGUpe2UuZWxlbWVudHMudm9sdW1lQ29udHJvbC5jbGFzc0xpc3QudG9nZ2xlKFwibS1mYWRlT3V0XCIpLGUuZWxlbWVudHMuc2hvd1ZvbHVtZUNoZWNrYm94LmNoZWNrZWQ/ZS5lbGVtZW50cy5zaG93Vm9sdW1lQ2hlY2tib3guY2hlY2tlZD0hMTplLmVsZW1lbnRzLnNob3dWb2x1bWVDaGVja2JveC5jaGVja2VkPSEwLGUuZXZlbnRCcm9hZGNhc3QoZCxlLmVsZW1lbnRzLnNob3dWb2x1bWVDaGVja2JveC5jaGVja2VkKX0sXz1mdW5jdGlvbihlKXtlLmVsZW1lbnRzLnNob3dQcmV2aWV3Q2hlY2tib3guY2hlY2tlZD8oZS5lbGVtZW50cy5zaG93UHJldmlld0NoZWNrYm94LmNoZWNrZWQ9ITEsZS5lbGVtZW50cy5wcmV2aWV3LnN0eWxlLmRpc3BsYXk9XCJub25lXCIsZS5lbGVtZW50cy5wcmV2aWV3LnN0eWxlLmRpc3BsYXk9XCJ1bnNldFwiLGUub3B0aW9ucy5wcmV2aWV3PSExKTooZS5wcmV2aWV3Q2xpcHx8ZS5jcmVhdGVQcmV2aWV3RGlzcGxheSgpLGUuZWxlbWVudHMuc2hvd1ByZXZpZXdDaGVja2JveC5jaGVja2VkPSEwLGUuZWxlbWVudHMucHJldmlldy5zdHlsZS5kaXNwbGF5PVwiZmxleFwiLGUub3B0aW9ucy5wcmV2aWV3PSEwKSxlLmV2ZW50QnJvYWRjYXN0KG0sZS5lbGVtZW50cy5zaG93UHJldmlld0NoZWNrYm94LmNoZWNrZWQpfTtmdW5jdGlvbiBlZShlLHQpe1wic2hvd0luZGljYXRvclwiPT09dD9ZKGUpOlwic2hvd1BvaW50ZXJFdmVudHNcIj09PXQ/WihlKTpcInNob3dWb2x1bWVcIj09PXQ/JChlKTpcInNob3dQcmV2aWV3XCI9PT10JiZfKGUpfWZ1bmN0aW9uIHRlKGUsdCxuKXt2YXIgbz1lLmVsZW1lbnRzO3ZvaWQgMCE9PXMobikmJighMT09PW4/KG8udm9sdW1lQmFyQWN0aXZlLnN0eWxlLndpZHRoPVwiXCIuY29uY2F0KDEwMCplLnNldHRpbmdzLnZvbHVtZSxcIiVcIiksZS5jbGlwLnNldFZvbHVtZShlLnNldHRpbmdzLnByZXZpb3VzVm9sdW1lKSxlLnNldHRpbmdzLnZvbHVtZU11dGU9ITEsVihvLnZvbHVtZUJ0bixVLFgpKTohMD09PW4mJihlLnNldHRpbmdzLnZvbHVtZU11dGU9ITAsby52b2x1bWVCYXJBY3RpdmUuc3R5bGUud2lkdGg9XCIwJVwiLGUuY2xpcC5zZXRWb2x1bWUoMCksVihvLnZvbHVtZUJ0bixYLFUpKSxlLm9wdGlvbnMubXV0ZWQ9ZS5zZXR0aW5ncy52b2x1bWVNdXRlLGUuZXZlbnRCcm9hZGNhc3QoYSxlLnNldHRpbmdzLnZvbHVtZU11dGUpKSx2b2lkIDAhPT1zKHQpJiYoZS5zZXR0aW5ncy52b2x1bWU9dCxlLnNldHRpbmdzLnZvbHVtZT4wJiYoZS5zZXR0aW5ncy5wcmV2aW91c1ZvbHVtZT10KSxvLnZvbHVtZUJhckFjdGl2ZS5zdHlsZS53aWR0aD1cIlwiLmNvbmNhdCgxMDAqZS5zZXR0aW5ncy52b2x1bWUsXCIlXCIpLGUuY2xpcC5zZXRWb2x1bWUoZS5zZXR0aW5ncy52b2x1bWUpLGUuc2V0dGluZ3Mudm9sdW1lPjA/KGUuc2V0dGluZ3Mudm9sdW1lTXV0ZT0hMSxWKG8udm9sdW1lQnRuLFUsWCkpOjA9PT1lLnNldHRpbmdzLnZvbHVtZSYmKGUuc2V0dGluZ3Mudm9sdW1lTXV0ZT0hMCxWKG8udm9sdW1lQnRuLFUsWCkpLGUub3B0aW9ucy52b2x1bWU9ZS5zZXR0aW5ncy52b2x1bWUsZS5ldmVudEJyb2FkY2FzdChyLGUuc2V0dGluZ3Mudm9sdW1lKSxlLmV2ZW50QnJvYWRjYXN0KGEsZS5zZXR0aW5ncy52b2x1bWVNdXRlKSl9dmFyIG5lPW5ldyBlLlRpbWVDYXBzdWxlO3JldHVybiBmdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49dGhpczshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMub3B0aW9ucz10aGlzLmluaXRpYWxpemVPcHRpb25zKGUpLHRoaXMuY2xhc3NOYW1lPWwsdGhpcy5pZD10aGlzLm9wdGlvbnMuaWQsdGhpcy5uYW1lPWwsdGhpcy5wcmV2aWV3Q2xpcD1udWxsLHRoaXMuY2xpcD1lLmNsaXAsdGhpcy5jbGlwQ2xhc3M9ZS5jbGlwQ2xhc3MsdGhpcy5zdGF0ZT10aGlzLmNsaXAucnVuVGltZUluZm8uc3RhdGUsdGhpcy5saXN0ZW5lcnM9e30sdGhpcy5wcmV2aWV3U2NhbGU9LjI1LHRoaXMuc2V0dGluZ3M9e3ZvbHVtZToxLGpvdXJuZXk6bnVsbCxwcmV2aW91c1ZvbHVtZToxLHZvbHVtZU11dGU6ITEsbmVlZHNVcGRhdGU6ITAscmVzaXplTG9vcDohMSxsb29wSm91cm5leTohMSxwcmV2aWV3Sm91cm5leTpudWxsLGxvb3BBY3RpdmF0ZWQ6ITEscmVxdWVzdGluZ0xvb3A6ITEscGxheUFmdGVyUmVzaXplOiExLGxvb3BTdGFydE1pbGxpc2Vjb25kOjAsbG9vcExhc3RQb3NpdGlvblhQeGxzOjAsbG9vcExhc3RQb3NpdGlvblhQZXJjZW50YWdlOjAsbG9vcEVuZE1pbGxpc2Vjb25kOnRoaXMuY2xpcC5kdXJhdGlvbixjb250cm9sczohMH0sRih0aGlzKSx0aGlzLnNldFRoZW1lKCksdGhpcy5zZXRTcGVlZCgpLHRoaXMuc3Vic2NyaWJlVG9UaW1lcigpLHRoaXMuc3Vic2NyaWJlVG9EdXJhdGlvbkNoYW5nZSgpLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKSx0aGlzLnNjYWxlQ2xpcEhvc3QoKSx0aGlzLmV2ZW50QnJvYWRjYXN0KGgsdGhpcy5zdGF0ZSksdGhpcy5vcHRpb25zLnByZXZpZXcmJnRoaXMuY3JlYXRlUHJldmlld0Rpc3BsYXkoKTt2YXIgcz1uZXcgUmVzaXplT2JzZXJ2ZXIoKGZ1bmN0aW9uKCl7bi5vcHRpb25zLnByZXZpZXcmJm4uc2V0UHJldmlld0RpbWVudGlvbnMoKSxuLm9wdGlvbnMuc2NhbGVUb0ZpdCYmbi5zY2FsZUNsaXBIb3N0KCl9KSk7dGhpcy5jaGFuZ2VTZXR0aW5ncyhlLCEwKSxzLm9ic2VydmUodGhpcy5vcHRpb25zLmhvc3QpLHRoaXMub3B0aW9ucy5hdXRvUGxheSYmdGhpcy5wbGF5KCl9dmFyIHMsaSxnO3JldHVybiBzPXQsKGk9W3trZXk6XCJpbml0aWFsaXplT3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0LG4scyxvLGksbCxyLGEsYyxwLHUsZCxtLGgsdixnLGYseSxiLHc7Zm9yKHZhciB4IGluIG51bGwhPT0odD1lLmlkKSYmdm9pZCAwIT09dHx8KGUuaWQ9RGF0ZS5ub3coKSksbnVsbCE9PShuPWUucHJldmlldykmJnZvaWQgMCE9PW58fChlLnByZXZpZXc9ITEpLG51bGwhPT0ocz1lLnNob3dWb2x1bWUpJiZ2b2lkIDAhPT1zfHwoZS5zaG93Vm9sdW1lPSExKSxudWxsIT09KG89ZS5zaG93SW5kaWNhdG9yKSYmdm9pZCAwIT09b3x8KGUuc2hvd0luZGljYXRvcj0hMSksbnVsbCE9PShpPWUudGhlbWUpJiZ2b2lkIDAhPT1pfHwoZS50aGVtZT1cInRyYW5zcGFyZW50IHBvc2l0aW9uLW9udG9wXCIpLG51bGwhPT0obD1lLmhvc3QpJiZ2b2lkIDAhPT1sfHwoZS5ob3N0PWUuY2xpcC5wcm9wcy5ob3N0KSxudWxsIT09KHI9ZS5idXR0b25zKSYmdm9pZCAwIT09cnx8KGUuYnV0dG9ucz17fSksbnVsbCE9PShhPWUudGltZUZvcm1hdCkmJnZvaWQgMCE9PWF8fChlLnRpbWVGb3JtYXQ9XCJzc1wiKSxudWxsIT09KGM9ZS5iYWNrZ3JvdW5kQ29sb3IpJiZ2b2lkIDAhPT1jfHwoZS5iYWNrZ3JvdW5kQ29sb3I9XCJibGFja1wiKSxudWxsIT09KHA9ZS5mdWxsc2NyZWVuKSYmdm9pZCAwIT09cHx8KGUuZnVsbHNjcmVlbj0hMSksbnVsbCE9PSh1PWUuc2NhbGVUb0ZpdCkmJnZvaWQgMCE9PXV8fChlLnNjYWxlVG9GaXQ9ITApLG51bGwhPT0oZD1lLnBvaW50ZXJFdmVudHMpJiZ2b2lkIDAhPT1kfHwoZS5wb2ludGVyRXZlbnRzPSExKSxudWxsIT09KG09ZS5vbk1pbGxpc2Vjb25kQ2hhbmdlKSYmdm9pZCAwIT09bXx8KGUub25NaWxsaXNlY29uZENoYW5nZT1udWxsKSxudWxsIT09KGg9ZS5zcGVlZFZhbHVlcykmJnZvaWQgMCE9PWh8fChlLnNwZWVkVmFsdWVzPVstMiwtMSwtLjUsMCwuNSwxLDJdKSxudWxsIT09KHY9ZS5zcGVlZCkmJnZvaWQgMCE9PXZ8fChlLnNwZWVkPTEpLG51bGwhPT0oZz1lLm11dGVkKSYmdm9pZCAwIT09Z3x8KGUubXV0ZWQ9ITEpLG51bGwhPT0oZj1lLmNvbnRyb2xzKSYmdm9pZCAwIT09Znx8KGUuY29udHJvbHM9ITApLG51bGwhPT0oeT1lLmxvb3ApJiZ2b2lkIDAhPT15fHwoZS5sb29wPSExKSxudWxsIT09KGI9ZS52b2x1bWUpJiZ2b2lkIDAhPT1ifHwoZS52b2x1bWU9MSksbnVsbCE9PSh3PWUuY3VycmVudFNjcmlwdCkmJnZvaWQgMCE9PXd8fChlLmN1cnJlbnRTY3JpcHQ9bnVsbCksZS5zcGVlZFZhbHVlcylpc0Zpbml0ZShlLnNwZWVkVmFsdWVzW3hdKXx8ZS5zcGVlZFZhbHVlcy5zcGxpY2UoeCwxKTtyZXR1cm4gZS5zcGVlZFZhbHVlcy5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiBlLXR9KSksZX19LHtrZXk6XCJwbGF5XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNsaXAucGxheSgpfX0se2tleTpcInBhdXNlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNsaXAucGF1c2UoKX19LHtrZXk6XCJjaGFuZ2VTZXR0aW5nc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHM9dGhpczsoZT10aGlzLmluaXRpYWxpemVPcHRpb25zKG4obih7fSx0aGlzLm9wdGlvbnMpLGUpKSkuY2xpcCE9PXRoaXMub3B0aW9ucy5jbGlwJiYodD0hMCx0aGlzLmNsaXA9ZS5jbGlwLHRoaXMub3B0aW9ucy5jbGlwPWUuY2xpcCksITE9PT1lLmNvbnRyb2xzP3RoaXMuZWxlbWVudHMubWNQbGF5ZXIuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjohMD09PWUuY29udHJvbHMmJih0aGlzLmVsZW1lbnRzLm1jUGxheWVyLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiKTt2YXIgbz17bG9vcDpmdW5jdGlvbigpe3JldHVybiBxKHMpfSxmdWxsc2NyZWVuOmZ1bmN0aW9uKCl7cmV0dXJuIEcocyl9LG11dGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRlKHMsdm9pZCAwLGUubXV0ZSl9LHZvbHVtZTpmdW5jdGlvbigpe3JldHVybiB0ZShzLGUudm9sdW1lKX0sc3BlZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt0PXBhcnNlRmxvYXQodCl8fDEsZS5ldmVudEJyb2FkY2FzdChjLHQpO3ZhciBuPTE9PXQ/XCJOb3JtYWxcIjp0O2UuY2xpcC5leGVjdXRpb25TcGVlZD10LGUuZWxlbWVudHMuc3BlZWRDdXJyZW50LmlubmVySFRNTD1ufShzLGUuc3BlZWQpfSxzY2FsZVRvRml0OmZ1bmN0aW9uKCl7cy5vcHRpb25zLnNjYWxlVG9GaXQ9ZS5zY2FsZVRvRml0LHMuc2NhbGVDbGlwSG9zdCgpfSxzaG93Vm9sdW1lOmZ1bmN0aW9uKCl7cmV0dXJuIGVlKHMsXCJzaG93Vm9sdW1lXCIpfSxwcmV2aWV3OmZ1bmN0aW9uKCl7cmV0dXJuIGVlKHMsXCJzaG93UHJldmlld1wiKX0sdGhlbWU6ZnVuY3Rpb24oKXtzLm9wdGlvbnMudGhlbWU9ZS50aGVtZSxzLnNldFRoZW1lKCl9LG92ZXJmbG93OmZ1bmN0aW9uKCl7cy5jbGlwLnByb3BzLmhvc3Quc2hhZG93Um9vdC5jaGlsZHJlblswXS5zdHlsZS5vdmVyZmxvdz1lLm92ZXJmbG93fSxvdXRsaW5lOmZ1bmN0aW9uKCl7cy5jbGlwLnByb3BzLmhvc3Quc2hhZG93Um9vdC5jaGlsZHJlblswXS5zdHlsZS5vdXRsaW5lPWUub3V0bGluZX0sdmlzaWJsZTpmdW5jdGlvbigpe1wiYWx3YXlzXCI9PWUudmlzaWJsZT9zLmVsZW1lbnRzLmNvbnRyb2xzLmNsYXNzTGlzdC5hZGQoXCItLW1jcC1hbHdheXMtc2hvdy1jb250cm9sc1wiKTpcIm5vcm1hbFwiPT1lLnZpc2libGUmJnMuZWxlbWVudHMuY29udHJvbHMuY2xhc3NMaXN0LnJlbW92ZShcIi0tbWNwLWFsd2F5cy1zaG93LWNvbnRyb2xzXCIpfX0saT1bXCJmdWxsc2NyZWVuXCIsXCJtdXRlZFwiLFwidm9sdW1lXCIsXCJzcGVlZFwiLFwic2NhbGVUb0ZpdFwiLFwibG9vcFwiLFwib3ZlcmZsb3dcIixcIm91dGxpbmVcIixcInZpc2libGVcIl07Zm9yKHZhciBsIGluIG8pdm9pZCAwIT09ZVtsXSYmKHRoaXMub3B0aW9uc1tsXSE9PWVbbF18fHQmJnRoaXMub3B0aW9uc1tsXSYmaS5pbmNsdWRlcyhsKSkmJm9bbF0oKTt0aGlzLm9wdGlvbnM9bihuKHt9LHRoaXMub3B0aW9ucyksZSl9fSx7a2V5Olwic2NhbGVDbGlwSG9zdFwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLnNjYWxlVG9GaXQpe3ZhciBlPXRoaXMuY2xpcC5wcm9wcy5jb250YWluZXJQYXJhbXMsdD1FKHt3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodH0se3dpZHRoOnRoaXMuY2xpcC5wcm9wcy5ob3N0Lm9mZnNldFdpZHRoLGhlaWdodDp0aGlzLmNsaXAucHJvcHMuaG9zdC5vZmZzZXRIZWlnaHQtKFwiYWx3YXlzXCI9PXRoaXMub3B0aW9ucy52aXNpYmxlPzQ0OjApfSxcImNvdmVyXCI9PT10aGlzLm9wdGlvbnMuc2NhbGVUb0ZpdCk7dGhpcy5jbGlwLnJlYWxDbGlwLnJvb3RFbGVtZW50LnN0eWxlLnRyYW5zZm9ybT1cInNjYWxlKFwiLmNvbmNhdCh0LnNjYWxlKSx0aGlzLmNsaXAucmVhbENsaXAucm9vdEVsZW1lbnQuc3R5bGUubGVmdD1cIlwiLmNvbmNhdCh0LnBvc2l0aW9uLmxlZnQsXCJweFwiKSx0aGlzLmNsaXAucmVhbENsaXAucm9vdEVsZW1lbnQuc3R5bGUudG9wPVwiXCIuY29uY2F0KHQucG9zaXRpb24udG9wLFwicHhcIil9ZWxzZSB0aGlzLmNsaXAucmVhbENsaXAucm9vdEVsZW1lbnQuc3R5bGUudHJhbnNmb3JtPVwic2NhbGUoMSlcIix0aGlzLmNsaXAucmVhbENsaXAucm9vdEVsZW1lbnQuc3R5bGUubGVmdD1cIjBweFwiLHRoaXMuY2xpcC5yZWFsQ2xpcC5yb290RWxlbWVudC5zdHlsZS50b3A9XCIwcHhcIjt0aGlzLmV2ZW50QnJvYWRjYXN0KHUsdGhpcy5vcHRpb25zLnNjYWxlVG9GaXQpfX0se2tleTpcImNyZWF0ZUxvb3BcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuc2V0dGluZ3MubG9vcFN0YXJ0TWlsbGlzZWNvbmQ9ZSx0aGlzLnNldHRpbmdzLmxvb3BFbmRNaWxsaXNlY29uZD10LHRoaXMuZWxlbWVudHMubG9vcEJhci5zdHlsZS5sZWZ0PVwiXCIuY29uY2F0KGUvdGhpcy5jbGlwLmR1cmF0aW9uKjEwMCxcIiVcIiksdGhpcy5lbGVtZW50cy5sb29wQmFyLnN0eWxlLndpZHRoPVwiXCIuY29uY2F0KCh0LWUpL3RoaXMuY2xpcC5kdXJhdGlvbioxMDAsXCIlXCIpLHRoaXMuY3JlYXRlSm91cm5leShlKSx0aGlzLmVsZW1lbnRzLnJ1bm5pbmdCYXIuc3R5bGUud2lkdGg9XCIwJVwiLCF0aGlzLnNldHRpbmdzLmxvb3BBY3RpdmF0ZWQmJnEodGhpcyl9fSx7a2V5OlwiY3JlYXRlSm91cm5leVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scz10aGlzLmNsaXA7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt2YXIgbz1uLmJlZm9yZSxpPXZvaWQgMD09PW8/bnVsbDpvLGw9bi5hZnRlcixyPXZvaWQgMD09PWw/bnVsbDpsO2kmJnNbaV0oKSx0LnNldHRpbmdzLmpvdXJuZXk9bmUuc3RhcnRKb3VybmV5KHMpLHQuc2V0dGluZ3Muam91cm5leS5zdGF0aW9uKGUpLHQuc2V0dGluZ3Muam91cm5leS5kZXN0aW5hdGlvbigpLHImJnNbcl0oKX0pLDApfX0se2tleTpcIm1pbGxpc2Vjb25kQ2hhbmdlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4scyl7dmFyIG89IShhcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XSl8fGFyZ3VtZW50c1s0XTtpZih0aGlzLnN0YXRlIT09dCYmKHRoaXMuc3RhdGU9dCx0aGlzLmV2ZW50QnJvYWRjYXN0KGgsdCkpLCF0aGlzLnNldHRpbmdzLm5lZWRzVXBkYXRlKXJldHVybiB0aGlzLmNsaXAucGF1c2UoKSwxO3ZhciBpPXRoaXMuc2V0dGluZ3MubG9vcEFjdGl2YXRlZDtpJiZ0aGlzLmNsaXAuc3BlZWQmJnRoaXMuY2FsY3VsYXRlSm91cm5leShlKTt2YXIgbD10aGlzLmNsaXAuZHVyYXRpb24scj10aGlzLmVsZW1lbnRzLGE9ci50b3RhbEJhcixjPXIubG9vcEJhcixwPWMub2Zmc2V0V2lkdGgsdT1jLm9mZnNldExlZnQvYS5vZmZzZXRXaWR0aCxkPWUtbCp1LG09bC9hLm9mZnNldFdpZHRoKnA7cyYmdGhpcy5jcmVhdGVKb3VybmV5KGUse2FmdGVyOnRoaXMuc2V0dGluZ3MucGxheUFmdGVyUmVzaXplP1wicGxheVwiOm51bGx9KSx0aGlzLmVsZW1lbnRzLnJ1bm5pbmdCYXIuc3R5bGUud2lkdGg9ZC9tKjEwMCtcIiVcIix0aGlzLmVsZW1lbnRzLmN1cnJlbnRUaW1lLmlubmVySFRNTD10aGlzLnRpbWVGb3JtYXQoZSksdGhpcy5vcHRpb25zLm9uTWlsbGlzZWNvbmRDaGFuZ2UmJm8mJnRoaXMub3B0aW9ucy5vbk1pbGxpc2Vjb25kQ2hhbmdlKGUpfX0se2tleTpcImNhbGN1bGF0ZUpvdXJuZXlcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnNldHRpbmdzLG49dC5sb29wRW5kTWlsbGlzZWNvbmQscz10Lmxvb3BTdGFydE1pbGxpc2Vjb25kLG89ZT5ufHxlPT09dGhpcy5jbGlwLmR1cmF0aW9uLGk9ZTxzfHwwPT09ZSxsPXRoaXMuY2xpcC5zcGVlZD4wO2lmKHRoaXMuY2xpcC5ydW5UaW1lSW5mby5zdGF0ZT09PVIpaWYobCl7aWYobylyZXR1cm4gdGhpcy5jcmVhdGVKb3VybmV5KHMrMSx7YWZ0ZXI6XCJwbGF5XCJ9KSwhMH1lbHNlIGlmKGkpcmV0dXJuIHRoaXMuY3JlYXRlSm91cm5leShuLTEse2FmdGVyOlwicGxheVwifSksITA7cmV0dXJuITF9fSx7a2V5OlwiYnJvYWRjYXN0Tm90UGxheWluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudHMuY29udHJvbHMuY2xhc3NMaXN0LnZhbHVlLmluY2x1ZGVzKE4pfHx0aGlzLmVsZW1lbnRzLmNvbnRyb2xzLmNsYXNzTGlzdC50b2dnbGUoTiksVih0aGlzLmVsZW1lbnRzLnN0YXR1c0J1dHRvbixcInBhdXNlXCIsXCJwbGF5XCIpLHRoaXMuZWxlbWVudHMuaW5kaWNhdG9yLmlubmVySFRNTD1cIlwiLmNvbmNhdChlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSkpLFwiYmxvY2tlZFwiPT1lP3RoaXMuYWRkU3Bpbm5lcigpOnRoaXMucmVtb3ZlU3Bpbm5lcigpfX0se2tleTpcImNoYW5nZUluaXRQYXJhbXNcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmNsaXAucGF1c2UoKTt2YXIgbj10aGlzLmNsaXAuZXhwb3J0TGl2ZURlZmluaXRpb24oKTtmb3IodmFyIHMgaW4gbi5wcm9wcy5ob3N0PXRoaXMuY2xpcC5wcm9wcy5ob3N0LG4ucHJvcHMuaW5pdFBhcmFtcz10LHRoaXMuY2xpcC5yZWFsQ2xpcC5jb250ZXh0LnVubW91bnQoKSx0aGlzLmNsaXApZGVsZXRlIHRoaXMuY2xpcFtzXTt0aGlzLmNsaXA9ZS51dGlscy5jbGlwRnJvbURlZmluaXRpb24obiksdGhpcy5zdWJzY3JpYmVUb1RpbWVyKCksdGhpcy5zdWJzY3JpYmVUb0R1cmF0aW9uQ2hhbmdlKCl9fSx7a2V5OlwiYWRkU3Bpbm5lclwiLHZhbHVlOmZ1bmN0aW9uKCl7Vih0aGlzLmVsZW1lbnRzLnBvaW50ZXJFdmVudFBhbmVsLG51bGwsXCJzcGlubmVyXCIpLHRoaXMuZWxlbWVudHMucG9pbnRlckV2ZW50UGFuZWwuY2xhc3NMaXN0LmFkZChcImxvYWRpbmdcIil9fSx7a2V5OlwicmVtb3ZlU3Bpbm5lclwiLHZhbHVlOmZ1bmN0aW9uKCl7Vih0aGlzLmVsZW1lbnRzLnBvaW50ZXJFdmVudFBhbmVsLFwic3Bpbm5lclwiLG51bGwpLHRoaXMuZWxlbWVudHMucG9pbnRlckV2ZW50UGFuZWwuY2xhc3NMaXN0LnJlbW92ZShcImxvYWRpbmdcIil9fSx7a2V5OlwiYnJvYWRjYXN0UGxheWluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMucmVtb3ZlU3Bpbm5lcigpLHRoaXMuZWxlbWVudHMuY29udHJvbHMuY2xhc3NMaXN0LnZhbHVlLmluY2x1ZGVzKE4pJiZ0aGlzLmVsZW1lbnRzLmNvbnRyb2xzLmNsYXNzTGlzdC50b2dnbGUoTiksdGhpcy5lbGVtZW50cy5pbmRpY2F0b3IuaW5uZXJIVE1MPVwiUGxheWluZ1wiLFYodGhpcy5lbGVtZW50cy5zdGF0dXNCdXR0b24sXCJwbGF5XCIsXCJwYXVzZVwiKSxlPT09UiYmKHRoaXMuY2xpcC5ydW5UaW1lSW5mby5jdXJyZW50TWlsbGlzZWNvbmQ9PT10aGlzLmNsaXAuZHVyYXRpb24mJnRoaXMuY2xpcC5zcGVlZD49MD90aGlzLmNyZWF0ZUpvdXJuZXkoMSx7YWZ0ZXI6XCJwbGF5XCJ9KToodGhpcy5jbGlwLnJ1blRpbWVJbmZvLmN1cnJlbnRNaWxsaXNlY29uZD09PXRoaXMuY2xpcC5kdXJhdGlvbnx8MD09PXRoaXMuY2xpcC5ydW5UaW1lSW5mby5jdXJyZW50TWlsbGlzZWNvbmQpJiZ0aGlzLmNsaXAuc3BlZWQ8MCYmdGhpcy5jcmVhdGVKb3VybmV5KHRoaXMuY2xpcC5kdXJhdGlvbi0xLHthZnRlcjpcInBsYXlcIn0pKX19LHtrZXk6XCJicm9hZGNhc3REdXJhdGlvbkNoYW5nZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50cy50b3RhbFRpbWUuaW5uZXJIVE1MPXRoaXMudGltZUZvcm1hdCh0aGlzLmNsaXAuZHVyYXRpb24pLHRoaXMuc2V0dGluZ3MubG9vcEVuZE1pbGxpc2Vjb25kPXRoaXMuY2xpcC5kdXJhdGlvbix0aGlzLmVsZW1lbnRzLnBvaW50ZXJFdmVudFBhbmVsLmlubmVySFRNTD1cIlwiLHRoaXMubWlsbGlzZWNvbmRDaGFuZ2UodGhpcy5jbGlwLnJ1blRpbWVJbmZvLmN1cnJlbnRNaWxsaXNlY29uZCl9fSx7a2V5OlwiYnJvYWRjYXN0Vm9sdW1lQ2hhbmdlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5vcHRpb25zLnZvbHVtZT1lLHRoaXMub3B0aW9ucy5jdXJyZW50U2NyaXB0LmRhdGFzZXQudm9sdW1lPWV9fSx7a2V5OlwiYnJvYWRjYXN0U3BlZWRDaGFuZ2VcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm9wdGlvbnMuc3BlZWQ9ZSx0aGlzLm9wdGlvbnMuY3VycmVudFNjcmlwdC5kYXRhc2V0LnNwZWVkPWV9fSx7a2V5OlwiYnJvYWRjYXN0TXV0ZUNoYW5nZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2U/KHRoaXMub3B0aW9ucy5tdXRlZD0hMCx0aGlzLm9wdGlvbnMuY3VycmVudFNjcmlwdC5kYXRhc2V0Lm11dGVkPVwiXCIpOih0aGlzLm9wdGlvbnMubXV0ZWQ9ITEsZGVsZXRlIHRoaXMub3B0aW9ucy5jdXJyZW50U2NyaXB0LmRhdGFzZXQubXV0ZWQpfX0se2tleTpcImJyb2FkY2FzdExvb3BDaGFuZ2VcIix2YWx1ZTpmdW5jdGlvbihlKXtlPyh0aGlzLm9wdGlvbnMubG9vcD0hMCx0aGlzLm9wdGlvbnMuY3VycmVudFNjcmlwdC5kYXRhc2V0Lmxvb3A9XCJcIik6KHRoaXMub3B0aW9ucy5sb29wPSExLGRlbGV0ZSB0aGlzLm9wdGlvbnMuY3VycmVudFNjcmlwdC5kYXRhc2V0Lmxvb3ApfX0se2tleTpcImJyb2FkY2FzdFNjYWxlQ2hhbmdlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZT8odGhpcy5vcHRpb25zLnNjYWxlVG9GaXQ9ITAsdGhpcy5vcHRpb25zLmN1cnJlbnRTY3JpcHQuZGF0YXNldC5zY2FsZVRvRml0PVwiXCIpOih0aGlzLm9wdGlvbnMuc2NhbGVUb0ZpdD0hMSxkZWxldGUgdGhpcy5vcHRpb25zLmN1cnJlbnRTY3JpcHQuZGF0YXNldC5zY2FsZVRvRml0KX19LHtrZXk6XCJicm9hZGNhc3RTaG93Vm9sdW1lQ2hhbmdlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZT8odGhpcy5vcHRpb25zLnNob3dWb2x1bWU9ITAsdGhpcy5vcHRpb25zLmN1cnJlbnRTY3JpcHQuZGF0YXNldC5zaG93Vm9sdW1lPVwiXCIpOih0aGlzLm9wdGlvbnMuc2hvd1ZvbHVtZT0hMSxkZWxldGUgdGhpcy5vcHRpb25zLmN1cnJlbnRTY3JpcHQuZGF0YXNldC5zaG93Vm9sdW1lKX19LHtrZXk6XCJicm9hZGNhc3RTaG93UHJldmlld0NoYW5nZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2U/KHRoaXMub3B0aW9ucy5wcmV2aWV3PSEwLHRoaXMub3B0aW9ucy5jdXJyZW50U2NyaXB0LmRhdGFzZXQucHJldmlldz1cIlwiKToodGhpcy5vcHRpb25zLnByZXZpZXc9ITEsZGVsZXRlIHRoaXMub3B0aW9ucy5jdXJyZW50U2NyaXB0LmRhdGFzZXQucHJldmlldyl9fSx7a2V5OlwiYnJvYWRjYXN0VG9TY3JpcHRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2U9PT1yP3RoaXMuYnJvYWRjYXN0Vm9sdW1lQ2hhbmdlKHQpOmU9PT1jP3RoaXMuYnJvYWRjYXN0U3BlZWRDaGFuZ2UodCk6ZT09PWE/dGhpcy5icm9hZGNhc3RNdXRlQ2hhbmdlKHQpOmU9PT1wP3RoaXMuYnJvYWRjYXN0TG9vcENoYW5nZSh0KTplPT09dT90aGlzLmJyb2FkY2FzdFNjYWxlQ2hhbmdlKHQpOmU9PT1kP3RoaXMuYnJvYWRjYXN0U2hvd1ZvbHVtZUNoYW5nZSh0KTplPT09bSYmdGhpcy5icm9hZGNhc3RTaG93UHJldmlld0NoYW5nZSh0KX19LHtrZXk6XCJldmVudEJyb2FkY2FzdFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7ZT09PWg/KHRoaXMub3B0aW9ucy5jdXJyZW50U2NyaXB0JiYodGhpcy5vcHRpb25zLmN1cnJlbnRTY3JpcHQuZGF0YXNldC5zdGF0dXM9dCksW1wicGF1c2VkXCIsXCJpZGxlXCIsXCJ0cmFuc2l0aW9uYWxcIixcImFybWVkXCIsXCJibG9ja2VkXCJdLmluY2x1ZGVzKHQpP3RoaXMuYnJvYWRjYXN0Tm90UGxheWluZyh0KTp0aGlzLmJyb2FkY2FzdFBsYXlpbmcodCkpOmU9PT12P3RoaXMuYnJvYWRjYXN0RHVyYXRpb25DaGFuZ2UoKTp0aGlzLm9wdGlvbnMuY3VycmVudFNjcmlwdCYmdGhpcy5icm9hZGNhc3RUb1NjcmlwdChlLHQpfX0se2tleTpcInN1YnNjcmliZVRvRHVyYXRpb25DaGFuZ2VcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY2xpcC5zdWJzY3JpYmVUb0R1cmF0aW9uQ2hhbmdlKHRoaXMuc3Vic2NyaWJlVG9EdXJhdGlvbkNoYW5nZUNhbGxiYWNrLmJpbmQodGhpcykpfX0se2tleTpcInN1YnNjcmliZVRvRHVyYXRpb25DaGFuZ2VDYWxsYmFja1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5ldmVudEJyb2FkY2FzdCh2KX19LHtrZXk6XCJzdWJzY3JpYmVUb1RpbWVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNsaXAuc3Vic2NyaWJlKHRoaXMuaWQsdGhpcy5taWxsaXNlY29uZENoYW5nZS5iaW5kKHRoaXMpKX19LHtrZXk6XCJoYW5kbGVEcmFnU3RhcnRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2V0dGluZ3MubmVlZHNVcGRhdGU9ITAsdGhpcy5zZXR0aW5ncy5qb3VybmV5PW5lLnN0YXJ0Sm91cm5leSh0aGlzLmNsaXApfX0se2tleTpcInRpbWVGb3JtYXRcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihcInNzXCI9PT10aGlzLm9wdGlvbnMudGltZUZvcm1hdCl7dmFyIHQ9ZS8xZTMvNjAvNjAsbj10JTEqNjAscz1uJTEqNjAsbz0oXCIwXCIrcGFyc2VJbnQodCkpLnNsaWNlKC0yKSxpPShcIjBcIitwYXJzZUludChuKSkuc2xpY2UoLTIpLGw9KFwiMFwiK3BhcnNlSW50KHMpKS5zbGljZSgtMik7cmV0dXJuXCJcIi5jb25jYXQoXCIwMFwiPT09bz9cIlwiOm8rXCI6XCIpLmNvbmNhdChpLFwiOlwiKS5jb25jYXQobCl9cmV0dXJuIGV9fSx7a2V5OlwiaGFuZGxlRHJhZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07aXNGaW5pdGUoZSl8fChlPTApO3ZhciBuPXRoaXMuY2xpcC5kdXJhdGlvbixzPXRoaXMuc2V0dGluZ3Muam91cm5leSxvPXRoaXMuZWxlbWVudHMsaT1vLmxvb3BCYXIsbD1vLnRvdGFsQmFyLHI9by5ydW5uaW5nQmFyLGE9by5jdXJyZW50VGltZSxjPWUraS5vZmZzZXRMZWZ0LHA9TWF0aC5yb3VuZChuKmMvbC5vZmZzZXRXaWR0aCk7YS5pbm5lckhUTUw9dGhpcy50aW1lRm9ybWF0KHApLHIuc3R5bGUud2lkdGg9ZS9pLm9mZnNldFdpZHRoKjEwMCtcIiVcIixzLnN0YXRpb24ocCksdGhpcy5vcHRpb25zLm9uTWlsbGlzZWNvbmRDaGFuZ2UmJnQmJnRoaXMub3B0aW9ucy5vbk1pbGxpc2Vjb25kQ2hhbmdlKHApfX0se2tleTpcImhhbmRsZURyYWdFbmRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2V0dGluZ3Muam91cm5leS5kZXN0aW5hdGlvbigpfX0se2tleTpcImNyZWF0ZVByb2dyZXNzRHJhZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuaGFuZGxlRHJhZ1N0YXJ0KCksdGhpcy5oYW5kbGVEcmFnKGUpLHRoaXMuaGFuZGxlRHJhZ0VuZCgpfX0se2tleTpcImFkZEV2ZW50TGlzdGVuZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZTsoZT10aGlzKS5saXN0ZW5lcnMub25DdXJzb3JNb3ZlTG9vcEVuZD1mdW5jdGlvbih0KXt2YXIgbj0odC5jbGllbnRYfHwoKHQudG91Y2hlc3x8W10pWzBdfHx7fSkuY2xpZW50WCktZS5lbGVtZW50cy50b3RhbEJhci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O248MD9uPTA6bj5lLmVsZW1lbnRzLnRvdGFsQmFyLm9mZnNldFdpZHRoJiYobj1lLmVsZW1lbnRzLnRvdGFsQmFyLm9mZnNldFdpZHRoKSxlLmVsZW1lbnRzLnJ1bm5pbmdCYXIub2Zmc2V0V2lkdGg+PWUuZWxlbWVudHMubG9vcEJhci5vZmZzZXRXaWR0aCYmKGUuZWxlbWVudHMucnVubmluZ0Jhci5zdHlsZS53aWR0aD1lLmVsZW1lbnRzLmxvb3BCYXIub2Zmc2V0V2lkdGgrXCJweFwiKSxlLnNldHRpbmdzLmxvb3BMYXN0UG9zaXRpb25YUHhscy1uPDA/ZS5lbGVtZW50cy5sb29wQmFyLnN0eWxlLndpZHRoPU1hdGguYWJzKGUuc2V0dGluZ3MubG9vcExhc3RQb3NpdGlvblhQeGxzLW4pK1wicHhcIjooZS5lbGVtZW50cy5sb29wQmFyLnN0eWxlLmxlZnQ9bitcInB4XCIsZS5zZXR0aW5ncy5sb29wTGFzdFBvc2l0aW9uWFB4bHM9biksZS5zZXR0aW5ncy5sb29wRW5kTWlsbGlzZWNvbmQ9TWF0aC5yb3VuZChlLmNsaXAuZHVyYXRpb24qKChwYXJzZUZsb2F0KGUuZWxlbWVudHMubG9vcEJhci5zdHlsZS5sZWZ0KXx8MCkrcGFyc2VGbG9hdChlLmVsZW1lbnRzLmxvb3BCYXIuc3R5bGUud2lkdGgpKS9lLmVsZW1lbnRzLnRvdGFsQmFyLm9mZnNldFdpZHRoKSxlLnNldHRpbmdzLmxvb3BFbmRNaWxsaXNlY29uZDxlLmNsaXAucnVuVGltZUluZm8uY3VycmVudE1pbGxpc2Vjb25kJiYoZS5zZXR0aW5ncy5sb29wSm91cm5leT0hMCksZS5zZXR0aW5ncy5sb29wU3RhcnRNaWxsaXNlY29uZD5lLnNldHRpbmdzLmxvb3BFbmRNaWxsaXNlY29uZCYmKGUuc2V0dGluZ3MubG9vcFN0YXJ0TWlsbGlzZWNvbmQ9ZS5zZXR0aW5ncy5sb29wRW5kTWlsbGlzZWNvbmQsZS5zZXR0aW5ncy5sb29wSm91cm5leT0hMCl9LGUubGlzdGVuZXJzLm9uTW91c2VVcExvb3BFbmQ9ZnVuY3Rpb24oKXtlLmVsZW1lbnRzLmxpc3RlbmVySGVscGVyLnN0eWxlLnBvaW50ZXJFdmVudHM9XCJub25lXCIsZS5zZXR0aW5ncy5yZXNpemVMb29wPSExO3ZhciB0LG49ZS5lbGVtZW50cyxzPW4ubG9vcEJhcixvPW4udG90YWxCYXIsaT1uLnJ1bm5pbmdCYXI7aS5zdHlsZS53aWR0aD1pLm9mZnNldFdpZHRoL3Mub2Zmc2V0V2lkdGgqMTAwK1wiJVwiLHMuc3R5bGUubGVmdD1cIlwiLmNvbmNhdChzLm9mZnNldExlZnQvby5vZmZzZXRXaWR0aCoxMDAsXCIlXCIpLHMuc3R5bGUud2lkdGg9XCJcIi5jb25jYXQocy5vZmZzZXRXaWR0aC9vLm9mZnNldFdpZHRoKjEwMCxcIiVcIiksZS5zZXR0aW5ncy5sb29wSm91cm5leSYmKGUuY3JlYXRlUHJvZ3Jlc3NEcmFnKGkub2Zmc2V0V2lkdGgpLGUuc2V0dGluZ3MubG9vcEpvdXJuZXk9ITEpLHooZS5saXN0ZW5lcnMub25Nb3VzZVVwTG9vcEVuZCxlLmxpc3RlbmVycy5vbkN1cnNvck1vdmVMb29wRW5kKSxJKGUubGlzdGVuZXJzLm9uTW91c2VEb3duLHMsITApLGUuc2V0dGluZ3MucGxheUFmdGVyUmVzaXplJiYoXCJpZGxlXCI9PT1lLmNsaXAucnVuVGltZUluZm8uc3RhdGV8fFwiY29tcGxldGVkXCI9PT1lLmNsaXAucnVuVGltZUluZm8uc3RhdGU/KHQ9ZS5jbGlwLnNwZWVkPj0wP2Uuc2V0dGluZ3MubG9vcFN0YXJ0TWlsbGlzZWNvbmQrMTplLnNldHRpbmdzLmxvb3BFbmRNaWxsaXNlY29uZC0xLGUuc2V0dGluZ3MubmVlZHNVcGRhdGU9ITAsZS5jcmVhdGVKb3VybmV5KHQse2JlZm9yZTpcInBhdXNlXCIsYWZ0ZXI6XCJwbGF5XCJ9KSk6ZS5jbGlwLnBsYXkoKSxlLnNldHRpbmdzLnBsYXlBZnRlclJlc2l6ZT0hMSl9LGUubGlzdGVuZXJzLm9uTW91c2VEb3duTG9vcEVuZD1mdW5jdGlvbih0KXtlLmVsZW1lbnRzLmxpc3RlbmVySGVscGVyLnN0eWxlLnBvaW50ZXJFdmVudHM9XCJhdXRvXCIsZS5zZXR0aW5ncy5yZXNpemVMb29wPSEwLGUuc2V0dGluZ3MubmVlZHNVcGRhdGU9ITAsXCJwbGF5aW5nXCI9PT1lLmNsaXAucnVuVGltZUluZm8uc3RhdGUmJihlLmNsaXAucGF1c2UoKSxlLnNldHRpbmdzLnBsYXlBZnRlclJlc2l6ZT0hMCksZS5lbGVtZW50cy5ydW5uaW5nQmFyLnN0eWxlLndpZHRoPVwiXCIuY29uY2F0KGUuZWxlbWVudHMucnVubmluZ0Jhci5vZmZzZXRXaWR0aCxcInB4XCIpO3ZhciBuPWUuZWxlbWVudHMubG9vcEJhcjtuLnN0eWxlLmxlZnQ9XCJcIi5jb25jYXQobi5vZmZzZXRMZWZ0LFwicHhcIiksbi5zdHlsZS53aWR0aD1cIlwiLmNvbmNhdChuLm9mZnNldFdpZHRoLFwicHhcIiksSChlLmxpc3RlbmVycy5vbk1vdXNlRG93bixuKSxlLmxpc3RlbmVycy5vbkN1cnNvck1vdmVMb29wRW5kKHQpLFQoZS5saXN0ZW5lcnMub25Nb3VzZVVwTG9vcEVuZCxlLmxpc3RlbmVycy5vbkN1cnNvck1vdmVMb29wRW5kKX0sSShlLmxpc3RlbmVycy5vbk1vdXNlRG93bkxvb3BFbmQsZS5lbGVtZW50cy5sb29wQmFyRW5kLCExKSxmdW5jdGlvbihlKXtlLmxpc3RlbmVycy5vbkN1cnNvck1vdmU9ZnVuY3Rpb24odCl7dmFyIG49KHQuY2xpZW50WHx8KCh0LnRvdWNoZXN8fFtdKVswXXx8e30pLmNsaWVudFgpLWUuZWxlbWVudHMubG9vcEJhci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O248MD9uPTA6bj5lLmVsZW1lbnRzLmxvb3BCYXIub2Zmc2V0V2lkdGgmJihuPWUuZWxlbWVudHMubG9vcEJhci5vZmZzZXRXaWR0aCksZS5oYW5kbGVEcmFnKG4pfSxlLmxpc3RlbmVycy5vbk1vdXNlVXA9ZnVuY3Rpb24oKXtlLmVsZW1lbnRzLmxpc3RlbmVySGVscGVyLnN0eWxlLnBvaW50ZXJFdmVudHM9XCJub25lXCIseihlLmxpc3RlbmVycy5vbk1vdXNlVXAsZS5saXN0ZW5lcnMub25DdXJzb3JNb3ZlKSxlLmhhbmRsZURyYWdFbmQoZS5zZXR0aW5ncyl9LGUubGlzdGVuZXJzLm9uTW91c2VEb3duPWZ1bmN0aW9uKHQpe2UuZWxlbWVudHMubGlzdGVuZXJIZWxwZXIuc3R5bGUucG9pbnRlckV2ZW50cz1cImF1dG9cIixcInBsYXlpbmdcIj09PWUuY2xpcC5ydW5UaW1lSW5mby5zdGF0ZSYmKGUuc2V0dGluZ3MucGxheUFmdGVyUmVzaXplPSEwKSxlLmhhbmRsZURyYWdTdGFydChlLmNsaXApLGUubGlzdGVuZXJzLm9uQ3Vyc29yTW92ZSh0KSxUKGUubGlzdGVuZXJzLm9uTW91c2VVcCxlLmxpc3RlbmVycy5vbkN1cnNvck1vdmUpfSxJKGUubGlzdGVuZXJzLm9uTW91c2VEb3duLGUuZWxlbWVudHMubG9vcEJhcil9KHRoaXMpLGZ1bmN0aW9uKGUpe2UubGlzdGVuZXJzLm9uQ3Vyc29yTW92ZUxvb3BTdGFydD1mdW5jdGlvbih0KXt2YXIgbj10LmNsaWVudFh8fCgodC50b3VjaGVzfHxbXSlbMF18fHt9KS5jbGllbnRYLHM9ZS5lbGVtZW50cy50b3RhbEJhci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPU1hdGgucm91bmQobi1zLmxlZnQpLGk9TWF0aC5yb3VuZChlLnNldHRpbmdzLmxvb3BFbmRNaWxsaXNlY29uZC9lLmNsaXAuZHVyYXRpb24qZS5lbGVtZW50cy50b3RhbEJhci5vZmZzZXRXaWR0aCk7bzwwP289MDpvPmUuZWxlbWVudHMudG90YWxCYXIub2Zmc2V0V2lkdGgmJihvPWUuZWxlbWVudHMudG90YWxCYXIub2Zmc2V0V2lkdGgpO3ZhciBsPWUuY2xpcC5ydW5UaW1lSW5mby5jdXJyZW50TWlsbGlzZWNvbmQvZS5jbGlwLmR1cmF0aW9uKmUuZWxlbWVudHMudG90YWxCYXIub2Zmc2V0V2lkdGgtbztlLmVsZW1lbnRzLmxvb3BCYXIuc3R5bGUubGVmdD1vK1wicHhcIixlLmVsZW1lbnRzLmxvb3BCYXIuc3R5bGUud2lkdGg9aS1vK1wicHhcIixlLmVsZW1lbnRzLnJ1bm5pbmdCYXIuc3R5bGUud2lkdGg9bCtcInB4XCIsZS5zZXR0aW5ncy5sb29wTGFzdFBvc2l0aW9uWFB4bHM9byxlLnNldHRpbmdzLmxvb3BTdGFydE1pbGxpc2Vjb25kPU1hdGgucm91bmQoZS5jbGlwLmR1cmF0aW9uKmUuZWxlbWVudHMubG9vcEJhci5vZmZzZXRMZWZ0L2UuZWxlbWVudHMudG90YWxCYXIub2Zmc2V0V2lkdGgpLGUuc2V0dGluZ3MubG9vcEVuZE1pbGxpc2Vjb25kPGUuc2V0dGluZ3MubG9vcFN0YXJ0TWlsbGlzZWNvbmQmJihlLnNldHRpbmdzLmxvb3BFbmRNaWxsaXNlY29uZD1lLnNldHRpbmdzLmxvb3BTdGFydE1pbGxpc2Vjb25kLGUuZWxlbWVudHMubG9vcEJhci5zdHlsZS53aWR0aD1cIjBweFwiLGUuZWxlbWVudHMucnVubmluZ0Jhci5zdHlsZS53aWR0aD1cIjBweFwiKSxlLnNldHRpbmdzLmxvb3BTdGFydE1pbGxpc2Vjb25kPmUuY2xpcC5ydW5UaW1lSW5mby5jdXJyZW50TWlsbGlzZWNvbmQmJihlLnNldHRpbmdzLmxvb3BKb3VybmV5PSEwKX0sZS5saXN0ZW5lcnMub25Nb3VzZVVwTG9vcFN0YXJ0PWZ1bmN0aW9uKCl7dmFyIHQ7ZS5lbGVtZW50cy5saXN0ZW5lckhlbHBlci5zdHlsZS5wb2ludGVyRXZlbnRzPVwibm9uZVwiLGUuc2V0dGluZ3MucmVzaXplTG9vcD0hMSxlLnNldHRpbmdzLmxvb3BKb3VybmV5JiYoZS5jcmVhdGVQcm9ncmVzc0RyYWcoZS5lbGVtZW50cy5ydW5uaW5nQmFyLm9mZnNldFdpZHRoKSxlLnNldHRpbmdzLmxvb3BKb3VybmV5PSExKSxlLmVsZW1lbnRzLmxvb3BCYXIuc3R5bGUubGVmdD1lLmVsZW1lbnRzLmxvb3BCYXIub2Zmc2V0TGVmdC9lLmVsZW1lbnRzLnRvdGFsQmFyLm9mZnNldFdpZHRoKjEwMCtcIiVcIixlLmVsZW1lbnRzLmxvb3BCYXIuc3R5bGUud2lkdGg9ZS5lbGVtZW50cy5sb29wQmFyLm9mZnNldFdpZHRoL2UuZWxlbWVudHMudG90YWxCYXIub2Zmc2V0V2lkdGgqMTAwK1wiJVwiLGUuc2V0dGluZ3MubG9vcFN0YXJ0TWlsbGlzZWNvbmQ9TWF0aC5yb3VuZChlLmNsaXAuZHVyYXRpb24qZS5lbGVtZW50cy5sb29wQmFyLm9mZnNldExlZnQvZS5lbGVtZW50cy50b3RhbEJhci5vZmZzZXRXaWR0aCksZS5lbGVtZW50cy5ydW5uaW5nQmFyLnN0eWxlLndpZHRoPWUuZWxlbWVudHMucnVubmluZ0Jhci5vZmZzZXRXaWR0aC9lLmVsZW1lbnRzLmxvb3BCYXIub2Zmc2V0V2lkdGgqMTAwK1wiJVwiLHooZS5saXN0ZW5lcnMub25Nb3VzZVVwTG9vcFN0YXJ0LGUubGlzdGVuZXJzLm9uQ3Vyc29yTW92ZUxvb3BTdGFydCksSShlLmxpc3RlbmVycy5vbk1vdXNlRG93bixlLmVsZW1lbnRzLmxvb3BCYXIsITApLGUuc2V0dGluZ3MucGxheUFmdGVyUmVzaXplJiYoXCJpZGxlXCI9PT1lLmNsaXAucnVuVGltZUluZm8uc3RhdGU/KHQ9ZS5jbGlwLnNwZWVkPj0wP2Uuc2V0dGluZ3MubG9vcFN0YXJ0TWlsbGlzZWNvbmQrMTplLnNldHRpbmdzLmxvb3BFbmRNaWxsaXNlY29uZC0xLGUuc2V0dGluZ3MubmVlZHNVcGRhdGU9ITAsZS5jcmVhdGVKb3VybmV5KHQse2JlZm9yZTpcInBhdXNlXCIsYWZ0ZXI6XCJwbGF5XCJ9KSk6ZS5jbGlwLnBsYXkoKSxlLnNldHRpbmdzLnBsYXlBZnRlclJlc2l6ZT0hMSl9LGUubGlzdGVuZXJzLm9uTW91c2VEb3duTG9vcFN0YXJ0PWZ1bmN0aW9uKHQpe2UuZWxlbWVudHMubGlzdGVuZXJIZWxwZXIuc3R5bGUucG9pbnRlckV2ZW50cz1cImF1dG9cIixlLnNldHRpbmdzLnJlc2l6ZUxvb3A9ITAsZS5zZXR0aW5ncy5uZWVkc1VwZGF0ZT0hMCxcInBsYXlpbmdcIj09PWUuY2xpcC5ydW5UaW1lSW5mby5zdGF0ZSYmKGUuY2xpcC5wYXVzZSgpLGUuc2V0dGluZ3MucGxheUFmdGVyUmVzaXplPSEwKSxIKGUubGlzdGVuZXJzLm9uTW91c2VEb3duLGUuZWxlbWVudHMubG9vcEJhciksZS5saXN0ZW5lcnMub25DdXJzb3JNb3ZlTG9vcFN0YXJ0KHQpLFQoZS5saXN0ZW5lcnMub25Nb3VzZVVwTG9vcFN0YXJ0LGUubGlzdGVuZXJzLm9uQ3Vyc29yTW92ZUxvb3BTdGFydCl9LEkoZS5saXN0ZW5lcnMub25Nb3VzZURvd25Mb29wU3RhcnQsZS5lbGVtZW50cy5sb29wQmFyU3RhcnQpfSh0aGlzKSxmdW5jdGlvbihlKXt2YXIgdD1lLmVsZW1lbnRzLG49ITE7dC52b2x1bWVCdG4ub25jbGljaz1mdW5jdGlvbigpe2Uuc2V0dGluZ3Mudm9sdW1lTXV0ZT8odC52b2x1bWVCYXJBY3RpdmUuc3R5bGUud2lkdGg9XCJcIi5jb25jYXQoMTAwKmUuc2V0dGluZ3Mudm9sdW1lLFwiJVwiKSxlLmNsaXAuc2V0Vm9sdW1lKGUuc2V0dGluZ3MucHJldmlvdXNWb2x1bWUpLHQudm9sdW1lQmFyQWN0aXZlLnN0eWxlLndpZHRoPVwiXCIuY29uY2F0KDEwMCplLnNldHRpbmdzLnByZXZpb3VzVm9sdW1lLFwiJVwiKSxlLnNldHRpbmdzLnZvbHVtZU11dGU9ITEsVih0LnZvbHVtZUJ0bixVLFgpKTooZS5zZXR0aW5ncy52b2x1bWVNdXRlPSEwLFYodC52b2x1bWVCdG4sWCxVKSx0LnZvbHVtZUJhckFjdGl2ZS5zdHlsZS53aWR0aD1cIjAlXCIsZS5jbGlwLnNldFZvbHVtZSgwKSksZS5ldmVudEJyb2FkY2FzdChyLGUuc2V0dGluZ3MucHJldmlvdXNWb2x1bWUpLGUuZXZlbnRCcm9hZGNhc3QoYSxlLnNldHRpbmdzLnZvbHVtZU11dGUpfTt2YXIgcz0hMTt0LnZvbHVtZUJ0bi5vbm1vdXNlb3Zlcj1mdW5jdGlvbigpe3M9ITB9LGUuZWxlbWVudHMubGVmdEJ1dHRvbnMub25tb3VzZW91dD1mdW5jdGlvbigpe2lmKHMmJiFuKXt2YXIgdD1ldmVudC50b0VsZW1lbnR8fGV2ZW50LnJlbGF0ZWRUYXJnZXR8fGV2ZW50LnRhcmdldDt0PT09ZS5lbGVtZW50cy5sZWZ0QnV0dG9uc3x8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dC5wYXJlbnROb2RlO251bGwhPW47KXtpZihuPT1lKXJldHVybiEwO249bi5wYXJlbnROb2RlfXJldHVybiExfShlLmVsZW1lbnRzLmxlZnRCdXR0b25zLHQpfHwocz0hMSl9fTt2YXIgbz1lLmxpc3RlbmVycztvLm9uQ3Vyc29yTW92ZVZvbHVtZUJhcj1mdW5jdGlvbihuKXt2YXIgcz0obi5jbGllbnRYfHwoKG4udG91Y2hlc3x8W10pWzBdfHx7fSkuY2xpZW50WCktdC52b2x1bWVCYXJIZWxwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtpZihzPDA/cz0wOnM+dC52b2x1bWVCYXJIZWxwZXIub2Zmc2V0V2lkdGgmJihzPXQudm9sdW1lQmFySGVscGVyLm9mZnNldFdpZHRoKSxlLnNldHRpbmdzLnZvbHVtZT1OdW1iZXIoKHMvdC52b2x1bWVCYXJIZWxwZXIub2Zmc2V0V2lkdGgpLnRvRml4ZWQoMikpLHQudm9sdW1lQmFyQWN0aXZlLnN0eWxlLndpZHRoPVwiXCIuY29uY2F0KDEwMCplLnNldHRpbmdzLnZvbHVtZSxcIiVcIiksZS5jbGlwLnNldFZvbHVtZShlLnNldHRpbmdzLnZvbHVtZSksZS5zZXR0aW5ncy52b2x1bWU+PTApe3ZhciBvPTA9PT1lLnNldHRpbmdzLnZvbHVtZTtlLnNldHRpbmdzLnZvbHVtZU11dGU9byxvP1YodC52b2x1bWVCdG4sWCxVKTpWKHQudm9sdW1lQnRuLFUsWCl9ZS5ldmVudEJyb2FkY2FzdChyLGUuc2V0dGluZ3Mudm9sdW1lKSxlLmV2ZW50QnJvYWRjYXN0KGEsZS5zZXR0aW5ncy52b2x1bWVNdXRlKX0sby5vbk1vdXNlVXBWb2x1bWVCYXI9ZnVuY3Rpb24oKXtuPSExLHQubGlzdGVuZXJIZWxwZXIuc3R5bGUucG9pbnRlckV2ZW50cz1cIm5vbmVcIixlLnNldHRpbmdzLnZvbHVtZT4wJiYoZS5zZXR0aW5ncy5wcmV2aW91c1ZvbHVtZT1lLnNldHRpbmdzLnZvbHVtZSkseihvLm9uTW91c2VVcFZvbHVtZUJhcixvLm9uQ3Vyc29yTW92ZVZvbHVtZUJhcil9LG8ub25Nb3VzZURvd25Wb2x1bWVCYXI9ZnVuY3Rpb24oZSl7bj0hMCx0Lmxpc3RlbmVySGVscGVyLnN0eWxlLnBvaW50ZXJFdmVudHM9XCJhdXRvXCIsby5vbkN1cnNvck1vdmVWb2x1bWVCYXIoZSksVChvLm9uTW91c2VVcFZvbHVtZUJhcixvLm9uQ3Vyc29yTW92ZVZvbHVtZUJhcil9LEkoby5vbk1vdXNlRG93blZvbHVtZUJhcix0LnZvbHVtZUJhckhlbHBlciksSShvLm9uTW91c2VEb3duVm9sdW1lQmFyLHQudm9sdW1lQ3Vyc29yKX0odGhpcyksZnVuY3Rpb24oZSl7ZS5lbGVtZW50cy5zdGF0dXNCdXR0b24ub25jbGljaz1mdW5jdGlvbigpe3N3aXRjaChlLmNsaXAucnVuVGltZUluZm8uc3RhdGUpe2Nhc2VcInBsYXlpbmdcIjplLmNsaXAucGF1c2UoKTticmVhaztjYXNlXCJwYXVzZWRcIjpjYXNlXCJpZGxlXCI6Y2FzZVwidHJhbnNpdGlvbmFsXCI6Y2FzZVwiYXJtZWRcIjplLmNsaXAucGxheSgpfXJldHVybiExfX0odGhpcyksZnVuY3Rpb24oZSl7ZS5lbGVtZW50cy5zZXR0aW5nc1Nob3dJbmRpY2F0b3Iub25jbGljaz1mdW5jdGlvbigpe3JldHVybiBZKGUpfSxlLmVsZW1lbnRzLnNldHRpbmdzUG9pbnRlckV2ZW50cy5vbmNsaWNrPWZ1bmN0aW9uKCl7cmV0dXJuIFooZSl9LGUuZWxlbWVudHMuc2V0dGluZ3NTaG93Vm9sdW1lLm9uY2xpY2s9ZnVuY3Rpb24oKXtyZXR1cm4gJChlKX0sZS5lbGVtZW50cy5zZXR0aW5nc1Nob3dQcmV2aWV3Lm9uY2xpY2s9ZnVuY3Rpb24oKXtyZXR1cm4gXyhlKX0sZS5lbGVtZW50cy5zZXR0aW5nc0J1dHRvbi5vbmNsaWNrPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24gdChuKXtpZihlLmVsZW1lbnRzLnNldHRpbmdzUGFuZWwuY29udGFpbnMobi50YXJnZXQpKXJldHVybiEwO2UuZWxlbWVudHMuc2V0dGluZ3NQYW5lbC5jbGFzc0xpc3QudG9nZ2xlKFwiXCIuY29uY2F0KGUubmFtZSxcIi1oaWRlXCIpKSxlLmVsZW1lbnRzLnNldHRpbmdzUGFuZWwuY2xhc3NMaXN0LnRvZ2dsZShcIm0tZmFkZU91dFwiKSxlLmVsZW1lbnRzLnNldHRpbmdzUGFuZWwuY2xhc3NMaXN0LnRvZ2dsZShcIm0tZmFkZUluXCIpLGUuZWxlbWVudHMuc2V0dGluZ3NQYW5lbC5jbGFzc05hbWUuaW5jbHVkZXMoXCJtLWZhZGVPdXRcIikmJihMKFwiY2xpY2tcIix0LCExKSxlLmV2ZW50QnJvYWRjYXN0KGgsZS5zdGF0ZSkpfTtlLmVsZW1lbnRzLnNldHRpbmdzUGFuZWwuY2xhc3NOYW1lLmluY2x1ZGVzKFwibS1mYWRlT3V0XCIpPyhlLmVsZW1lbnRzLmNvbnRyb2xzLmNsYXNzTGlzdC52YWx1ZS5pbmNsdWRlcyhcIi0tbWNwLWZvcmNlLXNob3ctY29udHJvbHNcIil8fGUuZWxlbWVudHMuY29udHJvbHMuY2xhc3NMaXN0LnRvZ2dsZShcIi0tbWNwLWZvcmNlLXNob3ctY29udHJvbHNcIiksQyhcImNsaWNrXCIsdCwhMSkpOkwoXCJjbGlja1wiLHQsITEpfX0odGhpcyksZnVuY3Rpb24oZSl7ZS5lbGVtZW50cy5zZXR0aW5nc1NwZWVkQnV0dG9uU2hvdy5vbmNsaWNrPWUuZWxlbWVudHMuc2V0dGluZ3NTcGVlZEJ1dHRvbkhpZGUub25jbGljaz1mdW5jdGlvbigpe2UuZWxlbWVudHMuc2V0dGluZ3NQYW5lbC5jbGFzc0xpc3QudG9nZ2xlKFwiXCIuY29uY2F0KGUubmFtZSxcIi1zZXR0aW5ncy1zcGVlZC1wYW5lbFwiKSksZS5lbGVtZW50cy5zZXR0aW5nc1BhbmVsLmNsYXNzTmFtZS5pbmNsdWRlcyhcIlwiLmNvbmNhdChlLm5hbWUsXCItc2V0dGluZ3Mtc3BlZWQtcGFuZWxcIikpPyhlLmVsZW1lbnRzLnNldHRpbmdzTWFpblBhbmVsLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsZS5lbGVtZW50cy5zZXR0aW5nc1NwZWVkUGFuZWwuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIpOihlLmVsZW1lbnRzLnNldHRpbmdzU3BlZWRQYW5lbC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGUuZWxlbWVudHMuc2V0dGluZ3NNYWluUGFuZWwuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIpfX0odGhpcyksZnVuY3Rpb24oZSl7ZS5lbGVtZW50cy5sb29wQnV0dG9uLm9uY2xpY2s9ZnVuY3Rpb24oKXtyZXR1cm4gcShlKX19KHRoaXMpLGZ1bmN0aW9uKGUpe2UuZWxlbWVudHMuZnVsbFNjcmVlbkJ1dHRvbi5vbmNsaWNrPWZ1bmN0aW9uKCl7cmV0dXJuIEcoZSl9fSh0aGlzKSxBKHRoaXMpLEsodGhpcyksZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe2UuZWxlbWVudHMubWNQbGF5ZXIuY2xhc3NMaXN0LnRvZ2dsZShcImZ1bGwtc2NyZWVuXCIpLGUuY2xpcC5wcm9wcy5ob3N0LmNsYXNzTGlzdC50b2dnbGUoXCJmdWxsLXNjcmVlblwiKSxlLm9wdGlvbnMucHJldmlldyYmZS5zZXRQcmV2aWV3RGltZW50aW9ucygpfUMoXCJmdWxsc2NyZWVuY2hhbmdlXCIsdCksQyhcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIix0KSxDKFwibW96ZnVsbHNjcmVlbmNoYW5nZVwiLHQpLEMoXCJNU0Z1bGxzY3JlZW5DaGFuZ2VcIix0KX0odGhpcyl9fSx7a2V5OlwibGF1bmNoSW50b0Z1bGxzY3JlZW5cIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm9wdGlvbnMucHJldmlldyYmdGhpcy5zZXRQcmV2aWV3RGltZW50aW9ucygpLGUucmVxdWVzdEZ1bGxzY3JlZW4/ZS5yZXF1ZXN0RnVsbHNjcmVlbigpOmUubW96UmVxdWVzdEZ1bGxTY3JlZW4/ZS5tb3pSZXF1ZXN0RnVsbFNjcmVlbigpOmUud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4/ZS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpOmUubXNSZXF1ZXN0RnVsbHNjcmVlbiYmZS5tc1JlcXVlc3RGdWxsc2NyZWVuKCl9fSx7a2V5OlwiZXhpdEZ1bGxzY3JlZW5cIix2YWx1ZTpmdW5jdGlvbigpe2RvY3VtZW50LmV4aXRGdWxsc2NyZWVuP2RvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCk6ZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbj9kb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuKCk6ZG9jdW1lbnQud2Via2l0RXhpdEZ1bGxzY3JlZW4mJmRvY3VtZW50LndlYmtpdEV4aXRGdWxsc2NyZWVuKCl9fSx7a2V5Olwic2V0VGhlbWVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy50aGVtZS5yZXBsYWNlKC9cXHNcXHMrL2csXCIgXCIpLHRoaXMub3B0aW9ucy50aGVtZS50cmltKCk7dmFyIGUsdCxuPVwicG9zaXRpb24tb250b3BcIixzPVwicG9zaXRpb24tYm90dG9tXCI7aWYodGhpcy5vcHRpb25zLnRoZW1lLmluY2x1ZGVzKG4pfHx0aGlzLm9wdGlvbnMudGhlbWUuaW5jbHVkZXMocyl8fCh0aGlzLm9wdGlvbnMudGhlbWUrPVwiIFwiLmNvbmNhdChuKSksdGhpcy5vcHRpb25zLnRoZW1lLmluY2x1ZGVzKG4pP3RoaXMuZWxlbWVudHMubWNQbGF5ZXIuY2xhc3NMaXN0LmFkZChuKTp0aGlzLmVsZW1lbnRzLm1jUGxheWVyLmNsYXNzTGlzdC5hZGQocyksdGhpcy5vcHRpb25zLnRoZW1lLmluY2x1ZGVzKFwiZGVmYXVsdFwiKT90aGlzLmVsZW1lbnRzLm1jUGxheWVyLmNsYXNzTGlzdC5hZGQoXCJ0aGVtZS1kZWZhdWx0XCIpOnRoaXMub3B0aW9ucy50aGVtZS5pbmNsdWRlcyhcInRyYW5zcGFyZW50XCIpP3RoaXMuZWxlbWVudHMubWNQbGF5ZXIuY2xhc3NMaXN0LmFkZChcInRoZW1lLXRyYW5zcGFyZW50XCIpOnRoaXMub3B0aW9ucy50aGVtZS5pbmNsdWRlcyhcIndoaXRlR29sZFwiKT90aGlzLmVsZW1lbnRzLm1jUGxheWVyLmNsYXNzTGlzdC5hZGQoXCJ0aGVtZS13aGl0ZUdvbGRcIik6dGhpcy5vcHRpb25zLnRoZW1lLmluY2x1ZGVzKFwiZGFya0dvbGRcIik/dGhpcy5lbGVtZW50cy5tY1BsYXllci5jbGFzc0xpc3QuYWRkKFwidGhlbWUtZGFya0dvbGRcIik6dGhpcy5vcHRpb25zLnRoZW1lLmluY2x1ZGVzKFwiZ3JlZW5cIik/dGhpcy5lbGVtZW50cy5tY1BsYXllci5jbGFzc0xpc3QuYWRkKFwidGhlbWUtZ3JlZW5cIik6dGhpcy5vcHRpb25zLnRoZW1lLmluY2x1ZGVzKFwiYmx1ZVwiKT90aGlzLmVsZW1lbnRzLm1jUGxheWVyLmNsYXNzTGlzdC5hZGQoXCJ0aGVtZS1ibHVlXCIpOnRoaXMub3B0aW9ucy50aGVtZS5pbmNsdWRlcyhcImRhcmtcIik/dGhpcy5lbGVtZW50cy5tY1BsYXllci5jbGFzc0xpc3QuYWRkKFwidGhlbWUtZGFya1wiKTp0aGlzLm9wdGlvbnMudGhlbWUuaW5jbHVkZXMoXCJ5ZWxsb3dcIikmJnRoaXMuZWxlbWVudHMubWNQbGF5ZXIuY2xhc3NMaXN0LmFkZChcInRoZW1lLXllbGxvd1wiKSx0PVwiLS1tYy1wbGF5ZXItc3R5bGVcIiwhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCkpe3ZhciBvPWsoXCJzdHlsZVwiKTtvLmlkPVwiLS1tYy1wbGF5ZXItc3R5bGVcIixvLnN0eWxlU2hlZXQ/by5zdHlsZVNoZWV0LmNzc1RleHQ9SjpvLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKEopKSwoZT1cImhlYWRcIixkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKSlbMF0uYXBwZW5kQ2hpbGQobyl9dGhpcy5ldmVudEJyb2FkY2FzdChcInRoZW1lLWNoYW5nZVwiLHRoaXMub3B0aW9ucy50aGVtZSl9fSx7a2V5Olwic2V0U3BlZWRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPTE9PXRoaXMuY2xpcC5zcGVlZD9cIk5vcm1hbFwiOnRoaXMuY2xpcC5zcGVlZDt0aGlzLmVsZW1lbnRzLnNwZWVkQ3VycmVudC5pbm5lckhUTUw9ZX19LHtrZXk6XCJjYWxjdWxhdGVTcGVlZFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcz1NYXRoLmZsb29yKG4vZSk7aWYocz09PXQubGVuZ3RoLTEpcmV0dXJuIHRbc10udG9GaXhlZCgxKTt2YXIgbz0obi9lJTEqTWF0aC5hYnModFtzXS10W3MrMV0pK3Rbc10pLnRvRml4ZWQoMSk7cmV0dXJuIDA9PW8/XCIwLjBcIjpvfX0se2tleTpcImNyZWF0ZVByZXZpZXdEaXNwbGF5XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnByZXZpZXdDbGlwPXRoaXMuY2xpcC5wYXN0ZSh0aGlzLmVsZW1lbnRzLnByZXZpZXdIb3N0LHtpc1ByZXZpZXdDbGlwOiEwfSksdGhpcy5lbGVtZW50cy5wcmV2aWV3SG9zdC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy5lbGVtZW50cy5wcmV2aWV3SG9zdC5zdHlsZS5iYWNrZ3JvdW5kPXRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IsdGhpcy5lbGVtZW50cy5wcmV2aWV3SG9zdC5zdHlsZS56SW5kZXg9MSx0aGlzLnNldFByZXZpZXdEaW1lbnRpb25zKCl9fSx7a2V5Olwic2V0UHJldmlld0RpbWVudGlvbnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuY2xpcC5wcm9wcy5ob3N0LHQ9dGhpcy5wcmV2aWV3Q2xpcC5vd25DbGlwLnByb3BzLmhvc3Qsbj1lLm9mZnNldFdpZHRoLHM9ZS5vZmZzZXRIZWlnaHQsbz1uKnRoaXMucHJldmlld1NjYWxlO28+MzAwJiYobz0zMDAsdGhpcy5wcmV2aWV3U2NhbGU9by9uKTt2YXIgaT1uKnRoaXMucHJldmlld1NjYWxlLGw9cyp0aGlzLnByZXZpZXdTY2FsZSxyPUUoe3dpZHRoOnRoaXMuY2xpcC5wcm9wcy5jb250YWluZXJQYXJhbXMud2lkdGgsaGVpZ2h0OnRoaXMuY2xpcC5wcm9wcy5jb250YWluZXJQYXJhbXMuaGVpZ2h0LShcImFsd2F5c1wiPT10aGlzLm9wdGlvbnMudmlzaWJsZT80NDowKX0se3dpZHRoOmksaGVpZ2h0Omx9LFwiY292ZXJcIj09PXRoaXMub3B0aW9ucy5zY2FsZVRvRml0KTt0aGlzLnByZXZpZXdDbGlwLm93bkNsaXAucm9vdEVsZW1lbnQuc3R5bGUudHJhbnNmb3JtPVwic2NhbGUoXCIuY29uY2F0KHIuc2NhbGUpLHRoaXMucHJldmlld0NsaXAub3duQ2xpcC5yb290RWxlbWVudC5zdHlsZS5sZWZ0PVwiXCIuY29uY2F0KHIucG9zaXRpb24ubGVmdCxcInB4XCIpLHRoaXMucHJldmlld0NsaXAub3duQ2xpcC5yb290RWxlbWVudC5zdHlsZS50b3A9XCJcIi5jb25jYXQoci5wb3NpdGlvbi50b3AsXCJweFwiKSx0aGlzLmVsZW1lbnRzLnByZXZpZXcuc3R5bGUud2lkdGg9XCJcIi5jb25jYXQoaSxcInB4XCIpLHRoaXMuZWxlbWVudHMucHJldmlldy5zdHlsZS5oZWlnaHQ9XCJcIi5jb25jYXQobCxcInB4XCIpLHQuc3R5bGUuYm94U2l6aW5nPVwiYm9yZGVyLWJveFwifX1dKSYmbyhzLnByb3RvdHlwZSxpKSxnJiZvKHMsZyksdH0oKX0pKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex-player/dist/motorcortex-player.umd.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/motorcortex.umd.js":
/*!*************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/motorcortex.umd.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("!function(t,e){ true?e(exports):undefined}(this,(function(t){\"use strict\";function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function n(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(e){o(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function i(t){return(i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function d(t,e){if(e&&(\"object\"==typeof e||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return h(t)}function p(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d(this,n)}}function f(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}function m(t,e,n){return(m=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=f(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function v(t,e,n,i){return(v=\"undefined\"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,n,i){var r,s=f(t,e);if(s){if((r=Object.getOwnPropertyDescriptor(s,e)).set)return r.set.call(i,n),!0;if(!r.writable)return!1}if(r=Object.getOwnPropertyDescriptor(i,e)){if(!r.writable)return!1;r.value=n,Object.defineProperty(i,e,r)}else o(i,e,n);return!0})(t,e,n,i)}function g(t,e,n,i,r){if(!v(t,e,n,i||t)&&r)throw new Error(\"failed to set property\");return n}function y(t,e){return b(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null==n)return;var i,r,s=[],a=!0,o=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(s.push(i.value),!e||s.length!==e);a=!0);}catch(t){o=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(o)throw r}}return s}(t,e)||C(t,e)||w()}function k(t){return function(t){if(Array.isArray(t))return I(t)}(t)||x(t)||C(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function b(t){if(Array.isArray(t))return t}function x(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}function C(t,e){if(t){if(\"string\"==typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(t,e):void 0}}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function w(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function E(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=C(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var s,a=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){o=!0,s=t},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw s}}}}function A(t){var e=function(t,e){if(\"object\"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||\"default\");if(\"object\"!=typeof i)return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==typeof e?e:String(e)}function P(t,e,n,i){var r=O();if(i)for(var s=0;s<i.length;s++)r=i[s](r);var a=e((function(t){r.initializeInstanceElements(t,o.elements)}),n),o=r.decorateClass(function(t){for(var e=[],n=function(t){return\"method\"===t.kind&&t.key===s.key&&t.placement===s.placement},i=0;i<t.length;i++){var r,s=t[i];if(\"method\"===s.kind&&(r=e.find(n)))if(D(s.descriptor)||D(r.descriptor)){if(_(s)||_(r))throw new ReferenceError(\"Duplicated methods (\"+s.key+\") can't be decorated.\");r.descriptor=s.descriptor}else{if(_(s)){if(_(r))throw new ReferenceError(\"Decorators can't be placed on different accessors with for the same property (\"+s.key+\").\");r.decorators=s.decorators}S(s,r)}else e.push(s)}return e}(a.d.map(T)),t);return r.initializeClassElements(a.F,o.elements),r.runClassFinishers(a.F,o.finishers)}function O(){O=function(){return t};var t={elementsDefinitionOrder:[[\"method\"],[\"field\"]],initializeInstanceElements:function(t,e){[\"method\",\"field\"].forEach((function(n){e.forEach((function(e){e.kind===n&&\"own\"===e.placement&&this.defineClassElement(t,e)}),this)}),this)},initializeClassElements:function(t,e){var n=t.prototype;[\"method\",\"field\"].forEach((function(i){e.forEach((function(e){var r=e.placement;if(e.kind===i&&(\"static\"===r||\"prototype\"===r)){var s=\"static\"===r?t:n;this.defineClassElement(s,e)}}),this)}),this)},defineClassElement:function(t,e){var n=e.descriptor;if(\"field\"===e.kind){var i=e.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===i?void 0:i.call(t)}}Object.defineProperty(t,e.key,n)},decorateClass:function(t,e){var n=[],i=[],r={static:[],prototype:[],own:[]};if(t.forEach((function(t){this.addElementPlacement(t,r)}),this),t.forEach((function(t){if(!_(t))return n.push(t);var e=this.decorateElement(t,r);n.push(e.element),n.push.apply(n,e.extras),i.push.apply(i,e.finishers)}),this),!e)return{elements:n,finishers:i};var s=this.decorateConstructor(n,e);return i.push.apply(i,s.finishers),s.finishers=i,s},addElementPlacement:function(t,e,n){var i=e[t.placement];if(!n&&-1!==i.indexOf(t.key))throw new TypeError(\"Duplicated element (\"+t.key+\")\");i.push(t.key)},decorateElement:function(t,e){for(var n=[],i=[],r=t.decorators,s=r.length-1;s>=0;s--){var a=e[t.placement];a.splice(a.indexOf(t.key),1);var o=this.fromElementDescriptor(t),u=this.toElementFinisherExtras((0,r[s])(o)||o);t=u.element,this.addElementPlacement(t,e),u.finisher&&i.push(u.finisher);var l=u.extras;if(l){for(var c=0;c<l.length;c++)this.addElementPlacement(l[c],e);n.push.apply(n,l)}}return{element:t,finishers:i,extras:n}},decorateConstructor:function(t,e){for(var n=[],i=e.length-1;i>=0;i--){var r=this.fromClassDescriptor(t),s=this.toClassDescriptor((0,e[i])(r)||r);if(void 0!==s.finisher&&n.push(s.finisher),void 0!==s.elements){t=s.elements;for(var a=0;a<t.length-1;a++)for(var o=a+1;o<t.length;o++)if(t[a].key===t[o].key&&t[a].placement===t[o].placement)throw new TypeError(\"Duplicated element (\"+t[a].key+\")\")}}return{elements:t,finishers:n}},fromElementDescriptor:function(t){var e={kind:t.kind,key:t.key,placement:t.placement,descriptor:t.descriptor};return Object.defineProperty(e,Symbol.toStringTag,{value:\"Descriptor\",configurable:!0}),\"field\"===t.kind&&(e.initializer=t.initializer),e},toElementDescriptors:function(t){var e;if(void 0!==t)return(e=t,b(e)||x(e)||C(e)||w()).map((function(t){var e=this.toElementDescriptor(t);return this.disallowProperty(t,\"finisher\",\"An element descriptor\"),this.disallowProperty(t,\"extras\",\"An element descriptor\"),e}),this)},toElementDescriptor:function(t){var e=String(t.kind);if(\"method\"!==e&&\"field\"!==e)throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or \"field\", but a decorator created an element descriptor with .kind \"'+e+'\"');var n=A(t.key),i=String(t.placement);if(\"static\"!==i&&\"prototype\"!==i&&\"own\"!==i)throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\", \"prototype\" or \"own\", but a decorator created an element descriptor with .placement \"'+i+'\"');var r=t.descriptor;this.disallowProperty(t,\"elements\",\"An element descriptor\");var s={kind:e,key:n,placement:i,descriptor:Object.assign({},r)};return\"field\"!==e?this.disallowProperty(t,\"initializer\",\"A method descriptor\"):(this.disallowProperty(r,\"get\",\"The property descriptor of a field descriptor\"),this.disallowProperty(r,\"set\",\"The property descriptor of a field descriptor\"),this.disallowProperty(r,\"value\",\"The property descriptor of a field descriptor\"),s.initializer=t.initializer),s},toElementFinisherExtras:function(t){return{element:this.toElementDescriptor(t),finisher:M(t,\"finisher\"),extras:this.toElementDescriptors(t.extras)}},fromClassDescriptor:function(t){var e={kind:\"class\",elements:t.map(this.fromElementDescriptor,this)};return Object.defineProperty(e,Symbol.toStringTag,{value:\"Descriptor\",configurable:!0}),e},toClassDescriptor:function(t){var e=String(t.kind);if(\"class\"!==e)throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator created a class descriptor with .kind \"'+e+'\"');this.disallowProperty(t,\"key\",\"A class descriptor\"),this.disallowProperty(t,\"placement\",\"A class descriptor\"),this.disallowProperty(t,\"descriptor\",\"A class descriptor\"),this.disallowProperty(t,\"initializer\",\"A class descriptor\"),this.disallowProperty(t,\"extras\",\"A class descriptor\");var n=M(t,\"finisher\");return{elements:this.toElementDescriptors(t.elements),finisher:n}},runClassFinishers:function(t,e){for(var n=0;n<e.length;n++){var i=(0,e[n])(t);if(void 0!==i){if(\"function\"!=typeof i)throw new TypeError(\"Finishers must return a constructor.\");t=i}}return t},disallowProperty:function(t,e,n){if(void 0!==t[e])throw new TypeError(n+\" can't have a .\"+e+\" property.\")}};return t}function T(t){var e,n=A(t.key);\"method\"===t.kind?e={value:t.value,writable:!0,configurable:!0,enumerable:!1}:\"get\"===t.kind?e={get:t.value,configurable:!0,enumerable:!1}:\"set\"===t.kind?e={set:t.value,configurable:!0,enumerable:!1}:\"field\"===t.kind&&(e={configurable:!0,writable:!0,enumerable:!0});var i={kind:\"field\"===t.kind?\"field\":\"method\",key:n,placement:t.static?\"static\":\"field\"===t.kind?\"own\":\"prototype\",descriptor:e};return t.decorators&&(i.decorators=t.decorators),\"field\"===t.kind&&(i.initializer=t.value),i}function S(t,e){void 0!==t.descriptor.get?e.descriptor.get=t.descriptor.get:e.descriptor.set=t.descriptor.set}function _(t){return t.decorators&&t.decorators.length}function D(t){return void 0!==t&&!(void 0===t.value&&void 0===t.writable)}function M(t,e){var n=t[e];if(void 0!==n&&\"function\"!=typeof n)throw new TypeError(\"Expected '\"+e+\"' to be a function\");return n}var V=[{key:\"info\",style:\"color: #666;\",level:5,consoleMethod:\"log\"},{key:\"notice\",style:\"background: rgba(0, 0, 0, 0.8); color:white; padding:8px;\",level:4,consoleMethod:\"log\"},{key:\"warning\",style:\"color: black; background: orange;\",level:2,consoleMethod:\"warn\"},{key:\"error\",style:\"color: black; background: red;\",level:1,consoleMethod:\"error\"}],$=\"data-motorcortex2-id\",N=\"closed\",j=\"MotorCortex\",B={staggerPreface:\"@stagger\",mathExpPreface:\"@expression\",attibuteValue:\"@attribute\",patternValue:\"@pattern\",dynamicDuration:\"dynamic\",totalElements:\"total\",elementIndex:\"index\",initParams:\"initParams\"};function R(t){throw new Error('Could not dynamically require \"'+t+'\". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var L=function t(e,n,i={}){for(let s in n)if(\"object\"==typeof(r=n[s])&&!Array.isArray(r)&&null!=r&&Object.keys(r).length>0)e[s]=e[s]||{},t(e[s],n[s],i);else{if(!0===i.skipIfExist&&void 0!==e[s])continue;e[s]=n[s]}var r;return e};var F={required:\"The '{field}' field is required.\",string:\"The '{field}' field must be a string.\",stringEmpty:\"The '{field}' field must not be empty.\",stringMin:\"The '{field}' field length must be greater than or equal to {expected} characters long.\",stringMax:\"The '{field}' field length must be less than or equal to {expected} characters long.\",stringLength:\"The '{field}' field length must be {expected} characters long.\",stringPattern:\"The '{field}' field fails to match the required pattern.\",stringContains:\"The '{field}' field must contain the '{expected}' text.\",stringEnum:\"The '{field}' field does not match any of the allowed values.\",stringNumeric:\"The '{field}' field must be a numeric string.\",stringAlpha:\"The '{field}' field must be an alphabetic string.\",stringAlphanum:\"The '{field}' field must be an alphanumeric string.\",stringAlphadash:\"The '{field}' field must be an alphadash string.\",stringHex:\"The '{field}' field must be a hex string.\",stringSingleLine:\"The '{field}' field must be a single line string.\",stringBase64:\"The '{field}' field must be a base64 string.\",number:\"The '{field}' field must be a number.\",numberMin:\"The '{field}' field must be greater than or equal to {expected}.\",numberMax:\"The '{field}' field must be less than or equal to {expected}.\",numberEqual:\"The '{field}' field must be equal to {expected}.\",numberNotEqual:\"The '{field}' field can't be equal to {expected}.\",numberInteger:\"The '{field}' field must be an integer.\",numberPositive:\"The '{field}' field must be a positive number.\",numberNegative:\"The '{field}' field must be a negative number.\",array:\"The '{field}' field must be an array.\",arrayEmpty:\"The '{field}' field must not be an empty array.\",arrayMin:\"The '{field}' field must contain at least {expected} items.\",arrayMax:\"The '{field}' field must contain less than or equal to {expected} items.\",arrayLength:\"The '{field}' field must contain {expected} items.\",arrayContains:\"The '{field}' field must contain the '{expected}' item.\",arrayUnique:\"The '{actual}' value in '{field}' field does not unique the '{expected}' values.\",arrayEnum:\"The '{actual}' value in '{field}' field does not match any of the '{expected}' values.\",tuple:\"The '{field}' field must be an array.\",tupleEmpty:\"The '{field}' field must not be an empty array.\",tupleLength:\"The '{field}' field must contain {expected} items.\",boolean:\"The '{field}' field must be a boolean.\",currency:\"The '{field}' must be a valid currency format\",date:\"The '{field}' field must be a Date.\",dateMin:\"The '{field}' field must be greater than or equal to {expected}.\",dateMax:\"The '{field}' field must be less than or equal to {expected}.\",enumValue:\"The '{field}' field value '{expected}' does not match any of the allowed values.\",equalValue:\"The '{field}' field value must be equal to '{expected}'.\",equalField:\"The '{field}' field value must be equal to '{expected}' field value.\",forbidden:\"The '{field}' field is forbidden.\",function:\"The '{field}' field must be a function.\",email:\"The '{field}' field must be a valid e-mail.\",emailEmpty:\"The '{field}' field must not be empty.\",emailMin:\"The '{field}' field length must be greater than or equal to {expected} characters long.\",emailMax:\"The '{field}' field length must be less than or equal to {expected} characters long.\",luhn:\"The '{field}' field must be a valid checksum luhn.\",mac:\"The '{field}' field must be a valid MAC address.\",object:\"The '{field}' must be an Object.\",objectStrict:\"The object '{field}' contains forbidden keys: '{actual}'.\",objectMinProps:\"The object '{field}' must contain at least {expected} properties.\",objectMaxProps:\"The object '{field}' must contain {expected} properties at most.\",url:\"The '{field}' field must be a valid URL.\",urlEmpty:\"The '{field}' field must not be empty.\",uuid:\"The '{field}' field must be a valid UUID.\",uuidVersion:\"The '{field}' field must be a valid UUID version provided.\",classInstanceOf:\"The '{field}' field must be an instance of the '{expected}' class.\",objectID:\"The '{field}' field must be an valid ObjectID\"},z=function(){const t=[];return t.push(\"\\n\\t\\treturn value;\\n\\t\"),{source:t.join(\"\\n\")}},G=function({schema:t,messages:e},n,i){const r=[];if(r.push(`\\n\\t\\tif (!Array.isArray(value)) {\\n\\t\\t\\t${this.makeError({type:\"array\",actual:\"value\",messages:e})}\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\n\\t\\tvar len = value.length;\\n\\t`),!1===t.empty&&r.push(`\\n\\t\\t\\tif (len === 0) {\\n\\t\\t\\t\\t${this.makeError({type:\"arrayEmpty\",actual:\"value\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),null!=t.min&&r.push(`\\n\\t\\t\\tif (len < ${t.min}) {\\n\\t\\t\\t\\t${this.makeError({type:\"arrayMin\",expected:t.min,actual:\"len\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),null!=t.max&&r.push(`\\n\\t\\t\\tif (len > ${t.max}) {\\n\\t\\t\\t\\t${this.makeError({type:\"arrayMax\",expected:t.max,actual:\"len\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),null!=t.length&&r.push(`\\n\\t\\t\\tif (len !== ${t.length}) {\\n\\t\\t\\t\\t${this.makeError({type:\"arrayLength\",expected:t.length,actual:\"len\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),null!=t.contains&&r.push(`\\n\\t\\t\\tif (value.indexOf(${JSON.stringify(t.contains)}) === -1) {\\n\\t\\t\\t\\t${this.makeError({type:\"arrayContains\",expected:JSON.stringify(t.contains),actual:\"value\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),!0===t.unique&&r.push(`\\n\\t\\t\\tif(len > (new Set(value)).size) {\\n\\t\\t\\t\\t${this.makeError({type:\"arrayUnique\",expected:\"Array.from(new Set(value.filter((item, index) => value.indexOf(item) !== index)))\",actual:\"value\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),null!=t.enum){const n=JSON.stringify(t.enum);r.push(`\\n\\t\\t\\tfor (var i = 0; i < value.length; i++) {\\n\\t\\t\\t\\tif (${n}.indexOf(value[i]) === -1) {\\n\\t\\t\\t\\t\\t${this.makeError({type:\"arrayEnum\",expected:'\"'+t.enum.join(\", \")+'\"',actual:\"value[i]\",messages:e})}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t`)}if(null!=t.items){r.push(\"\\n\\t\\t\\tvar arr = value;\\n\\t\\t\\tvar parentField = field;\\n\\t\\t\\tfor (var i = 0; i < arr.length; i++) {\\n\\t\\t\\t\\tvalue = arr[i];\\n\\t\\t\");const e=n+\"[]\",s=this.getRuleFromSchema(t.items),a=`arr[i] = ${i.async?\"await \":\"\"}context.fn[%%INDEX%%](arr[i], (parentField ? parentField : \"\") + \"[\" + i + \"]\", parent, errors, context)`;r.push(this.compileRule(s,i,e,a,\"arr[i]\")),r.push(\"\\n\\t\\t\\t}\\n\\t\\t\"),r.push(\"\\n\\t\\treturn arr;\\n\\t\")}else r.push(\"\\n\\t\\treturn value;\\n\\t\");return{source:r.join(\"\\n\")}},q=function({schema:t,messages:e},n,i){const r=[];let s=!1;return r.push(\"\\n\\t\\tvar origValue = value;\\n\\t\"),!0===t.convert&&(s=!0,r.push('\\n\\t\\t\\tif (typeof value !== \"boolean\") {\\n\\t\\t\\t\\tif (\\n\\t\\t\\t\\tvalue === 1\\n\\t\\t\\t\\t|| value === \"true\"\\n\\t\\t\\t\\t|| value === \"1\"\\n\\t\\t\\t\\t|| value === \"on\"\\n\\t\\t\\t\\t) {\\n\\t\\t\\t\\t\\tvalue = true;\\n\\t\\t\\t\\t} else if (\\n\\t\\t\\t\\tvalue === 0\\n\\t\\t\\t\\t|| value === \"false\"\\n\\t\\t\\t\\t|| value === \"0\"\\n\\t\\t\\t\\t|| value === \"off\"\\n\\t\\t\\t\\t) {\\n\\t\\t\\t\\t\\tvalue = false;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t')),r.push(`\\n\\t\\tif (typeof value !== \"boolean\") {\\n\\t\\t\\t${this.makeError({type:\"boolean\",actual:\"origValue\",messages:e})}\\n\\t\\t}\\n\\t\\t\\n\\t\\treturn value;\\n\\t`),{sanitized:s,source:r.join(\"\\n\")}},K=function({schema:t,messages:e,index:n},i,r){const s=[],a=t.instanceOf.name?t.instanceOf.name:\"<UnknowClass>\";return r.customs[n]?r.customs[n].schema=t:r.customs[n]={schema:t},s.push(`\\n\\t\\tif (!(value instanceof context.customs[${n}].schema.instanceOf))\\n\\t\\t\\t${this.makeError({type:\"classInstanceOf\",actual:\"value\",expected:\"'\"+a+\"'\",messages:e})}\\n\\t`),s.push(\"\\n\\t\\treturn value;\\n\\t\"),{source:s.join(\"\\n\")}},W=function({schema:t,messages:e,index:n},i,r){const s=[];return s.push(`\\n\\t\\t${this.makeCustomValidator({fnName:\"check\",path:i,schema:t,messages:e,context:r,ruleIndex:n})}\\n\\t\\treturn value;\\n\\t`),{source:s.join(\"\\n\")}};var J=function({schema:t,messages:e},n,i){const r=t.currencySymbol||null,s=t.thousandSeparator||\",\",a=t.decimalSeparator||\".\",o=t.customRegex;let u=!t.symbolOptional,l=\"(?=.*\\\\d)^(-?~1|~1-?)(([0-9]\\\\d{0,2}(~2\\\\d{3})*)|0)?(\\\\~3\\\\d{1,2})?$\".replace(/~1/g,r?`\\\\${r}${u?\"\":\"?\"}`:\"\").replace(\"~2\",s).replace(\"~3\",a);const c=[];return c.push(`\\n\\t\\tif (!value.match(${o||new RegExp(l)})) {\\n\\t\\t\\t${this.makeError({type:\"currency\",actual:\"value\",messages:e})}\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\n\\t\\treturn value;\\n\\t`),{source:c.join(\"\\n\")}},H=function({schema:t,messages:e},n,i){const r=[];let s=!1;return r.push(\"\\n\\t\\tvar origValue = value;\\n\\t\"),!0===t.convert&&(s=!0,r.push(\"\\n\\t\\t\\tif (!(value instanceof Date)) {\\n\\t\\t\\t\\tvalue = new Date(value);\\n\\t\\t\\t}\\n\\t\\t\")),r.push(`\\n\\t\\tif (!(value instanceof Date) || isNaN(value.getTime()))\\n\\t\\t\\t${this.makeError({type:\"date\",actual:\"origValue\",messages:e})}\\n\\n\\t\\treturn value;\\n\\t`),{sanitized:s,source:r.join(\"\\n\")}};const U=/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,Z=/^\\S+@\\S+\\.\\S+$/;var Q=function({schema:t,messages:e},n,i){const r=[],s=\"precise\"==t.mode?U:Z;let a=!1;return r.push(`\\n\\t\\tif (typeof value !== \"string\") {\\n\\t\\t\\t${this.makeError({type:\"string\",actual:\"value\",messages:e})}\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\t`),t.empty?r.push(\"\\n\\t\\t\\tif (value.length === 0) return value;\\n\\t\\t\"):r.push(`\\n\\t\\t\\tif (value.length === 0) {\\n\\t\\t\\t\\t${this.makeError({type:\"emailEmpty\",actual:\"value\",messages:e})}\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t}\\n\\t\\t`),t.normalize&&(a=!0,r.push(\"\\n\\t\\t\\tvalue = value.trim().toLowerCase();\\n\\t\\t\")),null!=t.min&&r.push(`\\n\\t\\t\\tif (value.length < ${t.min}) {\\n\\t\\t\\t\\t${this.makeError({type:\"emailMin\",expected:t.min,actual:\"value.length\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),null!=t.max&&r.push(`\\n\\t\\t\\tif (value.length > ${t.max}) {\\n\\t\\t\\t\\t${this.makeError({type:\"emailMax\",expected:t.max,actual:\"value.length\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),r.push(`\\n\\t\\tif (!${s.toString()}.test(value)) {\\n\\t\\t\\t${this.makeError({type:\"email\",actual:\"value\",messages:e})}\\n\\t\\t}\\n\\n\\t\\treturn value;\\n\\t`),{sanitized:a,source:r.join(\"\\n\")}},X=function({schema:t,messages:e},n,i){return{source:`\\n\\t\\t\\tif (${JSON.stringify(t.values||[])}.indexOf(value) === -1)\\n\\t\\t\\t\\t${this.makeError({type:\"enumValue\",expected:'\"'+t.values.join(\", \")+'\"',actual:\"value\",messages:e})}\\n\\t\\t\\t\\n\\t\\t\\treturn value;\\n\\t\\t`}},Y=function({schema:t,messages:e},n,i){const r=[];return t.field?(t.strict?r.push(`\\n\\t\\t\\t\\tif (value !== parent[\"${t.field}\"])\\n\\t\\t\\t`):r.push(`\\n\\t\\t\\t\\tif (value != parent[\"${t.field}\"])\\n\\t\\t\\t`),r.push(`\\n\\t\\t\\t\\t${this.makeError({type:\"equalField\",actual:\"value\",expected:JSON.stringify(t.field),messages:e})}\\n\\t\\t`)):(t.strict?r.push(`\\n\\t\\t\\t\\tif (value !== ${JSON.stringify(t.value)})\\n\\t\\t\\t`):r.push(`\\n\\t\\t\\t\\tif (value != ${JSON.stringify(t.value)})\\n\\t\\t\\t`),r.push(`\\n\\t\\t\\t\\t${this.makeError({type:\"equalValue\",actual:\"value\",expected:JSON.stringify(t.value),messages:e})}\\n\\t\\t`)),r.push(\"\\n\\t\\treturn value;\\n\\t\"),{source:r.join(\"\\n\")}},tt=function({schema:t,messages:e},n,i){const r=[];return r.push(\"\\n\\t\\tif (value !== null && value !== undefined) {\\n\\t\"),t.remove?r.push(\"\\n\\t\\t\\treturn undefined;\\n\\t\\t\"):r.push(`\\n\\t\\t\\t${this.makeError({type:\"forbidden\",actual:\"value\",messages:e})}\\n\\t\\t`),r.push(\"\\n\\t\\t}\\n\\n\\t\\treturn value;\\n\\t\"),{source:r.join(\"\\n\")}},et=function({schema:t,messages:e},n,i){return{source:`\\n\\t\\t\\tif (typeof value !== \"function\")\\n\\t\\t\\t\\t${this.makeError({type:\"function\",actual:\"value\",messages:e})}\\n\\n\\t\\t\\treturn value;\\n\\t\\t`}},nt=function({schema:t,messages:e},n,i){const r=[];r.push(\"\\n\\t\\tvar prevErrLen = errors.length;\\n\\t\\tvar errBefore;\\n\\t\\tvar hasValid = false;\\n\\t\\tvar newVal = value;\\n\\t\");for(let e=0;e<t.rules.length;e++){r.push(\"\\n\\t\\t\\tif (!hasValid) {\\n\\t\\t\\t\\terrBefore = errors.length;\\n\\t\\t\");const s=this.getRuleFromSchema(t.rules[e]);r.push(this.compileRule(s,i,n,`var tmpVal = ${i.async?\"await \":\"\"}context.fn[%%INDEX%%](value, field, parent, errors, context);`,\"tmpVal\")),r.push(\"\\n\\t\\t\\t\\tif (errors.length == errBefore) {\\n\\t\\t\\t\\t\\thasValid = true;\\n\\t\\t\\t\\t\\tnewVal = tmpVal;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\")}return r.push(\"\\n\\t\\tif (hasValid) {\\n\\t\\t\\terrors.length = prevErrLen;\\n\\t\\t}\\n\\n\\t\\treturn newVal;\\n\\t\"),{source:r.join(\"\\n\")}},it=function({schema:t,messages:e},n,i){const r=[];r.push(\"\\n\\t\\tvar origValue = value;\\n\\t\");let s=!1;return!0===t.convert&&(s=!0,r.push('\\n\\t\\t\\tif (typeof value !== \"number\") {\\n\\t\\t\\t\\tvalue = Number(value);\\n\\t\\t\\t}\\n\\t\\t')),r.push(`\\n\\t\\tif (typeof value !== \"number\" || isNaN(value) || !isFinite(value)) {\\n\\t\\t\\t${this.makeError({type:\"number\",actual:\"origValue\",messages:e})}\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\t`),null!=t.min&&r.push(`\\n\\t\\t\\tif (value < ${t.min}) {\\n\\t\\t\\t\\t${this.makeError({type:\"numberMin\",expected:t.min,actual:\"origValue\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),null!=t.max&&r.push(`\\n\\t\\t\\tif (value > ${t.max}) {\\n\\t\\t\\t\\t${this.makeError({type:\"numberMax\",expected:t.max,actual:\"origValue\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),null!=t.equal&&r.push(`\\n\\t\\t\\tif (value !== ${t.equal}) {\\n\\t\\t\\t\\t${this.makeError({type:\"numberEqual\",expected:t.equal,actual:\"origValue\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),null!=t.notEqual&&r.push(`\\n\\t\\t\\tif (value === ${t.notEqual}) {\\n\\t\\t\\t\\t${this.makeError({type:\"numberNotEqual\",expected:t.notEqual,actual:\"origValue\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),!0===t.integer&&r.push(`\\n\\t\\t\\tif (value % 1 !== 0) {\\n\\t\\t\\t\\t${this.makeError({type:\"numberInteger\",actual:\"origValue\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),!0===t.positive&&r.push(`\\n\\t\\t\\tif (value <= 0) {\\n\\t\\t\\t\\t${this.makeError({type:\"numberPositive\",actual:\"origValue\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),!0===t.negative&&r.push(`\\n\\t\\t\\tif (value >= 0) {\\n\\t\\t\\t\\t${this.makeError({type:\"numberNegative\",actual:\"origValue\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),r.push(\"\\n\\t\\treturn value;\\n\\t\"),{sanitized:s,source:r.join(\"\\n\")}};const rt=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/,st=/[\"'\\\\\\n\\r\\u2028\\u2029]/g;function at(t){return t.replace(st,(function(t){switch(t){case'\"':case\"'\":case\"\\\\\":return\"\\\\\"+t;case\"\\n\":return\"\\\\n\";case\"\\r\":return\"\\\\r\";case\"\\u2028\":return\"\\\\u2028\";case\"\\u2029\":return\"\\\\u2029\"}}))}var ot=function({schema:t,messages:e},n,i){const r=[];r.push(`\\n\\t\\tif (typeof value !== \"object\" || value === null || Array.isArray(value)) {\\n\\t\\t\\t${this.makeError({type:\"object\",actual:\"value\",messages:e})}\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\t`);const s=t.properties||t.props;if(s){r.push(\"var parentObj = value;\"),r.push(\"var parentField = field;\");const a=Object.keys(s);for(let t=0;t<a.length;t++){const e=a[t],o=at(e),u=rt.test(o)?`.${o}`:`['${o}']`,l=`parentObj${u}`,c=(n?n+\".\":\"\")+e;r.push(`\\n// Field: ${at(c)}`),r.push(`field = parentField ? parentField + \"${u}\" : \"${o}\";`),r.push(`value = ${l};`);const h=this.getRuleFromSchema(s[e]),d=`\\n\\t\\t\\t\\t${l} = ${i.async?\"await \":\"\"}context.fn[%%INDEX%%](value, field, parentObj, errors, context);\\n\\t\\t\\t`;r.push(this.compileRule(h,i,c,d,l))}if(t.strict){const n=Object.keys(s);r.push(`\\n\\t\\t\\t\\tfield = parentField;\\n\\t\\t\\t\\tvar invalidProps = [];\\n\\t\\t\\t\\tvar props = Object.keys(parentObj);\\n\\n\\t\\t\\t\\tfor (let i = 0; i < props.length; i++) {\\n\\t\\t\\t\\t\\tif (${JSON.stringify(n)}.indexOf(props[i]) === -1) {\\n\\t\\t\\t\\t\\t\\tinvalidProps.push(props[i]);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif (invalidProps.length) {\\n\\t\\t\\t`),\"remove\"==t.strict?r.push(\"\\n\\t\\t\\t\\t\\tinvalidProps.forEach(function(field) {\\n\\t\\t\\t\\t\\t\\tdelete parentObj[field];\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\"):r.push(`\\n\\t\\t\\t\\t\\t${this.makeError({type:\"objectStrict\",expected:'\"'+n.join(\", \")+'\"',actual:\"invalidProps.join(', ')\",messages:e})}\\n\\t\\t\\t\\t`),r.push(\"\\n\\t\\t\\t\\t}\\n\\t\\t\\t\")}}return null==t.minProps&&null==t.maxProps||(t.strict?r.push(`\\n\\t\\t\\t\\tprops = Object.keys(${s?\"parentObj\":\"value\"});\\n\\t\\t\\t`):r.push(`\\n\\t\\t\\t\\tvar props = Object.keys(${s?\"parentObj\":\"value\"});\\n\\t\\t\\t\\t${s?\"field = parentField;\":\"\"}\\n\\t\\t\\t`)),null!=t.minProps&&r.push(`\\n\\t\\t\\tif (props.length < ${t.minProps}) {\\n\\t\\t\\t\\t${this.makeError({type:\"objectMinProps\",expected:t.minProps,actual:\"props.length\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),null!=t.maxProps&&r.push(`\\n\\t\\t\\tif (props.length > ${t.maxProps}) {\\n\\t\\t\\t\\t${this.makeError({type:\"objectMaxProps\",expected:t.maxProps,actual:\"props.length\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),s?r.push(\"\\n\\t\\t\\treturn parentObj;\\n\\t\\t\"):r.push(\"\\n\\t\\t\\treturn value;\\n\\t\\t\"),{source:r.join(\"\\n\")}},ut=function({schema:t,messages:e,index:n},i,r){const s=[];return r.customs[n]?r.customs[n].schema=t:r.customs[n]={schema:t},s.push(`\\n\\t\\tconst ObjectID = context.customs[${n}].schema.ObjectID;\\n\\t\\tif (!ObjectID.isValid(value)) {\\n\\t\\t\\t${this.makeError({type:\"objectID\",actual:\"value\",messages:e})}\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t`),!0===t.convert?s.push(\"return new ObjectID(value)\"):\"hexString\"===t.convert?s.push(\"return value.toString()\"):s.push(\"return value\"),{source:s.join(\"\\n\")}};const lt=/^-?[0-9]\\d*(\\.\\d+)?$/,ct=/^[a-zA-Z]+$/,ht=/^[a-zA-Z0-9]+$/,dt=/^[a-zA-Z0-9_-]+$/,pt=/^[0-9a-fA-F]+$/,ft=/^(?:[A-Za-z0-9+\\\\/]{4})*(?:[A-Za-z0-9+\\\\/]{2}==|[A-Za-z0-9+/]{3}=)?$/;var mt=function({schema:t,messages:e},n,i){const r=[];let s=!1;if(!0===t.convert&&(s=!0,r.push('\\n\\t\\t\\tif (typeof value !== \"string\") {\\n\\t\\t\\t\\tvalue = String(value);\\n\\t\\t\\t}\\n\\t\\t')),r.push(`\\n\\t\\tif (typeof value !== \"string\") {\\n\\t\\t\\t${this.makeError({type:\"string\",actual:\"value\",messages:e})}\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\n\\t\\tvar origValue = value;\\n\\t`),t.trim&&(s=!0,r.push(\"\\n\\t\\t\\tvalue = value.trim();\\n\\t\\t\")),t.trimLeft&&(s=!0,r.push(\"\\n\\t\\t\\tvalue = value.trimLeft();\\n\\t\\t\")),t.trimRight&&(s=!0,r.push(\"\\n\\t\\t\\tvalue = value.trimRight();\\n\\t\\t\")),t.padStart){s=!0;const e=null!=t.padChar?t.padChar:\" \";r.push(`\\n\\t\\t\\tvalue = value.padStart(${t.padStart}, ${JSON.stringify(e)});\\n\\t\\t`)}if(t.padEnd){s=!0;const e=null!=t.padChar?t.padChar:\" \";r.push(`\\n\\t\\t\\tvalue = value.padEnd(${t.padEnd}, ${JSON.stringify(e)});\\n\\t\\t`)}if(t.lowercase&&(s=!0,r.push(\"\\n\\t\\t\\tvalue = value.toLowerCase();\\n\\t\\t\")),t.uppercase&&(s=!0,r.push(\"\\n\\t\\t\\tvalue = value.toUpperCase();\\n\\t\\t\")),t.localeLowercase&&(s=!0,r.push(\"\\n\\t\\t\\tvalue = value.toLocaleLowerCase();\\n\\t\\t\")),t.localeUppercase&&(s=!0,r.push(\"\\n\\t\\t\\tvalue = value.toLocaleUpperCase();\\n\\t\\t\")),r.push(\"\\n\\t\\t\\tvar len = value.length;\\n\\t\"),!1===t.empty&&r.push(`\\n\\t\\t\\tif (len === 0) {\\n\\t\\t\\t\\t${this.makeError({type:\"stringEmpty\",actual:\"value\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),null!=t.min&&r.push(`\\n\\t\\t\\tif (len < ${t.min}) {\\n\\t\\t\\t\\t${this.makeError({type:\"stringMin\",expected:t.min,actual:\"len\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),null!=t.max&&r.push(`\\n\\t\\t\\tif (len > ${t.max}) {\\n\\t\\t\\t\\t${this.makeError({type:\"stringMax\",expected:t.max,actual:\"len\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),null!=t.length&&r.push(`\\n\\t\\t\\tif (len !== ${t.length}) {\\n\\t\\t\\t\\t${this.makeError({type:\"stringLength\",expected:t.length,actual:\"len\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),null!=t.pattern){let n=t.pattern;\"string\"==typeof t.pattern&&(n=new RegExp(t.pattern,t.patternFlags));const i=`\\n\\t\\t\\tif (!${n.toString()}.test(value))\\n\\t\\t\\t\\t${this.makeError({type:\"stringPattern\",expected:`\"${n.toString().replace(/\"/g,\"\\\\$&\")}\"`,actual:\"origValue\",messages:e})}\\n\\t\\t`;r.push(`\\n\\t\\t\\tif (${t.empty} === true && len === 0) {\\n\\t\\t\\t\\t// Do nothing\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t${i}\\n\\t\\t\\t}\\n\\t\\t`)}if(null!=t.contains&&r.push(`\\n\\t\\t\\tif (value.indexOf(\"${t.contains}\") === -1) {\\n\\t\\t\\t\\t${this.makeError({type:\"stringContains\",expected:'\"'+t.contains+'\"',actual:\"origValue\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),null!=t.enum){const n=JSON.stringify(t.enum);r.push(`\\n\\t\\t\\tif (${n}.indexOf(value) === -1) {\\n\\t\\t\\t\\t${this.makeError({type:\"stringEnum\",expected:'\"'+t.enum.join(\", \")+'\"',actual:\"origValue\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`)}return!0===t.numeric&&r.push(`\\n\\t\\t\\tif (!${lt.toString()}.test(value) ) {\\n\\t\\t\\t\\t${this.makeError({type:\"stringNumeric\",actual:\"origValue\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),!0===t.alpha&&r.push(`\\n\\t\\t\\tif(!${ct.toString()}.test(value)) {\\n\\t\\t\\t\\t${this.makeError({type:\"stringAlpha\",actual:\"origValue\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),!0===t.alphanum&&r.push(`\\n\\t\\t\\tif(!${ht.toString()}.test(value)) {\\n\\t\\t\\t\\t${this.makeError({type:\"stringAlphanum\",actual:\"origValue\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),!0===t.alphadash&&r.push(`\\n\\t\\t\\tif(!${dt.toString()}.test(value)) {\\n\\t\\t\\t\\t${this.makeError({type:\"stringAlphadash\",actual:\"origValue\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),!0===t.hex&&r.push(`\\n\\t\\t\\tif(value.length % 2 !== 0 || !${pt.toString()}.test(value)) {\\n\\t\\t\\t\\t${this.makeError({type:\"stringHex\",actual:\"origValue\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),!0===t.singleLine&&r.push(`\\n\\t\\t\\tif(value.includes(\"\\\\n\")) {\\n\\t\\t\\t\\t${this.makeError({type:\"stringSingleLine\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),!0===t.base64&&r.push(`\\n\\t\\t\\tif(!${ft.toString()}.test(value)) {\\n\\t\\t\\t\\t${this.makeError({type:\"stringBase64\",actual:\"origValue\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t`),r.push(\"\\n\\t\\treturn value;\\n\\t\"),{sanitized:s,source:r.join(\"\\n\")}},vt=function({schema:t,messages:e},n,i){const r=[];if(null!=t.items){if(!Array.isArray(t.items))throw new Error(`Invalid '${t.type}' schema. The 'items' field must be an array.`);if(0===t.items.length)throw new Error(`Invalid '${t.type}' schema. The 'items' field must not be an empty array.`)}if(r.push(`\\n\\t\\tif (!Array.isArray(value)) {\\n\\t\\t\\t${this.makeError({type:\"tuple\",actual:\"value\",messages:e})}\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\n\\t\\tvar len = value.length;\\n\\t`),!1===t.empty&&r.push(`\\n\\t\\t\\tif (len === 0) {\\n\\t\\t\\t\\t${this.makeError({type:\"tupleEmpty\",actual:\"value\",messages:e})}\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t}\\n\\t\\t`),null!=t.items){r.push(`\\n\\t\\t\\tif (${t.empty} !== false && len === 0) {\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (len !== ${t.items.length}) {\\n\\t\\t\\t\\t${this.makeError({type:\"tupleLength\",expected:t.items.length,actual:\"len\",messages:e})}\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t}\\n\\t\\t`),r.push(\"\\n\\t\\t\\tvar arr = value;\\n\\t\\t\\tvar parentField = field;\\n\\t\\t\");for(let e=0;e<t.items.length;e++){r.push(`\\n\\t\\t\\tvalue = arr[${e}];\\n\\t\\t`);const s=`${n}[${e}]`,a=this.getRuleFromSchema(t.items[e]),o=`\\n\\t\\t\\tarr[${e}] = ${i.async?\"await \":\"\"}context.fn[%%INDEX%%](arr[${e}], (parentField ? parentField : \"\") + \"[\" + ${e} + \"]\", parent, errors, context);\\n\\t\\t`;r.push(this.compileRule(a,i,s,o,`arr[${e}]`))}r.push(\"\\n\\t\\treturn arr;\\n\\t\")}else r.push(\"\\n\\t\\treturn value;\\n\\t\");return{source:r.join(\"\\n\")}};const gt=/^https?:\\/\\/\\S+/;var yt=function({schema:t,messages:e},n,i){const r=[];return r.push(`\\n\\t\\tif (typeof value !== \"string\") {\\n\\t\\t\\t${this.makeError({type:\"string\",actual:\"value\",messages:e})}\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\t`),t.empty?r.push(\"\\n\\t\\t\\tif (value.length === 0) return value;\\n\\t\\t\"):r.push(`\\n\\t\\t\\tif (value.length === 0) {\\n\\t\\t\\t\\t${this.makeError({type:\"urlEmpty\",actual:\"value\",messages:e})}\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t}\\n\\t\\t`),r.push(`\\n\\t\\tif (!${gt.toString()}.test(value)) {\\n\\t\\t\\t${this.makeError({type:\"url\",actual:\"value\",messages:e})}\\n\\t\\t}\\n\\n\\t\\treturn value;\\n\\t`),{source:r.join(\"\\n\")}};const kt=/^([0-9a-f]{8}-[0-9a-f]{4}-[1-6][0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}|[0]{8}-[0]{4}-[0]{4}-[0]{4}-[0]{12})$/i;var bt=function({schema:t,messages:e},n){const i=[];return i.push(`\\n\\t\\tif (typeof value !== \"string\") {\\n\\t\\t\\t${this.makeError({type:\"string\",actual:\"value\",messages:e})}\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\n\\t\\tvar val = value.toLowerCase();\\n\\t\\tif (!${kt.toString()}.test(val)) {\\n\\t\\t\\t${this.makeError({type:\"uuid\",actual:\"value\",messages:e})}\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\n\\t\\tconst version = val.charAt(14) | 0;\\n\\t`),parseInt(t.version)<7&&i.push(`\\n\\t\\t\\tif (${t.version} !== version) {\\n\\t\\t\\t\\t${this.makeError({type:\"uuidVersion\",expected:t.version,actual:\"version\",messages:e})}\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t}\\n\\t\\t`),i.push(`\\n\\t\\tswitch (version) {\\n\\t\\tcase 0:\\n\\t\\tcase 1:\\n\\t\\tcase 2:\\n\\t\\tcase 6:\\n\\t\\t\\tbreak;\\n\\t\\tcase 3:\\n\\t\\tcase 4:\\n\\t\\tcase 5:\\n\\t\\t\\tif ([\"8\", \"9\", \"a\", \"b\"].indexOf(val.charAt(19)) === -1) {\\n\\t\\t\\t\\t${this.makeError({type:\"uuid\",actual:\"value\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn value;\\n\\t`),{source:i.join(\"\\n\")}};const xt=/^((([a-f0-9][a-f0-9]+[-]){5}|([a-f0-9][a-f0-9]+[:]){5})([a-f0-9][a-f0-9])$)|(^([a-f0-9][a-f0-9][a-f0-9][a-f0-9]+[.]){2}([a-f0-9][a-f0-9][a-f0-9][a-f0-9]))$/i;var Ct=function({schema:t,messages:e},n,i){return{source:`\\n\\t\\t\\tif (typeof value !== \"string\") {\\n\\t\\t\\t\\t${this.makeError({type:\"string\",actual:\"value\",messages:e})}\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar v = value.toLowerCase();\\n\\t\\t\\tif (!${xt.toString()}.test(v)) {\\n\\t\\t\\t\\t${this.makeError({type:\"mac\",actual:\"value\",messages:e})}\\n\\t\\t\\t}\\n\\t\\t\\t\\n\\t\\t\\treturn value;\\n\\t\\t`}},It=function({schema:t,messages:e},n,i){return{source:`\\n\\t\\t\\tif (typeof value !== \"string\") {\\n\\t\\t\\t\\t${this.makeError({type:\"string\",actual:\"value\",messages:e})}\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (typeof value !== \"string\")\\n\\t\\t\\t\\tvalue = String(value);\\n\\n\\t\\t\\tval = value.replace(/\\\\D+/g, \"\");\\n\\n\\t\\t\\tvar array = [0, 2, 4, 6, 8, 1, 3, 5, 7, 9];\\n\\t\\t\\tvar len = val ? val.length : 0,\\n\\t\\t\\t\\tbit = 1,\\n\\t\\t\\t\\tsum = 0;\\n\\t\\t\\twhile (len--) {\\n\\t\\t\\t\\tsum += !(bit ^= 1) ? parseInt(val[len], 10) : array[val[len]];\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!(sum % 10 === 0 && sum > 0)) {\\n\\t\\t\\t\\t${this.makeError({type:\"luhn\",actual:\"value\",messages:e})}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn value;\\n\\t\\t`}};let wt,Et,At,Pt;var Ot=function(t){wt||(wt=R(\"prettier\"),Et={parser:\"babel\",useTabs:!1,printWidth:120,trailingComma:\"none\",tabWidth:4,singleQuote:!1,semi:!0,bracketSpacing:!0},At=R(\"cli-highlight\"),Pt={language:\"js\",theme:At.fromJson({keyword:[\"white\",\"bold\"],built_in:\"magenta\",literal:\"cyan\",number:\"magenta\",regexp:\"red\",string:[\"yellow\",\"bold\"],symbol:\"plain\",class:\"blue\",attr:\"plain\",function:[\"white\",\"bold\"],title:\"plain\",params:\"green\",comment:\"grey\"})});const e=wt.format(t,Et);return At.highlight(e,Pt)};let Tt;try{Tt=new Function(\"return Object.getPrototypeOf(async function(){}).constructor\")()}catch(t){}const St=L,_t=(t,e,n)=>{return t.replace(e,null==(i=n)?\"\":\"function\"==typeof i.toString?i:typeof i);var i};var Dt=class{constructor(t){if(this.opts={},this.defaults={},this.messages=Object.assign({},F),this.rules={any:z,array:G,boolean:q,class:K,custom:W,currency:J,date:H,email:Q,enum:X,equal:Y,forbidden:tt,function:et,multi:nt,number:it,object:ot,objectID:ut,string:mt,tuple:vt,url:yt,uuid:bt,mac:Ct,luhn:It},this.aliases={},this.cache=new Map,t){if(St(this.opts,t),t.defaults&&St(this.defaults,t.defaults),t.messages)for(const e in t.messages)this.addMessage(e,t.messages[e]);if(t.aliases)for(const e in t.aliases)this.alias(e,t.aliases[e]);if(t.customRules)for(const e in t.customRules)this.add(e,t.customRules[e]);if(t.plugins){const e=t.plugins;if(!Array.isArray(e))throw new Error(\"Plugins type must be array\");e.forEach(this.plugin.bind(this))}if(this.opts.debug){let t=function(t){return t};\"undefined\"==typeof window&&(t=Ot),this._formatter=t}}}validate(t,e){return this.compile(e)(t)}wrapRequiredCheckSourceCode(t,e,n,i){const r=[];let s,a=!0===t.schema.optional||\"forbidden\"===t.schema.type,o=!0===t.schema.optional||!0===t.schema.nullable||\"forbidden\"===t.schema.type;if(null!=t.schema.default){let e;a=!1,!0!==t.schema.nullable&&(o=!1),\"function\"==typeof t.schema.default?(n.customs[t.index]||(n.customs[t.index]={}),n.customs[t.index].defaultFn=t.schema.default,e=`context.customs[${t.index}].defaultFn()`):e=JSON.stringify(t.schema.default),s=`\\n\\t\\t\\t\\tvalue = ${e};\\n\\t\\t\\t\\t${i} = value;\\n\\t\\t\\t`}else s=this.makeError({type:\"required\",actual:\"value\",messages:t.messages});return r.push(`\\n\\t\\t\\tif (value === undefined) { ${a?\"\\n// allow undefined\\n\":s} }\\n\\t\\t\\telse if (value === null) { ${o?\"\\n// allow null\\n\":s} }\\n\\t\\t\\t${e?`else { ${e} }`:\"\"}\\n\\t\\t`),r.join(\"\\n\")}compile(t){if(null===t||\"object\"!=typeof t)throw new Error(\"Invalid schema.\");const e=this,n={index:0,async:!0===t.$$async,rules:[],fn:[],customs:{},utils:{replace:_t}};if(this.cache.clear(),delete t.$$async,n.async&&!Tt)throw new Error(\"Asynchronous mode is not supported.\");if(!0!==t.$$root)if(Array.isArray(t)){t=this.getRuleFromSchema(t).schema}else{const e=Object.assign({},t);t={type:\"object\",strict:e.$$strict,properties:e},delete e.$$strict}const i=[\"var errors = [];\",\"var field;\",\"var parent = null;\"],r=this.getRuleFromSchema(t);i.push(this.compileRule(r,n,null,(n.async?\"await \":\"\")+\"context.fn[%%INDEX%%](value, field, null, errors, context);\",\"value\")),i.push(\"if (errors.length) {\"),i.push(\"\\n\\t\\t\\treturn errors.map(err => {\\n\\t\\t\\t\\tif (err.message) {\\n\\t\\t\\t\\t\\terr.message = context.utils.replace(err.message, /\\\\{field\\\\}/g, err.field);\\n\\t\\t\\t\\t\\terr.message = context.utils.replace(err.message, /\\\\{expected\\\\}/g, err.expected);\\n\\t\\t\\t\\t\\terr.message = context.utils.replace(err.message, /\\\\{actual\\\\}/g, err.actual);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn err;\\n\\t\\t\\t});\\n\\t\\t\"),i.push(\"}\"),i.push(\"return true;\");const s=i.join(\"\\n\"),a=new(n.async?Tt:Function)(\"value\",\"context\",s);this.opts.debug&&console.log(this._formatter(\"// Main check function\\n\"+a.toString())),this.cache.clear();const o=function(t,i){return n.data=t,i&&i.meta&&(n.meta=i.meta),a.call(e,t,n)};return o.async=n.async,o}compileRule(t,e,n,i,r){const s=[],a=this.cache.get(t.schema);if(a)(t=a).cycle=!0,t.cycleStack=[],s.push(this.wrapRequiredCheckSourceCode(t,`\\n\\t\\t\\t\\tvar rule = context.rules[${t.index}];\\n\\t\\t\\t\\tif (rule.cycleStack.indexOf(value) === -1) {\\n\\t\\t\\t\\t\\trule.cycleStack.push(value);\\n\\t\\t\\t\\t\\t${i.replace(/%%INDEX%%/g,t.index)}\\n\\t\\t\\t\\t\\trule.cycleStack.pop(value);\\n\\t\\t\\t\\t}\\n\\t\\t\\t`,e,r));else{this.cache.set(t.schema,t),t.index=e.index,e.rules[e.index]=t;const a=null!=n?n:\"$$root\";e.index++;const o=t.ruleFunction.call(this,t,n,e);o.source=o.source.replace(/%%INDEX%%/g,t.index);const u=new(e.async?Tt:Function)(\"value\",\"field\",\"parent\",\"errors\",\"context\",o.source);e.fn[t.index]=u.bind(this),s.push(this.wrapRequiredCheckSourceCode(t,i.replace(/%%INDEX%%/g,t.index),e,r)),s.push(this.makeCustomValidator({vName:r,path:a,schema:t.schema,context:e,messages:t.messages,ruleIndex:t.index})),this.opts.debug&&console.log(this._formatter(`// Context.fn[${t.index}]\\n`+u.toString()))}return s.join(\"\\n\")}getRuleFromSchema(t){if(\"string\"==typeof t)t=this.parseShortHand(t);else if(Array.isArray(t)){if(0==t.length)throw new Error(\"Invalid schema.\");(t={type:\"multi\",rules:t}).rules.map((t=>this.getRuleFromSchema(t))).every((t=>1==t.schema.optional))&&(t.optional=!0)}if(t.$$type){const e=t.$$type,n=this.getRuleFromSchema(e).schema;delete t.$$type;const i=Object.assign({},t);for(const e in t)delete t[e];St(t,n,{skipIfExist:!0}),t.props=i}const e=this.aliases[t.type];e&&(delete t.type,t=St(t,e,{skipIfExist:!0}));const n=this.rules[t.type];if(!n)throw new Error(\"Invalid '\"+t.type+\"' type in validator schema.\");return{messages:Object.assign({},this.messages,t.messages),schema:St(t,this.defaults[t.type],{skipIfExist:!0}),ruleFunction:n}}parseShortHand(t){const e=t.split(\"|\").map((t=>t.trim()));let n,i=e[0];return n=i.endsWith(\"[]\")?this.getRuleFromSchema({type:\"array\",items:i.slice(0,-2)}).schema:{type:e[0]},e.slice(1).map((t=>{const e=t.indexOf(\":\");if(-1!==e){const i=t.substr(0,e).trim();let r=t.substr(e+1).trim();\"true\"===r||\"false\"===r?r=\"true\"===r:Number.isNaN(Number(r))||(r=Number(r)),n[i]=r}else t.startsWith(\"no-\")?n[t.slice(3)]=!1:n[t]=!0})),n}makeError({type:t,field:e,expected:n,actual:i,messages:r}){const s={type:`\"${t}\"`,message:`\"${r[t]}\"`};s.field=e?`\"${e}\"`:\"field\",null!=n&&(s.expected=n),null!=i&&(s.actual=i);return`errors.push({ ${Object.keys(s).map((t=>`${t}: ${s[t]}`)).join(\", \")} });`}makeCustomValidator({vName:t=\"value\",fnName:e=\"custom\",ruleIndex:n,path:i,schema:r,context:s,messages:a}){const o=\"rule\"+n,u=\"fnCustomErrors\"+n;if(\"function\"==typeof r[e]){if(s.customs[n]?(s.customs[n].messages=a,s.customs[n].schema=r):s.customs[n]={messages:a,schema:r},this.opts.useNewCustomCheckerFunction)return`\\n               \\t\\tconst ${o} = context.customs[${n}];\\n\\t\\t\\t\\t\\tconst ${u} = [];\\n\\t\\t\\t\\t\\t${t} = ${s.async?\"await \":\"\"}${o}.schema.${e}.call(this, ${t}, ${u} , ${o}.schema, \"${i}\", parent, context);\\n\\t\\t\\t\\t\\tif (Array.isArray(${u} )) {\\n                  \\t\\t${u} .forEach(err => errors.push(Object.assign({ message: ${o}.messages[err.type], field }, err)));\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t`;const l=\"res_\"+o;return`\\n\\t\\t\\t\\tconst ${o} = context.customs[${n}];\\n\\t\\t\\t\\tconst ${l} = ${s.async?\"await \":\"\"}${o}.schema.${e}.call(this, ${t}, ${o}.schema, \"${i}\", parent, context);\\n\\t\\t\\t\\tif (Array.isArray(${l})) {\\n\\t\\t\\t\\t\\t${l}.forEach(err => errors.push(Object.assign({ message: ${o}.messages[err.type], field }, err)));\\n\\t\\t\\t\\t}\\n\\t\\t`}return\"\"}add(t,e){this.rules[t]=e}addMessage(t,e){this.messages[t]=e}alias(t,e){if(this.rules[t])throw new Error(\"Alias name must not be a rule name\");this.aliases[t]=e}plugin(t){if(\"function\"!=typeof t)throw new Error(\"Plugin fn type must be function\");return t(this)}},Mt=/({{ *| *}})/g;function Vt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object.keys(t).join(\"|\");if(\"\"===n)return!1;var i=\"(?<![a-z,A-Z_0-9])(\".concat(n,\")(((\\\\.[a-zA-Z_][a-zA-Z0-9_]*)|(\\\\[[0-9]*\\\\]))*)(?![a-z,A-Z_0-9])\");return e?i:new RegExp(i,\"g\")}var $t=/{{((?!}}).)*}}/g,Nt=/(?<= *mc-if *= *\" *)[^\"]*(?=\")/g,jt=/'.*'/g,Bt=/^ *([0-9.]+|(((?<!\\\\)')([^']|\\\\')*((?<!\\\\)')))( *\\+ *(((?<!\\\\)')([^']|\\\\')*((?<!\\\\)')|[0-9.]+))* *$/g,Rt=/^( *([0-9.]+|(((?<!\\\\)')([^']|\\\\')*((?<!\\\\)')))( *\\+ *(((?<!\\\\)')([^']|\\\\')*((?<!\\\\)')|[0-9.]+))* *)(==|===)( *([0-9.]+|(((?<!\\\\)')([^']|\\\\')*((?<!\\\\)')))( *\\+ *(((?<!\\\\)')([^']|\\\\')*((?<!\\\\)')|[0-9.]+))* *)$/g,Lt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window;ii(r,i)||(r[i]={});for(var s=r[i],a=t.split(\".\"),o=0;o<a.length-1;o++)ii(s,a[o])||(s[a[o]]={}),s=s[a[o]];return!(ii(s,a[a.length-1])&&!n)&&(s[a[a.length-1]]=e,!0)},Ft=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;\"\"!==e&&(t=e+\".\"+t);for(var i,r=n,s=t.replaceAll(/\\]/g,\"\").replaceAll(/\\[/g,\".\").split(\".\"),a=0;a<s.length;a++){if(!ii(r,s[a]))return;i=r[s[a]],r=r[s[a]]}return i},zt=\"INUMBER\",Gt=\"IOP1\",qt=\"IOP2\",Kt=\"IOP3\",Wt=\"IVAR\",Jt=\"IVARNAME\",Ht=\"IFUNCALL\",Ut=\"IFUNDEF\",Zt=\"IEXPR\",Qt=\"IEXPREVAL\",Xt=\"IMEMBER\",Yt=\"IENDSTATEMENT\",te=\"IARRAY\";function ee(t,e){this.type=t,this.value=null!=e?e:0}function ne(t){return new ee(Gt,t)}function ie(t){return new ee(qt,t)}function re(t){return new ee(Kt,t)}function se(t,e,n,i,r){for(var s,a,o,u,l=[],c=[],h=0;h<t.length;h++){var d=t[h],p=d.type;if(p===zt||p===Jt)Array.isArray(d.value)?l.push.apply(l,se(d.value.map((function(t){return new ee(zt,t)})).concat(new ee(te,d.value.length)),e,n,i,r)):l.push(d);else if(p===Wt&&r.hasOwnProperty(d.value))d=new ee(zt,r[d.value]),l.push(d);else if(p===qt&&l.length>1)a=l.pop(),s=l.pop(),u=n[d.value],d=new ee(zt,u(s.value,a.value)),l.push(d);else if(p===Kt&&l.length>2)o=l.pop(),a=l.pop(),s=l.pop(),\"?\"===d.value?l.push(s.value?a.value:o.value):(u=i[d.value],d=new ee(zt,u(s.value,a.value,o.value)),l.push(d));else if(p===Gt&&l.length>0)s=l.pop(),u=e[d.value],d=new ee(zt,u(s.value)),l.push(d);else if(p===Zt){for(;l.length>0;)c.push(l.shift());c.push(new ee(Zt,se(d.value,e,n,i,r)))}else if(p===Xt&&l.length>0)s=l.pop(),l.push(new ee(zt,s.value[d.value]));else{for(;l.length>0;)c.push(l.shift());c.push(d)}}for(;l.length>0;)c.push(l.shift());return c}function ae(t,e,n){for(var i=[],r=0;r<t.length;r++){var s=t[r],a=s.type;if(a===Wt&&s.value===e)for(var o=0;o<n.tokens.length;o++){var u,l=n.tokens[o];u=l.type===Gt?ne(l.value):l.type===qt?ie(l.value):l.type===Kt?re(l.value):new ee(l.type,l.value),i.push(u)}else a===Zt?i.push(new ee(Zt,ae(s.value,e,n))):i.push(s)}return i}function oe(t,e,n){var i,r,s,a,o,u,l=[];if(le(t))return ce(t,n);for(var c=t.length,h=0;h<c;h++){var d=t[h],p=d.type;if(p===zt||p===Jt)l.push(d.value);else if(p===qt)r=l.pop(),i=l.pop(),\"and\"===d.value?l.push(!!i&&!!oe(r,e,n)):\"or\"===d.value?l.push(!!i||!!oe(r,e,n)):\"=\"===d.value?(a=e.binaryOps[d.value],l.push(a(i,oe(r,e,n),n))):(a=e.binaryOps[d.value],l.push(a(ce(i,n),ce(r,n))));else if(p===Kt)s=l.pop(),r=l.pop(),i=l.pop(),\"?\"===d.value?l.push(oe(i?r:s,e,n)):(a=e.ternaryOps[d.value],l.push(a(ce(i,n),ce(r,n),ce(s,n))));else if(p===Wt)if(d.value in e.functions)l.push(e.functions[d.value]);else if(d.value in e.unaryOps&&e.parser.isOperatorEnabled(d.value))l.push(e.unaryOps[d.value]);else{var f=n[d.value];if(void 0===f)throw new Error(\"undefined variable: \"+d.value);l.push(f)}else if(p===Gt)i=l.pop(),a=e.unaryOps[d.value],l.push(a(ce(i,n)));else if(p===Ht){for(u=d.value,o=[];u-- >0;)o.unshift(ce(l.pop(),n));if(!(a=l.pop()).apply||!a.call)throw new Error(a+\" is not a function\");l.push(a.apply(void 0,o))}else if(p===Ut)l.push(function(){for(var t=l.pop(),i=[],r=d.value;r-- >0;)i.unshift(l.pop());var s=l.pop(),a=function(){for(var r=Object.assign({},n),s=0,a=i.length;s<a;s++)r[i[s]]=arguments[s];return oe(t,e,r)};return Object.defineProperty(a,\"name\",{value:s,writable:!1}),n[s]=a,a}());else if(p===Zt)l.push(ue(d,e));else if(p===Qt)l.push(d);else if(p===Xt)i=l.pop(),l.push(i[d.value]);else if(p===Yt)l.pop();else{if(p!==te)throw new Error(\"invalid Expression\");for(u=d.value,o=[];u-- >0;)o.unshift(l.pop());l.push(o)}}if(l.length>1)throw new Error(\"invalid Expression (parity)\");return 0===l[0]?0:ce(l[0],n)}function ue(t,e,n){return le(t)?t:{type:Qt,value:function(n){return oe(t.value,e,n)}}}function le(t){return t&&t.type===Qt}function ce(t,e){return le(t)?t.value(e):t}function he(t,e){for(var n,i,r,s,a,o,u=[],l=0;l<t.length;l++){var c=t[l],h=c.type;if(h===zt)\"number\"==typeof c.value&&c.value<0?u.push(\"(\"+c.value+\")\"):Array.isArray(c.value)?u.push(\"[\"+c.value.map(de).join(\", \")+\"]\"):u.push(de(c.value));else if(h===qt)i=u.pop(),n=u.pop(),s=c.value,e?\"^\"===s?u.push(\"Math.pow(\"+n+\", \"+i+\")\"):\"and\"===s?u.push(\"(!!\"+n+\" && !!\"+i+\")\"):\"or\"===s?u.push(\"(!!\"+n+\" || !!\"+i+\")\"):\"||\"===s?u.push(\"(function(a,b){ return Array.isArray(a) && Array.isArray(b) ? a.concat(b) : String(a) + String(b); }((\"+n+\"),(\"+i+\")))\"):\"==\"===s?u.push(\"(\"+n+\" === \"+i+\")\"):\"!=\"===s?u.push(\"(\"+n+\" !== \"+i+\")\"):\"[\"===s?u.push(n+\"[(\"+i+\") | 0]\"):u.push(\"(\"+n+\" \"+s+\" \"+i+\")\"):\"[\"===s?u.push(n+\"[\"+i+\"]\"):u.push(\"(\"+n+\" \"+s+\" \"+i+\")\");else if(h===Kt){if(r=u.pop(),i=u.pop(),n=u.pop(),\"?\"!==(s=c.value))throw new Error(\"invalid Expression\");u.push(\"(\"+n+\" ? \"+i+\" : \"+r+\")\")}else if(h===Wt||h===Jt)u.push(c.value);else if(h===Gt)n=u.pop(),\"-\"===(s=c.value)||\"+\"===s?u.push(\"(\"+s+n+\")\"):e?\"not\"===s?u.push(\"(!\"+n+\")\"):\"!\"===s?u.push(\"fac(\"+n+\")\"):u.push(s+\"(\"+n+\")\"):\"!\"===s?u.push(\"(\"+n+\"!)\"):u.push(\"(\"+s+\" \"+n+\")\");else if(h===Ht){for(o=c.value,a=[];o-- >0;)a.unshift(u.pop());s=u.pop(),u.push(s+\"(\"+a.join(\", \")+\")\")}else if(h===Ut){for(i=u.pop(),o=c.value,a=[];o-- >0;)a.unshift(u.pop());n=u.pop(),e?u.push(\"(\"+n+\" = function(\"+a.join(\", \")+\") { return \"+i+\" })\"):u.push(\"(\"+n+\"(\"+a.join(\", \")+\") = \"+i+\")\")}else if(h===Xt)n=u.pop(),u.push(n+\".\"+c.value);else if(h===te){for(o=c.value,a=[];o-- >0;)a.unshift(u.pop());u.push(\"[\"+a.join(\", \")+\"]\")}else if(h===Zt)u.push(\"(\"+he(c.value,e)+\")\");else if(h!==Yt)throw new Error(\"invalid Expression\")}return u.length>1&&(u=e?[u.join(\",\")]:[u.join(\";\")]),String(u[0])}function de(t){return\"string\"==typeof t?JSON.stringify(t).replace(/\\u2028/g,\"\\\\u2028\").replace(/\\u2029/g,\"\\\\u2029\"):t}function pe(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}function fe(t,e,n){for(var i=!!(n=n||{}).withMembers,r=null,s=0;s<t.length;s++){var a=t[s];a.type===Wt||a.type===Jt?i||pe(e,a.value)?null!==r?(pe(e,r)||e.push(r),r=a.value):r=a.value:e.push(a.value):a.type===Xt&&i&&null!==r?r+=\".\"+a.value:a.type===Zt?fe(a.value,e,n):null!==r&&(pe(e,r)||e.push(r),r=null)}null===r||pe(e,r)||e.push(r)}function me(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}ee.prototype.toString=function(){switch(this.type){case zt:case Gt:case qt:case Kt:case Wt:case Jt:case Yt:return this.value;case Ht:return\"CALL \"+this.value;case Ut:return\"DEF \"+this.value;case te:return\"ARRAY \"+this.value;case Xt:return\".\"+this.value;default:return\"Invalid Instruction\"}},me.prototype.simplify=function(t){return t=t||{},new me(se(this.tokens,this.unaryOps,this.binaryOps,this.ternaryOps,t),this.parser)},me.prototype.substitute=function(t,e){return e instanceof me||(e=this.parser.parse(String(e))),new me(ae(this.tokens,t,e),this.parser)},me.prototype.evaluate=function(t){return t=t||{},oe(this.tokens,this,t)},me.prototype.toString=function(){return he(this.tokens,!1)},me.prototype.symbols=function(t){t=t||{};var e=[];return fe(this.tokens,e,t),e},me.prototype.variables=function(t){t=t||{};var e=[];fe(this.tokens,e,t);var n=this.functions;return e.filter((function(t){return!(t in n)}))},me.prototype.toJSFunction=function(t,e){var n=this,i=new Function(t,\"with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return \"+he(this.simplify(e).tokens,!0)+\"; }\");return function(){return i.apply(n,arguments)}};var ve=\"TEOF\",ge=\"TOP\",ye=\"TNUMBER\",ke=\"TSTRING\",be=\"TPAREN\",xe=\"TBRACKET\",Ce=\"TCOMMA\",Ie=\"TNAME\",we=\"TSEMICOLON\";function Ee(t,e,n){this.type=t,this.value=e,this.index=n}function Ae(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}Ee.prototype.toString=function(){return this.type+\": \"+this.value},Ae.prototype.newToken=function(t,e,n){return new Ee(t,e,null!=n?n:this.pos)},Ae.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},Ae.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},Ae.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(ve,\"EOF\"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character \"'+this.expression.charAt(this.pos)+'\"')},Ae.prototype.isString=function(){var t=!1,e=this.pos,n=this.expression.charAt(e);if(\"'\"===n||'\"'===n)for(var i=this.expression.indexOf(n,e+1);i>=0&&this.pos<this.expression.length;){if(this.pos=i+1,\"\\\\\"!==this.expression.charAt(i-1)){var r=this.expression.substring(e+1,i);this.current=this.newToken(ke,this.unescape(r),e),t=!0;break}i=this.expression.indexOf(n,i+1)}return t},Ae.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return(\"(\"===t||\")\"===t)&&(this.current=this.newToken(be,t),this.pos++,!0)},Ae.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!(\"[\"!==t&&\"]\"!==t||!this.isOperatorEnabled(\"[\"))&&(this.current=this.newToken(xe,t),this.pos++,!0)},Ae.prototype.isComma=function(){return\",\"===this.expression.charAt(this.pos)&&(this.current=this.newToken(Ce,\",\"),this.pos++,!0)},Ae.prototype.isSemicolon=function(){return\";\"===this.expression.charAt(this.pos)&&(this.current=this.newToken(we,\";\"),this.pos++,!0)},Ae.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||\"_\"!==n&&\".\"!==n&&(n<\"0\"||n>\"9\")))break}if(e>t){var i=this.expression.substring(t,e);if(i in this.consts)return this.current=this.newToken(ye,this.consts[i]),this.pos+=i.length,!0}return!1},Ae.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||\"_\"!==n&&(n<\"0\"||n>\"9\")))break}if(e>t){var i=this.expression.substring(t,e);if(this.isOperatorEnabled(i)&&(i in this.binaryOps||i in this.unaryOps||i in this.ternaryOps))return this.current=this.newToken(ge,i),this.pos+=i.length,!0}return!1},Ae.prototype.isName=function(){for(var t=this.pos,e=t,n=!1;e<this.expression.length;e++){var i=this.expression.charAt(e);if(i.toUpperCase()===i.toLowerCase()){if(e===this.pos&&(\"$\"===i||\"_\"===i)){\"_\"===i&&(n=!0);continue}if(e===this.pos||!n||\"_\"!==i&&(i<\"0\"||i>\"9\"))break}else n=!0}if(n){var r=this.expression.substring(t,e);return this.current=this.newToken(Ie,r),this.pos+=r.length,!0}return!1},Ae.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(\" \"!==e&&\"\\t\"!==e&&\"\\n\"!==e&&\"\\r\"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var Pe=/^[0-9a-f]{4}$/i;function Oe(t,e,n){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==n.allowMemberAccess}Ae.prototype.unescape=function(t){var e=t.indexOf(\"\\\\\");if(e<0)return t;for(var n=t.substring(0,e);e>=0;){var i=t.charAt(++e);switch(i){case\"'\":n+=\"'\";break;case'\"':n+='\"';break;case\"\\\\\":n+=\"\\\\\";break;case\"/\":n+=\"/\";break;case\"b\":n+=\"\\b\";break;case\"f\":n+=\"\\f\";break;case\"n\":n+=\"\\n\";break;case\"r\":n+=\"\\r\";break;case\"t\":n+=\"\\t\";break;case\"u\":var r=t.substring(e+1,e+5);Pe.test(r)||this.parseError(\"Illegal escape sequence: \\\\u\"+r),n+=String.fromCharCode(parseInt(r,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: \"\\\\'+i+'\"')}++e;var s=t.indexOf(\"\\\\\",e);n+=t.substring(e,s<0?t.length:s),e=s}return n},Ae.prototype.isComment=function(){return\"/\"===this.expression.charAt(this.pos)&&\"*\"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf(\"*/\",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},Ae.prototype.isRadixInteger=function(){var t,e,n=this.pos;if(n>=this.expression.length-2||\"0\"!==this.expression.charAt(n))return!1;if(++n,\"x\"===this.expression.charAt(n))t=16,e=/^[0-9a-f]$/i,++n;else{if(\"b\"!==this.expression.charAt(n))return!1;t=2,e=/^[01]$/i,++n}for(var i=!1,r=n;n<this.expression.length;){var s=this.expression.charAt(n);if(!e.test(s))break;n++,i=!0}return i&&(this.current=this.newToken(ye,parseInt(this.expression.substring(r,n),t)),this.pos=n),i},Ae.prototype.isNumber=function(){for(var t,e=!1,n=this.pos,i=n,r=n,s=!1,a=!1;n<this.expression.length&&((t=this.expression.charAt(n))>=\"0\"&&t<=\"9\"||!s&&\".\"===t);)\".\"===t?s=!0:a=!0,n++,e=a;if(e&&(r=n),\"e\"===t||\"E\"===t){n++;for(var o=!0,u=!1;n<this.expression.length;){if(t=this.expression.charAt(n),!o||\"+\"!==t&&\"-\"!==t){if(!(t>=\"0\"&&t<=\"9\"))break;u=!0,o=!1}else o=!1;n++}u||(n=r)}return e?(this.current=this.newToken(ye,parseFloat(this.expression.substring(i,n))),this.pos=n):this.pos=r,e},Ae.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if(\"+\"===e||\"-\"===e||\"*\"===e||\"/\"===e||\"%\"===e||\"^\"===e||\"?\"===e||\":\"===e||\".\"===e)this.current=this.newToken(ge,e);else if(\"∙\"===e||\"•\"===e)this.current=this.newToken(ge,\"*\");else if(\">\"===e)\"=\"===this.expression.charAt(this.pos+1)?(this.current=this.newToken(ge,\">=\"),this.pos++):this.current=this.newToken(ge,\">\");else if(\"<\"===e)\"=\"===this.expression.charAt(this.pos+1)?(this.current=this.newToken(ge,\"<=\"),this.pos++):this.current=this.newToken(ge,\"<\");else if(\"|\"===e){if(\"|\"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(ge,\"||\"),this.pos++}else if(\"=\"===e)\"=\"===this.expression.charAt(this.pos+1)?(this.current=this.newToken(ge,\"==\"),this.pos++):this.current=this.newToken(ge,e);else{if(\"!\"!==e)return!1;\"=\"===this.expression.charAt(this.pos+1)?(this.current=this.newToken(ge,\"!=\"),this.pos++):this.current=this.newToken(ge,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},Ae.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},Ae.prototype.getCoordinates=function(){var t,e=0,n=-1;do{e++,t=this.pos-n,n=this.expression.indexOf(\"\\n\",n+1)}while(n>=0&&n<this.pos);return{line:e,column:t}},Ae.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error(\"parse error [\"+e.line+\":\"+e.column+\"]: \"+t)},Oe.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},Oe.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?pe(e,t.value):\"function\"==typeof e?e(t):t.value===e)},Oe.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},Oe.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},Oe.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e))&&(this.next(),!0)},Oe.prototype.expect=function(t,e){if(!this.accept(t,e)){var n=this.tokens.getCoordinates();throw new Error(\"parse error [\"+n.line+\":\"+n.column+\"]: Expected \"+(e||t))}},Oe.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept(Ie)||this.accept(ge,(function(t){return t.value in e})))t.push(new ee(Wt,this.current.value));else if(this.accept(ye))t.push(new ee(zt,this.current.value));else if(this.accept(ke))t.push(new ee(zt,this.current.value));else if(this.accept(be,\"(\"))this.parseExpression(t),this.expect(be,\")\");else{if(!this.accept(xe,\"[\"))throw new Error(\"unexpected \"+this.nextToken);if(this.accept(xe,\"]\"))t.push(new ee(te,0));else{var n=this.parseArrayList(t);t.push(new ee(te,n))}}},Oe.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},Oe.prototype.pushExpression=function(t,e){for(var n=0,i=e.length;n<i;n++)t.push(e[n])},Oe.prototype.parseUntilEndStatement=function(t,e){return!!this.accept(we)&&(!this.nextToken||this.nextToken.type===ve||this.nextToken.type===be&&\")\"===this.nextToken.value||e.push(new ee(Yt)),this.nextToken.type!==ve&&this.parseExpression(e),t.push(new ee(Zt,e)),!0)},Oe.prototype.parseArrayList=function(t){for(var e=0;!this.accept(xe,\"]\");)for(this.parseExpression(t),++e;this.accept(Ce);)this.parseExpression(t),++e;return e},Oe.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(ge,\"=\");){var e=t.pop(),n=[],i=t.length-1;if(e.type!==Ht){if(e.type!==Wt&&e.type!==Xt)throw new Error(\"expected variable for assignment\");this.parseVariableAssignmentExpression(n),t.push(new ee(Jt,e.value)),t.push(new ee(Zt,n)),t.push(ie(\"=\"))}else{if(!this.tokens.isOperatorEnabled(\"()=\"))throw new Error(\"function definition is not permitted\");for(var r=0,s=e.value+1;r<s;r++){var a=i-r;t[a].type===Wt&&(t[a]=new ee(Jt,t[a].value))}this.parseVariableAssignmentExpression(n),t.push(new ee(Zt,n)),t.push(new ee(Ut,e.value))}}},Oe.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(ge,\"?\");){var e=[],n=[];this.parseConditionalExpression(e),this.expect(ge,\":\"),this.parseConditionalExpression(n),t.push(new ee(Zt,e)),t.push(new ee(Zt,n)),t.push(re(\"?\"))}},Oe.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(ge,\"or\");){var e=[];this.parseAndExpression(e),t.push(new ee(Zt,e)),t.push(ie(\"or\"))}},Oe.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(ge,\"and\");){var e=[];this.parseComparison(e),t.push(new ee(Zt,e)),t.push(ie(\"and\"))}};var Te=[\"==\",\"!=\",\"<\",\"<=\",\">=\",\">\",\"in\"];Oe.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(ge,Te);){var e=this.current;this.parseAddSub(t),t.push(ie(e.value))}};var Se=[\"+\",\"-\",\"||\"];Oe.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(ge,Se);){var e=this.current;this.parseTerm(t),t.push(ie(e.value))}};var _e=[\"*\",\"/\",\"%\"];function De(t,e){return Number(t)+Number(e)}function Me(t,e){return t-e}function Ve(t,e){return t*e}function $e(t,e){return t/e}function Ne(t,e){return t%e}function je(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):\"\"+t+e}function Be(t,e){return t===e}function Re(t,e){return t!==e}function Le(t,e){return t>e}function Fe(t,e){return t<e}function ze(t,e){return t>=e}function Ge(t,e){return t<=e}function qe(t,e){return Boolean(t&&e)}function Ke(t,e){return Boolean(t||e)}function We(t,e){return pe(e,t)}function Je(t){return(Math.exp(t)-Math.exp(-t))/2}function He(t){return(Math.exp(t)+Math.exp(-t))/2}function Ue(t){return t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}function Ze(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))}function Qe(t){return Math.log(t+Math.sqrt(t*t-1))}function Xe(t){return Math.log((1+t)/(1-t))/2}function Ye(t){return Math.log(t)*Math.LOG10E}function tn(t){return-t}function en(t){return!t}function nn(t){return t<0?Math.ceil(t):Math.floor(t)}function rn(t){return Math.random()*(t||1)}function sn(t){return on(t+1)}Oe.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(ge,_e);){var e=this.current;this.parseFactor(t),t.push(ie(e.value))}},Oe.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(ge,(function(t){return t.value in e}))){if(\"-\"!==this.current.value&&\"+\"!==this.current.value){if(this.nextToken.type===be&&\"(\"===this.nextToken.value)return this.restore(),void this.parseExponential(t);if(this.nextToken.type===we||this.nextToken.type===Ce||this.nextToken.type===ve||this.nextToken.type===be&&\")\"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var n=this.current;this.parseFactor(t),t.push(ne(n.value))}else this.parseExponential(t)},Oe.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(ge,\"^\");)this.parseFactor(t),t.push(ie(\"^\"))},Oe.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(ge,\"!\");)t.push(ne(\"!\"))},Oe.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(ge,(function(t){return t.value in e}))){var n=this.current;this.parseAtom(t),t.push(ne(n.value))}else for(this.parseMemberExpression(t);this.accept(be,\"(\");)if(this.accept(be,\")\"))t.push(new ee(Ht,0));else{var i=this.parseArgumentList(t);t.push(new ee(Ht,i))}},Oe.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(be,\")\");)for(this.parseExpression(t),++e;this.accept(Ce);)this.parseExpression(t),++e;return e},Oe.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(ge,\".\")||this.accept(xe,\"[\");){var e=this.current;if(\".\"===e.value){if(!this.allowMemberAccess)throw new Error('unexpected \".\", member access is not permitted');this.expect(Ie),t.push(new ee(Xt,this.current.value))}else{if(\"[\"!==e.value)throw new Error(\"unexpected symbol: \"+e.value);if(!this.tokens.isOperatorEnabled(\"[\"))throw new Error('unexpected \"[]\", arrays are disabled');this.parseExpression(t),this.expect(xe,\"]\"),t.push(ie(\"[\"))}}};var an=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function on(t){var e,n;if(function(t){return isFinite(t)&&t===Math.round(t)}(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var i=t-2,r=t-1;i>1;)r*=i,i--;return 0===r&&(r=1),r}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*on(1-t));if(t>=171.35)return 1/0;if(t>85){var s=t*t,a=s*t,o=a*t,u=o*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*s)-139/(51840*a)-571/(2488320*o)+163879/(209018880*u)+5246819/(75246796800*u*t))}--t,n=an[0];for(var l=1;l<an.length;++l)n+=an[l]/(t+l);return e=t+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*n}function un(t){return Array.isArray(t)?t.length:String(t).length}function ln(){for(var t=0,e=0,n=0;n<arguments.length;n++){var i,r=Math.abs(arguments[n]);e<r?(t=t*(i=e/r)*i+1,e=r):t+=r>0?(i=r/e)*i:r}return e===1/0?1/0:e*Math.sqrt(t)}function cn(t,e,n){return t?e:n}function hn(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||\"number\"!=typeof e||e%1!=0?NaN:(t=t.toString().split(\"e\"),+((t=(t=Math.round(+(t[0]+\"e\"+(t[1]?+t[1]-e:-e)))).toString().split(\"e\"))[0]+\"e\"+(t[1]?+t[1]+e:e))))}function dn(t,e,n){return n&&(n[t]=e),e}function pn(t,e){return t[0|e]}function fn(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)}function mn(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)}function vn(t,e){if(\"function\"!=typeof t)throw new Error(\"First argument to map is not a function\");if(!Array.isArray(e))throw new Error(\"Second argument to map is not an array\");return e.map((function(e,n){return t(e,n)}))}function gn(t,e,n){if(\"function\"!=typeof t)throw new Error(\"First argument to fold is not a function\");if(!Array.isArray(n))throw new Error(\"Second argument to fold is not an array\");return n.reduce((function(e,n,i){return t(e,n,i)}),e)}function yn(t,e){if(\"function\"!=typeof t)throw new Error(\"First argument to filter is not a function\");if(!Array.isArray(e))throw new Error(\"Second argument to filter is not an array\");return e.filter((function(e,n){return t(e,n)}))}function kn(t,e){if(!Array.isArray(e)&&\"string\"!=typeof e)throw new Error(\"Second argument to indexOf is not a string or array\");return e.indexOf(t)}function bn(t,e){if(!Array.isArray(e))throw new Error(\"Second argument to join is not an array\");return e.join(t)}function xn(t){return(t>0)-(t<0)||+t}var Cn=1/3;function In(t){return t<0?-Math.pow(-t,Cn):Math.pow(t,Cn)}function wn(t){return Math.exp(t)-1}function En(t){return Math.log(1+t)}function An(t){return Math.log(t)/Math.LN2}function Pn(t){this.options=t||{},this.unaryOps={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Math.sinh||Je,cosh:Math.cosh||He,tanh:Math.tanh||Ue,asinh:Math.asinh||Ze,acosh:Math.acosh||Qe,atanh:Math.atanh||Xe,sqrt:Math.sqrt,cbrt:Math.cbrt||In,log:Math.log,log2:Math.log2||An,ln:Math.log,lg:Math.log10||Ye,log10:Math.log10||Ye,expm1:Math.expm1||wn,log1p:Math.log1p||En,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Math.trunc||nn,\"-\":tn,\"+\":Number,exp:Math.exp,not:en,length:un,\"!\":sn,sign:Math.sign||xn},this.binaryOps={\"+\":De,\"-\":Me,\"*\":Ve,\"/\":$e,\"%\":Ne,\"^\":Math.pow,\"||\":je,\"==\":Be,\"!=\":Re,\">\":Le,\"<\":Fe,\">=\":ze,\"<=\":Ge,and:qe,or:Ke,in:We,\"=\":dn,\"[\":pn},this.ternaryOps={\"?\":cn},this.functions={random:rn,fac:sn,min:mn,max:fn,hypot:Math.hypot||ln,pyt:Math.hypot||ln,pow:Math.pow,atan2:Math.atan2,if:cn,gamma:on,roundTo:hn,map:vn,fold:gn,filter:yn,indexOf:kn,join:bn},this.consts={E:Math.E,PI:Math.PI,true:!0,false:!1}}Pn.prototype.parse=function(t){var e=[],n=new Oe(this,new Ae(this,t),{allowMemberAccess:this.options.allowMemberAccess});return n.parseExpression(e),n.expect(ve,\"EOF\"),new me(e,this)},Pn.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var On=new Pn;Pn.parse=function(t){return On.parse(t)},Pn.evaluate=function(t,e){return On.parse(t).evaluate(e)};var Tn={\"+\":\"add\",\"-\":\"subtract\",\"*\":\"multiply\",\"/\":\"divide\",\"%\":\"remainder\",\"^\":\"power\",\"!\":\"factorial\",\"<\":\"comparison\",\">\":\"comparison\",\"<=\":\"comparison\",\">=\":\"comparison\",\"==\":\"comparison\",\"!=\":\"comparison\",\"||\":\"concatenate\",and:\"logical\",or:\"logical\",not:\"logical\",\"?\":\"conditional\",\":\":\"conditional\",\"=\":\"assignment\",\"[\":\"array\",\"()=\":\"fndef\"};Pn.prototype.isOperatorEnabled=function(t){var e=function(t){return Tn.hasOwnProperty(t)?Tn[t]:t}(t),n=this.options.operators||{};return!(e in n)||!!n[e]};var Sn=new Set([\"setValue\",\"_getFromProxy\",\"__createPathProxies\",\"hasOwnProperty\",\"pushValue\",\"removePathKey\",\"removeKey\",\"restoreKey\",\"getKeys\",\"exportFlattened\",\"isArray\",\"push\",\"sortBy\",\"findIndex\"]);function _n(t){var e={},n=new Set,i=Array.isArray(t),r=i?t.length:0,s=null;return new Proxy(t,{get:function(a,o){return\"length\"===o&&i?r:Sn.has(o)?this[o]:n.has(o)?void 0:(i&&null!==s&&(o=s[o]),ii(e,o)?e[o]:t[o])},isArray:function(){return i},_getFromProxy:function(t){return ii(e,t)?e[t]:void 0},set:vi,sortBy:function(t){if(s=null,!i)return!1;s=function(t,e){for(var n=[],i=0;i<t.length;i++)n.push([t[i],i]);n.sort((function(t,n){return t[0][e]<n[0][e]?-1:1}));var r=[];for(var s in n)r.push(n[s][1]);return r}(this,t)},__createPathProxies:function(n){for(var r=e,a=t,o=0;o<n.length-1;o++){var u=i&&null!==s?s[n[o]]:n[o];if(0===o?void 0===r[u]:void 0===r._getFromProxy(u)){var l=_n(void 0!==a&&a[u]||{});0===o?r[u]=l:r.setValue(u,l)}r=r[u],a=void 0!==a?a[u]:{}}return{currentObject:r,currentRealObect:a}},findIndex:function(t){if(!i)return null;for(var e=0;e<r;e++)if(t(this[e]))return e;return null},setValue:function(t,e){var i=t.split(\".\"),r=this.__createPathProxies(i).currentObject,s=e;return ei(e)&&(s=_n(e)),1===i.length?(r[i[i.length-1]]=s,n.delete(s)):(r.setValue(i[i.length-1],s),r.restoreKey(i[i.length-1])),!0},pushValue:function(e,n){var i=e.split(\".\"),r=this.__createPathProxies(i),s=r.currentObject;if(void 0===r.currentRealObect)return!1;var a=i[i.length-1],o=s[a],u=t[a];if(\"\"===e&&(o=this,u=t),1!==i.length)return s.pushValue(a,n);var l=!1;if(void 0!==o){if(l=!0,!o.isArray())return!1}else if(!Array.isArray(u))return!1;if(!l){var c=_n(u);s[a]=c,o=s[a]}return o.push(n),!0},push:function(t){return!!this.isArray()&&(e[r]=ei(t)?_n(t):t,r+=1,!0)},removePathKey:function(t){var e=t.split(\".\");return this.__createPathProxies(e).currentObject.removeKey(e[e.length-1]),!0},removeKey:function(t){n.add(t)},restoreKey:function(t){n.delete(t)},hasOwnProperty:function(t){return!(n.has(t)||void 0===this[t])},getKeys:function(){var r;if(i)return[];var s=Object.keys(t);return(r=s).push.apply(r,k(Object.keys(e))),s=s.filter((function(t){return!n.has(t)}))},exportFlattened:function(){var n;if(i)if(n=[],null!==s)for(var r=0;r<s.length;r++){var a=s[r];if(ii(e,a)){var o=e[a];if(ei(o))try{n[r]=e[a].exportFlattened()}catch(t){n[r]=o}else n[r]=o}else n[r]=t[a]}else{n=k(t);for(var u=0,l=Object.entries(e);u<l.length;u++){var c=y(l[u],2),h=c[0],d=c[1];if(ei(d))try{n[h]=e[h].exportFlattened()}catch(t){n[h]=d}else n[h]=d}}else{n={};for(var p=this.getKeys(),f=0;f<p.length;f++){var m=p[f];void 0!==e[m]?n[m]=ei(e[m])?e[m].exportFlattened():e[m]:n[m]=t[m]}}return n}})}var Dn=new Pn;function Mn(t){for(var e=t.split(/ *\\+ */),n=0;n<e.length;n++)e[n]=e[n].trim(),e[n].match(jt)&&(e[n]=e[n].substring(1,e[n].length-1));return e.join(\"\")}function Vn(t,e,n){function i(t){var i=t.match(Mt),r=t.replaceAll(Mt,\"\"),s=Vt(e.items),a=function(t){if(!ei(t))return!1;var e=Object.keys(t).join(\"|\");if(\"\"===e)return!1;var n=\"(?<![a-z,A-Z_0-9])(\".concat(e,\")(?![a-z,A-Z_0-9.\\\\[])\");return new RegExp(n,\"g\")}(e.keys);if(!1!==s&&(r=r.replaceAll(s,(function(t){if(\"initParams\"===t||\"attrs\"===t)return\"undefined\";var i=Ft(t,\"\",e.items);return ti(i)&&(i=\"'\".concat(n?xi(i):i,\"'\")),i}))),!1!==a&&(r=r.replaceAll(a,(function(t){var i=e.keys[t];return ti(i)&&(i=\"'\".concat(n?xi(i):i,\"'\")),i}))),r.match(Rt)){var o=r.split(/===|==/);return o[0]=Mn(o[0]),o[1]=Mn(o[1]),(o[0]===o[1]).toString()}try{var u=Dn.parse(r),l=Object.assign({},e.keys,e.items),c=u.evaluate(l);if(void 0!==c&&!isNaN(c))return c}catch(t){}if(r.match(Bt))return Mn(r);var h=/===|==|>=|>|<=|<|!==|!=/g,d=r.split(h);if(2===d.length){var p=r.match(h)[0];try{var f=Dn.parse(d[0]),m=Dn.parse(d[1]),v=Object.assign({},e.keys,e.items);return function(t,e,n){switch(n){case\"==\":case\"===\":return t===e;case\"!=\":case\"!==\":return t!==e;case\">\":return t>e;case\">=\":return t>=e;case\"<\":return t<e;case\"<=\":return t<=e;default:return yi.error(\"Not supported operator \"+n),!1}}(f.evaluate(v),m.evaluate(v),p).toString()}catch(t){}}return null!==i?\"{{\".concat(r,\"}}\"):r}return t.replaceAll($t,i).replaceAll(Nt,i)}function $n(t){var e,n=E(t.querySelectorAll(\"[mc-if]\"));try{for(n.s();!(e=n.n()).done;){var i=e.value,r=i.getAttribute(\"mc-if\");\"true\"===r?i.removeAttribute(\"mc-if\"):\"false\"===r&&i.remove()}}catch(t){n.e(t)}finally{n.f()}}function Nn(t,e){if(!t.hasAttribute(\"mc-for\")||!t.hasAttribute(\"mc-of\"))return yi.warning(\"Either mc-for and mc-of is missing from element\"),!1;if(!t.getAttribute(\"mc-for\").match(/^ *[a-zA-Z_][0-9a-zA-Z_]* *, *[a-zA-Z_][0-9a-zA-Z_]* *$/))return yi.warning(\"mc-for attribute is not a valid expression\"),!1;var n=function(t){var e=\"^ *\".concat(Vt(t,!0),\" *$\");return new RegExp(e,\"g\")}(e),i=t.getAttribute(\"mc-of\").match(n);if(1!==(null==i?void 0:i.length))return yi.warning(\"mc-of attribute is not a valid expression\"),!1;var r=Ft(i[0].trim(),\"\",e);return void 0===r?(yi.warning(\"mc-of value is undefined\"),!1):ei(r)?r:(yi.warning(\"mc-of value should be either an object or an array\"),!1)}function jn(t){var e=[],n=_n(t.params);for(var i in t.items)n.setValue(\"keys.\".concat(t.keys.key),i),n.setValue(\"items.\".concat(t.keys.item),t.items[i]),e.push(Rn(t.template,n.exportFlattened(),!0));return e}function Bn(t,e){var n,i=E(t.querySelectorAll(\"[mc-for]\"));try{for(i.s();!(n=i.n()).done;){var r=n.value,s=Nn(r,e.items);if(!1!==s&&ei(s)){var a=r.getAttribute(\"mc-for\").split(\",\"),o={key:a[0].trim(),item:a[1].trim()};r.removeAttribute(\"mc-for\"),r.removeAttribute(\"mc-of\");var u=jn({template:r.outerHTML,keys:o,params:e,items:s});if(0!==u.length){for(var l=r,c=0;c<u.length;c++){var h=l.parentNode.insertBefore(u[c],l.nextSibling);l=h}r.remove()}else r.remove()}else r.remove()}}catch(t){i.e(t)}finally{i.f()}}function Rn(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t=Vn(t=t.replace(/^\\s+|\\s+$/g,\"\"),e,n),!n)return t;var i=document.createElement(\"div\");return i.innerHTML=t,$n(i),Bn(i,e),1!==i.childElementCount?(console.error(\"parser only accepts close DOM trees (always contained on a single element). The root element can not have mc-for applied to it. Returning empty div\"),document.createElement(\"div\")):i.firstChild}var Ln=function(t){t=t.replace(/ /g,\"\");var e=/\\(([^\\(\\)]|\\(([^\\(\\)]|\\(([^\\(\\)]|\\(([^\\(\\)])*\\))*\\))*\\))*\\)/.exec(t);if(void 0===e)return{result:!1};var n=t.split(\")\");return{result:!0,unit:n[n.length-1],expression:e[0]}},Fn=function(){function t(e){r(this,t),this.expressionProps=e}return a(t,[{key:\"resize\",value:function(t){var e=Ln(this.expressionProps.expression),n=\"(\".concat(e.expression,\"*\").concat(t,\")\");return\"\".concat(B.mathExpPreface,\"(\").concat(n,\")\").concat(this.expressionProps.unit)}},{key:\"calculateValues\",value:function(t,e){for(var n,i=t.length,r=[],s=(o(n={},B.totalElements,i),o(n,B.initParams,e),n),a=0;a<i;a++){s[B.elementIndex]=a;var u=this.expressionProps.expression.substring(1,this.expressionProps.expression.length-1),l=Rn(\"{{\".concat(u,\"}}\"),{items:s});if(null===l.match($t)){var c=\"\".concat(l).concat(this.expressionProps.unit);r.push(Yn(c)?1*c:c)}else yi.error(\"\".concat(this.expressionProps.expression,\" can not fully parsed. At least one of the provided parameters seem not to be valid. Returning 0\")),r.push(0)}return r}}]),t}(),zn={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},easeInSine:function(t){return-1*Math.cos(t*(Math.PI/2))+1},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0==t?1:1*Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1==t?1:1*(1-Math.pow(2,-10*t))},easeInOutExpo:function(t){return 0==t||1==t?t:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){if(0==t||1==t)return t;var e=.3/(2*Math.PI)*Math.asin(1);return-Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/.3)},easeOutElastic:function(t){if(0==t||1==t)return t;var e=.3/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.3)+1},easeInOutElastic:function(t){if(0==t||1==t)return t;var e=.3*1.5,n=e/(2*Math.PI)*Math.asin(1);return t<1?Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/e)*-.5:Math.pow(2,-10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/e)*.5+1},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=-1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-zn.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t*1:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*zn.easeInBounce(2*t):.5*(zn.easeOutBounce(2*t-1)+1)}};function Gn(t){t=t.replace(/ /g,\"\");return/^@stagger\\(([_A-z0-9.%-]+?(,[_A-z0-9.%-]+)?(,[_A-z0-9.%-]+)?(,[_A-z0-9.%-]+)?(,[_A-z0-9.%-]+)?(,[_A-z0-9.%-]+))\\)$/.test(t)}var qn=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t=t.replace(/ /g,\"\"),e&&!Gn(t))return!1;var n=/.*\\((.*)\\).*/,i=n.exec(t)[1],r=i.split(\",\");return{start:r[0],end:r[1],startFraction:1*r[2]||0,easing:r[3]||\"linear\",mode:r[4]||\"linear\",reverse:\"true\"===r[5]}};var Kn=function(){function t(e){r(this,t),this.staggerProps=e}return a(t,[{key:\"resize\",value:function(t){return this.staggerProps.from*=t,this.staggerProps.to*=t,!0===this.staggerProps.integer&&(this.staggerProps.from=Math.round(this.staggerProps.from),this.staggerProps.to=Math.round(this.staggerProps.to)),\"@stagger(\".concat(this.staggerProps.from).concat(this.staggerProps.unit,\", \").concat(this.staggerProps.to).concat(this.staggerProps.unit,\", \").concat(this.staggerProps.fraction||0,\", \").concat(this.staggerProps.easing||\"linear\",\", \").concat(this.staggerProps.mode||\"linear\",\", \").concat(this.staggerProps.reverse||!1,\")\")}},{key:\"calculateValues\",value:function(t){for(var e,n,i,r,s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"linear\",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=[];if(\"linear\"===n)for(var s=0;s<t;s++){var a=s/(t-1),o=a<e?a+1-e+1/(t-1):a-e;i&&(o=1-o),r.push(o)}else if(\"omni\"===n)for(var u=1-e,l=0;l<t;l++){var c=Math.abs(l/(t-1)-e)/u;i&&(c=1-c),r.push(c)}return r}(t.length,this.staggerProps.fraction,this.staggerProps.mode,this.staggerProps.reverse),a=[],o=0;o<s.length;o++){var u=(e=this.staggerProps.from,n=this.staggerProps.to,i=s[o],(r=this.staggerProps.easing)||(r=\"linear\"),zn[r](i)*(n-e)+e);!0===this.staggerProps.integer&&(u=Math.round(u)),\"measurement\"===this.staggerProps.type&&(u+=this.staggerProps.unit),a.push(u)}return a}}]),t}(),Wn=Gn,Jn=new RegExp(/^#([\\da-f]{3}){1,2}$|^#([\\da-f]{4}){1,2}$|(rgb|hsl)a?\\((\\s*-?\\d+%?\\s*,){2}(\\s*-?\\d+%?\\s*,?\\s*\\)?)(,\\s*(0?\\.\\d+)?|1)?\\)/,\"gi\"),Hn=new RegExp(/^[-+]?\\d+$/),Un=new Dt({messages:{color:\"The '{field}' field must be an a valid color! Actual: {actual}\",measurement:\"The '{field}' must be a measurement with specs that are not met. You've either provided wrong value/units or an invalid @ expression. Actual: {actual}\"}});Un.add(\"amount\",(function(t){var e=this,n=t.schema,i=function(t,n){return e.makeError({type:\"amount\",actual:t,messages:{amount:n}})};return{source:\"\\n      let startUnits, endUnits, startNumberPart, endNumberPart;\\n      const staggerValidation = \".concat(Wn,\";\\n      const staggerAnalyser = \").concat(qn,';\\n      const easingKeys = \"').concat(Object.keys(zn).join(\",\"),\"\\\".split(',');\\n      const validateExpression = \").concat(Ln,\";\\n      const attributeRegexp = /^\").concat(B.attibuteValue,\"\\\\([_A-z0-9-]*\\\\)$/;\\n      const patternRegexp = /^\").concat(B.patternValue,\"\\\\(([_A-z0-9.%-]+?(,[_A-z0-9.%-]+)*?)\\\\)$/;\\n      const extractParenthesisAttrsAsArray = \").concat(ci,\";\\n      const isNumeric = \").concat(Yn,\"\\n\\n      if(typeof value === 'string' || value instanceof String){\\n        if(value.trim().startsWith('\").concat(B.staggerPreface,\"')){\\n          const staggerValid = staggerValidation(value);\\n          if(staggerValid === false){\\n            \").concat(i(\"value\",\"The \"+B.staggerPreface+\" expression is invalid\"),\";\\n            return;\\n          } else {\\n            const analysis = staggerAnalyser(value, false);\\n            if(!isNumeric(analysis.start)){\\n              \").concat(i(\"analysis.start\",\"The provided start \"+B.staggerPreface+\" value is invalid\"),\";\\n              return;\\n            } else {\\n              startNumberPart = analysis.start*1;\\n              if(\").concat(ii(n,\"min\"),\"){\\n                if(\").concat(n.min,\" > analysis.start){\\n                 \").concat(i(\"analysis.start\",\"The provided start \"+B.staggerPreface+\" value is smaller than the minimum accepted value (\"+n.min+\")\"),\";\\n                  return;\\n                }\\n              }\\n              if(\").concat(ii(n,\"max\"),\"){\\n                if(\").concat(n.max,\" < analysis.start){\\n                  \").concat(i(\"analysis.start\",\"The provided start \"+B.staggerPreface+\" value is bigger than the maximum accepted value (\"+n.max+\")\"),\";\\n                  return;\\n                }\\n              }\\n               if(\").concat(ii(n,\"integer\"),\"){\\n                if(!analysis.start.match(\").concat(Hn,\")){\\n                  \").concat(i(\"analysis.start\",\"The provided start \"+B.staggerPreface+\" value is not an integer\"),\";\\n                  return;\\n                }\\n              }\\n            }\\n\\n            if(!isNumeric(analysis.end)){\\n              \").concat(i(\"analysis.end\",\"The provided end \"+B.staggerPreface+\" value is invalid\"),\";\\n              return;\\n            } else {\\n              endNumberPart = analysis.end*1;\\n              if(\").concat(ii(n,\"min\"),\"){\\n                if(\").concat(n.min,\" > analysis.end){\\n                  \").concat(i(\"analysis.end\",\"The provided end \"+B.staggerPreface+\" value is smaller than the minimum accepted value (\"+n.min+\")\"),\";\\n                  return;\\n                }\\n              }\\n              if(\").concat(ii(n,\"max\"),\"){\\n                if(\").concat(n.max,\" < analysis.end){\\n                  \").concat(i(\"analysis.end\",\"The provided end \"+B.staggerPreface+\" value is bigger than the maximum accepted value (\"+n.max+\")\"),\";\\n                  return;\\n                }\\n              }\\n               if(\").concat(ii(n,\"integer\"),\"){\\n                if(!analysis.end.match(\").concat(Hn,\")){\\n                  \").concat(i(\"analysis.end\",\"The provided end \"+B.staggerPreface+\" value is not an integer\"),\";\\n                  return;\\n                }\\n              }\\n            }\\n\\n            if(analysis.startFraction < 0 || analysis.startFraction > 1){\\n              \").concat(i(\"analysis.startFraction\",\"The \"+B.staggerPreface+\" fraction must be a number >=0 and <=1\"),\";\\n              return;\\n            }\\n\\n            if(easingKeys.indexOf(analysis.easing) < 0){\\n              \").concat(i(\"analysis.startFraction\",\"The provided \"+B.staggerPreface+\" easing is not recognised by the system\"),\";\\n              return;\\n            }\\n\\n            if(analysis.mode !== 'linear' && analysis.mode !== 'omni'){\\n              \").concat(i(\"analysis.mode\",B.staggerPreface+\" mode can only be either linear or omni\"),\";\\n              return;\\n            }\\n\\n            if(analysis.reverse !== true && analysis.reverse !== false){\\n              \").concat(i(\"analysis.reverse\",B.staggerPreface+\" reverse needs to be either true or false\"),\";\\n              return;\\n            }\\n\\n            return value;\\n          }\\n        } else if(value.trim().startsWith('\").concat(B.patternValue,\"')){\\n          if(!patternRegexp.test(value.replace(/ /g, ''))){\\n            \").concat(i(\"value\",\"The \"+B.patternValue+\" expression is invalid\"),\";\\n            return;\\n          }\\n          const patternValues = extractParenthesisAttrsAsArray(value);\\n          for(let i=0; i<patternValues.length; i++){\\n            const valToCheck = patternValues[i];\\n            if(!isNumeric(valToCheck)){\\n              \").concat(i(\"valToCheck\",\"The provided value is not a number\"),\";\\n              return;\\n            } else {\\n              if(\").concat(ii(n,\"min\"),\"){\\n                if(\").concat(n.min,\" > valToCheck){\\n                  \").concat(i(\"valToCheck\",\"The provided value is smaller than the minimum accepted value (\"+n.min+\")\"),\";\\n                  return;\\n                }\\n              }\\n              if(\").concat(ii(n,\"max\"),\"){\\n                if(\").concat(n.max,\" < valToCheck){\\n                  \").concat(i(\"valToCheck\",\"The provided start value is bigger than the maximum accepted value (\"+n.max+\")\"),\";\\n                  return;\\n                }\\n              }\\n               if(\").concat(ii(n,\"integer\"),\"){\\n                if(!valToCheck.match(\").concat(Hn,\")){\\n                  \").concat(i(\"valToCheck\",\"The provided value is not an integer\"),\";\\n                  return;\\n                }\\n              }\\n          }\\n        }\\n        return value;\\n      }  else if(value.trim().startsWith('\").concat(B.attibuteValue,\"')){\\n          if(!attributeRegexp.test(value)){\\n            \").concat(i(\"value\",\"The \"+B.attibuteValue+\" expression is invalid\"),\";\\n            return;\\n          }\\n\\n          return value;\\n        } else if(value.trim().startsWith('\").concat(B.mathExpPreface,\"')){\\n          const validity = validateExpression(value);\\n          if(validity.result === false){\\n            \").concat(i(\"value\",\"The \"+B.expressionPreface+\" expression is invalid\"),';\\n            return;\\n          }\\n          if(validity.unit !== \"\"){\\n            ').concat(i(\"value\",\"The \"+B.expressionPreface+\" expression includes units\"),\";\\n            return;\\n          }\\n\\n          return value;\\n        }\\n      }\\n\\n\\n      if(typeof value !== 'number'){\\n        \").concat(i(\"value\",\"The provided value is not a number\"),\";\\n        return;\\n      }\\n      if(\").concat(ii(n,\"max\"),\"){\\n        if(\").concat(n.max,\" < value){\\n          \").concat(i(\"value\",\"The provided amount is bigger than the maximum accepted value\"),\";\\n          return;\\n        }\\n      }\\n      if(\").concat(ii(n,\"min\"),\"){\\n        if(\").concat(n.min,\" > value){\\n          \").concat(i(\"value\",\"The provided amount is lower than the minimum accepted value\"),\";\\n          return;\\n        }\\n      }\\n      if(\").concat(ii(n,\"integer\"),\"){\\n        if(value !== parseInt(value, 10)){\\n          \").concat(i(\"value\",\"The provided amount is not an integer\"),\";\\n          return;\\n        }\\n      }\\n      return value;\\n    \")}})),Un.add(\"measurement\",(function(t){var e=this,n=t.schema,i=t.messages,r=function(t,n){return e.makeError({type:\"measurement\",actual:t,messages:{measurement:n}})},s=new RegExp(\"^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)(\"+n.units.join(\"|\")+\")$\",\"gi\"),a=new RegExp(\"^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)\",\"gi\");return{source:\"\\n      let startUnits, endUnits, startNumberPart, endNumberPart;\\n      const staggerValidation = \".concat(Wn,\";\\n      const staggerAnalyser = \").concat(qn,';\\n      const easingKeys = \"').concat(Object.keys(zn).join(\",\"),\"\\\".split(',');\\n      const validateExpression = \").concat(Ln,\";\\n      const validUnits = ['\").concat(n.units.join(\"','\"),\"'];\\n      const attributeRegexp = /^\").concat(B.attibuteValue,\"\\\\([_A-z0-9-]*\\\\)$/;\\n      const patternRegexp = /^\").concat(B.patternValue,\"\\\\(([_A-z0-9.%-]+?(,[_A-z0-9.%-]+)*?)\\\\)$/;\\n      const extractParenthesisAttrsAsArray = \").concat(ci,\";\\n\\n      if(typeof value !== 'string' && !(value instanceof String)){\\n        \").concat(r(\"value\",null==i?void 0:i.measurement),\"\\n        return ;\\n      }\\n\\n      if(value.trim().startsWith('\").concat(B.attibuteValue,\"')){\\n        if(!attributeRegexp.test(value)){\\n          \").concat(r(\"value\",\"The \"+B.attibuteValue+\" expression is invalid\"),\";\\n          return;\\n        }\\n\\n        return value;\\n      } else if(value.trim().startsWith('\").concat(B.staggerPreface,\"')){\\n        const staggerValid = staggerValidation(value);\\n        if(staggerValid === false){\\n          \").concat(r(\"value\",\"The \"+B.staggerPreface+\" expression is invalid\"),\";\\n          return;\\n        } else {\\n          const analysis = staggerAnalyser(value, false);\\n          if(!analysis.start.match(\").concat(s,\")){\\n            \").concat(r(\"analysis.start\",\"The provided start \"+B.staggerPreface+\" value is invalid\"),\";\\n            return;\\n          } else {\\n            var numberPart = analysis.start.match(\").concat(a,\")[0];\\n            startNumberPart = numberPart;\\n            startUnits = analysis.start.toString().substring(numberPart.length);\\n            if(\").concat(ii(n,\"min\"),\"){\\n              if(\").concat(n.min,\" > numberPart){\\n                \").concat(r(\"analysis.start\",\"The provided start \"+B.staggerPreface+\" value is smaller than the minimum accepted value (\"+n.min+\")\"),\";\\n                return;\\n              }\\n            }\\n            if(\").concat(ii(n,\"max\"),\"){\\n              if(\").concat(n.max,\" < numberPart){\\n                \").concat(r(\"analysis.start\",\"The provided start \"+B.staggerPreface+\" value is bigger than the maximum accepted value (\"+n.max+\")\"),\";\\n                return;\\n              }\\n            }\\n             if(\").concat(ii(n,\"integer\"),\"){\\n              if(!numberPart.match(\").concat(Hn,\")){\\n                \").concat(r(\"analysis.start\",\"The provided start \"+B.staggerPreface+\" value is not an integer\"),\";\\n                return;\\n              }\\n            }\\n          }\\n\\n          if(!analysis.end.match(\").concat(s,\")){\\n            \").concat(r(\"analysis.end\",\"The provided end \"+B.staggerPreface+\" value is invalid\"),\";\\n            return;\\n          } else {\\n            var numberPart = analysis.end.match(\").concat(a,\")[0];\\n            endNumberPart = numberPart;\\n            endUnits = analysis.end.toString().substring(numberPart.length);\\n            if(\").concat(ii(n,\"min\"),\"){\\n              if(\").concat(n.min,\" > numberPart){\\n                \").concat(r(\"analysis.end\",\"The provided end \"+B.staggerPreface+\" value is smaller than the minimum accepted value (\"+n.min+\")\"),\";\\n                return;\\n              }\\n            }\\n            if(\").concat(ii(n,\"max\"),\"){\\n              if(\").concat(n.max,\" < numberPart){\\n                \").concat(r(\"analysis.end\",\"The provided end \"+B.staggerPreface+\" value is bigger than the maximum accepted value (\"+n.max+\")\"),\";\\n                return;\\n              }\\n            }\\n             if(\").concat(ii(n,\"integer\"),\"){\\n              if(!numberPart.match(\").concat(Hn,\")){\\n                \").concat(r(\"analysis.end\",\"The provided end \"+B.staggerPreface+\" value is not an integer\"),\";\\n                return;\\n              }\\n            }\\n          }\\n\\n          if(startUnits !== endUnits){\\n            \").concat(r(\"analysis.startFraction\",\"The \"+B.staggerPreface+\" start and end must always have the same units\"),\";\\n            return;\\n          }\\n\\n          if(analysis.startFraction < 0 || analysis.startFraction > 1){\\n            \").concat(r(\"analysis.startFraction\",\"The \"+B.staggerPreface+\" fraction must be a number >=0 and <=1\"),\";\\n            return;\\n          }\\n\\n          if(easingKeys.indexOf(analysis.easing) < 0){\\n            \").concat(r(\"analysis.startFraction\",\"The provided \"+B.staggerPreface+\" easing is not recognised by the system\"),\";\\n            return;\\n          }\\n\\n          if(analysis.mode !== 'linear' && analysis.mode !== 'omni'){\\n            \").concat(r(\"analysis.mode\",B.staggerPreface+\" mode can only be either linear or omni\"),\";\\n            return;\\n          }\\n\\n          if(analysis.reverse !== true && analysis.reverse !== false){\\n            \").concat(r(\"analysis.reverse\",B.staggerPreface+\" reverse needs to be either true or false\"),\";\\n            return;\\n          }\\n\\n          return value;\\n        }\\n      } else if(value.trim().startsWith('\").concat(B.patternValue,\"')){\\n        if(!patternRegexp.test(value.replace(/ /g, ''))){\\n          \").concat(r(\"value\",\"The \"+B.patternValue+\" expression is invalid\"),\";\\n          return;\\n        }\\n        const patternValues = extractParenthesisAttrsAsArray(value);\\n        for(let i=0; i<patternValues.length; i++){\\n          const valToCheck = patternValues[i];\\n          if(!valToCheck.match(\").concat(s,\")){\\n            \").concat(r(\"valToCheck\",\"The provided value is invalid\"),\";\\n            return;\\n          } else {\\n            var numberPart = valToCheck.match(\").concat(a,\")[0];\\n            if(\").concat(ii(n,\"min\"),\"){\\n              if(\").concat(n.min,\" > numberPart){\\n                \").concat(r(\"valToCheck\",\"The provided value is smaller than the minimum accepted value (\"+n.min+\")\"),\";\\n                return;\\n              }\\n            }\\n            if(\").concat(ii(n,\"max\"),\"){\\n              if(\").concat(n.max,\" < numberPart){\\n                \").concat(r(\"valToCheck\",\"The provided value is bigger than the maximum accepted value (\"+n.max+\")\"),\";\\n                return;\\n              }\\n            }\\n             if(\").concat(ii(n,\"integer\"),\"){\\n              if(!numberPart.match(\").concat(Hn,\")){\\n                \").concat(r(\"valToCheck\",\"The provided value is not an integer\"),\";\\n                return;\\n              }\\n            }\\n          }\\n        }\\n        return value;\\n      } else if(value.trim().startsWith('\").concat(B.mathExpPreface,\"')){\\n          const validity = validateExpression(value);\\n          if(validity.result === false){\\n            \").concat(r(\"value\",\"The \"+B.expressionPreface+\" expression is invalid\"),\";\\n            return;\\n          } else {\\n            if(validUnits.indexOf(validity.unit) < 0){\\n              \").concat(r(\"value\",\"The \"+B.expressionPreface+\" expression has non-supported units\"),\";\\n              return;\\n            }\\n\\n            return value;\\n          }\\n        }\\n\\n\\n      if(!value.match(\").concat(s,\")){\\n        \").concat(r(\"value\",null==i?void 0:i.measurement),\"\\n      } else {\\n        var numberPart = value.match(\").concat(a,\")[0];\\n        if(\").concat(ii(n,\"min\"),\"){\\n          if(\").concat(n.min,\" > numberPart){\\n            \").concat(r(\"value\",null==i?void 0:i.measurement),\"\\n          }\\n        }\\n        if(\").concat(ii(n,\"max\"),\"){\\n          if(\").concat(n.max,\" < numberPart){\\n            \").concat(r(\"value\",null==i?void 0:i.measurement),\"\\n          }\\n        }\\n         if(\").concat(ii(n,\"integer\"),\"){\\n          if(!numberPart.match(\").concat(Hn,\")){\\n            \").concat(r(\"value\",null==i?void 0:i.measurement),\"\\n          }\\n        }\\n      }\\n      return value;\\n    \")}})),Un.add(\"html\",(function(t,e,n){t.schema;var i=t.messages;return{source:\"\\n      if(value === null){\\n        \".concat(this.makeError({type:\"html\",actual:\"value\",messages:i}),\"\\n      } else {\\n        return value;\\n      }\\n    \")}})),Un.add(\"css\",(function(t,e,n){t.schema;var i=t.messages;return{source:\"\\n      if(value === null){\\n        \".concat(this.makeError({type:\"css\",actual:\"value\",messages:i}),\"\\n      } else {\\n        return value;\\n      }\\n    \")}}));var Zn,Qn=[\"aliceblue\",\"antiquewhite\",\"aqua\",\"aquamarine\",\"azure\",\"beige\",\"bisque\",\"black\",\"blanchedalmond\",\"blue\",\"blueviolet\",\"brown\",\"burlywood\",\"cadetblue\",\"chartreuse\",\"chocolate\",\"coral\",\"cornflowerblue\",\"cornsilk\",\"crimson\",\"cyan\",\"darkblue\",\"darkcyan\",\"darkgoldenrod\",\"darkgray\",\"darkgrey\",\"darkgreen\",\"darkkhaki\",\"darkmagenta\",\"darkolivegreen\",\"darkorange\",\"darkorchid\",\"darkred\",\"darksalmon\",\"darkseagreen\",\"darkslateblue\",\"darkslategray\",\"darkslategrey\",\"darkturquoise\",\"darkviolet\",\"deeppink\",\"deepskyblue\",\"dimgray\",\"dimgrey\",\"dodgerblue\",\"firebrick\",\"floralwhite\",\"forestgreen\",\"fuchsia\",\"gainsboro\",\"ghostwhite\",\"gold\",\"goldenrod\",\"gray\",\"grey\",\"green\",\"greenyellow\",\"honeydew\",\"hotpink\",\"indianred\",\"indigo\",\"ivory\",\"khaki\",\"lavender\",\"lavenderblush\",\"lawngreen\",\"lemonchiffon\",\"lightblue\",\"lightcoral\",\"lightcyan\",\"lightgoldenrodyellow\",\"lightgray\",\"lightgrey\",\"lightgreen\",\"lightpink\",\"lightsalmon\",\"lightseagreen\",\"lightskyblue\",\"lightslategray\",\"lightslategrey\",\"lightsteelblue\",\"lightyellow\",\"lime\",\"limegreen\",\"linen\",\"magenta\",\"maroon\",\"mediumaquamarine\",\"mediumblue\",\"mediumorchid\",\"mediumpurple\",\"mediumseagreen\",\"mediumslateblue\",\"mediumspringgreen\",\"mediumturquoise\",\"mediumvioletred\",\"midnightblue\",\"mintcream\",\"mistyrose\",\"moccasin\",\"navajowhite\",\"navy\",\"oldlace\",\"olive\",\"olivedrab\",\"orange\",\"orangered\",\"orchid\",\"palegoldenrod\",\"palegreen\",\"paleturquoise\",\"palevioletred\",\"papayawhip\",\"peachpuff\",\"peru\",\"pink\",\"plum\",\"powderblue\",\"purple\",\"rebeccapurple\",\"red\",\"rosybrown\",\"royalblue\",\"saddlebrown\",\"salmon\",\"sandybrown\",\"seagreen\",\"seashell\",\"sienna\",\"silver\",\"skyblue\",\"slateblue\",\"slategray\",\"slategrey\",\"snow\",\"springgreen\",\"steelblue\",\"tan\",\"teal\",\"thistle\",\"tomato\",\"turquoise\",\"violet\",\"wheat\",\"white\",\"whitesmoke\",\"yellow\",\"yellowgreen\"];Un.add(\"color\",(function(t,e,n){var i=this;t.schema;var r=t.messages,s=function(t,e){return i.makeError({type:\"color\",actual:t,messages:{color:e}})};return{source:\"\\n      const validateExpression = \".concat(Ln,\";\\n      const attributeRegexp = /^\").concat(B.attibuteValue,\"\\\\([_A-z0-9-]*\\\\)$/;\\n      const patternRegexp = /^\").concat(B.patternValue,\"\\\\(([_A-z0-9.%-]+?(,[_A-z0-9.%-]+)*?)\\\\)$/;\\n      const extractParenthesisAttrsAsArray = \").concat(ci,';\\n      var colors = \"').concat(Qn.join(\",\"),\"\\\".split(',')\\n      if(typeof value !== 'string' && !(value instanceof String)){\\n        \").concat(this.makeError({type:\"measurement\",actual:\"value\",messages:r}),\"\\n        return ;\\n      }\\n    \\n      if(value.trim().startsWith('\").concat(B.patternValue,\"')){\\n          if(!patternRegexp.test(value.replace(/ /g, ''))){\\n            \").concat(s(\"value\",\"The \"+B.patternValue+\" expression is invalid\"),\";\\n            return;\\n          }\\n          const patternValues = extractParenthesisAttrsAsArray(value);\\n          for(let i=0; i<patternValues.length; i++){\\n            const valToCheck = patternValues[i];\\n            if(!valToCheck.match(\").concat(Jn,\") && !colors.includes(valToCheck.toLowerCase())){\\n              \").concat(this.makeError({type:\"color\",actual:\"value\",messages:r}),\"\\n              return;\\n            }\\n        }\\n        return value;\\n      } else if(value.trim().startsWith('\").concat(B.attibuteValue,\"')){\\n          if(!attributeRegexp.test(value)){\\n            \").concat(s(\"value\",\"The \"+B.attibuteValue+\" expression is invalid\"),\";\\n            return;\\n          }\\n\\n          return value;\\n        } else if(value.trim().startsWith('\").concat(B.mathExpPreface,\"')){\\n          const validity = validateExpression(value);\\n          if(validity.result === false){\\n            \").concat(s(\"value\",\"The \"+B.expressionPreface+\" expression is invalid\"),';\\n            return;\\n          }\\n          if(validity.unit !== \"\"){\\n            ').concat(s(\"value\",\"The \"+B.expressionPreface+\" expression includes units\"),\";\\n            return;\\n          }\\n\\n          return value;\\n        }\\n    \\n      \\n      if(!value.match(\").concat(Jn,\") && !colors.includes(value.toLowerCase())){\\n        \").concat(this.makeError({type:\"color\",actual:\"value\",messages:r}),\"\\n      }\\n      return value;\\n    \")}})),(Zn=window).AudioContext||(Zn.AudioContext=window.webkitAudioContext);var Xn=new window.AudioContext;function Yn(t){return!isNaN(parseFloat(t))&&isFinite(t)}function ti(t){return\"string\"==typeof t||t instanceof String}function ei(t){return\"object\"===i(t)}function ni(t){return t&&\"[object Function]\"==={}.toString.call(t)}function ii(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return!(null===e||!ei(t))&&Object.prototype.hasOwnProperty.call(t,e)}function ri(t){return t.charAt(0).toUpperCase()+t.slice(1)}var si=new RegExp(\"^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)\",\"gi\");function ai(t,e){var n=null==t?void 0:t[e];if(!ti(n))return null;var i=n.match(si)[0],r=n.substring(i.length);return!function(t){return\"number\"==typeof t&&isFinite(t)}(i=Number(i))||\"%\"!==r&&\"px\"!==r?null:{number:i,unit:r}}var oi=['originalDims should be an object containing both the \"width\" and \"height\" keys'];function ui(t){return null==t?{result:!0,analysis:{width:null,height:null}}:ei(t)&&ii(t,\"width\")&&ii(t,\"height\")?null==ai(t,\"width\")?{result:!1,errors:[\"originalDims.width should be defined either on px or %.\"]}:null==ai(t,\"height\")?{result:!1,errors:[\"originalDims.height should be defined either on px or %.\"]}:{result:!0,analysis:li(t)}:{result:!1,errors:oi}}function li(t){return ei(t)&&null!=t?{width:ai(t,\"width\"),height:ai(t,\"height\")}:{width:null,height:null}}function ci(t){var e=t.replace(/ /g,\"\");return/.*\\((.*)\\).*/.exec(e)[1].split(\",\")}function hi(t,e){return Math.round(t/e)*e}function di(t){var e=t.split(\"___\");return{mcid:e[0],attribute:e[1]}}function pi(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function fi(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t?\"_\":\"-\";return\"\".concat(pi()).concat(pi()).concat(e).concat(pi()).concat(e).concat(pi())}function mi(t,e){return\"\".concat(t).concat(\"___\").concat(e)}function vi(){return!1}function gi(t,e,n){for(var i=e.split(\".\"),r=t,s=0;s<i.length-1;s++){if(!ii(r,i[s]))return!1;r=r[i[s]]}return!!ii(r,i[i.length-1])&&(r[i[i.length-1]]=n,!0)}var yi=new function t(e){r(this,t);var n=2;ii(e,\"logLevel\")&&(n=e.logLevel);for(var i=0;i<V.length;i++){var s=V[i];n>=s.level?this[s.key]=window.console[s.consoleMethod].bind(window.console,\"MotorCortex - \".concat(s.key,\": \")):this[s.key]=function(){}}this.log=n>=3?window.console.log.bind(window.console,\"MotorCortex - \"):function(){}};function ki(t,e,n){var i=e(t);if(i.length>0){for(var r=\"Error on plugin's \\\"\".concat(n.plugin_npm_name,'\" \"').concat(n.ClassName,'\" instantiation. Errors (op props):'),s=0;s<i.length;s++)r+=\"\\n - \".concat(i[s].message,\". \").concat(i[s].actual,\" provided\");return yi.error(r),{result:!1,errors:i}}return{result:!0}}function bi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"Error on validation\";try{var i=Un.compile(t),r=i(e);if(!0===r)return{result:!0};for(var s=\"\".concat(n,\":\"),a=0;a<r.length;a++)s+=\"\\n - \".concat(r[a].message,\". \").concat(r[a].actual,\" provided\");return yi.error(s),{result:!1,errors:r}}catch(t){var o=\"\".concat(n,\". Invalid schema provided\");return yi.error(o),{result:!1,errors:[o]}}}function xi(t){var e={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#x27;\",\"/\":\"&#x2F;\"};return(\"\"+t).replace(/[&<>\"'/]/g,(function(t){return e[t]}))}function Ci(t,e,n){for(var i=[],r=0;r<t.length;r++){var s=t[r],a=s.parentMillisecond-n;a=a*e+n,1!==e&&i.push({id:s.incident.id,start:a,end:a+s.incident.duration*e,startDelta:a-s.millisecond})}return i}var Ii=function(t){return t.trimStart().startsWith(\"https://fonts.googleapis.com/css\")};function wi(t){return t.result?{result:!0,execute:t.execute}:{result:!1,errors:t.errors}}var Ei=function(){function t(e){r(this,t),this.runTimeInfo=e.runTimeInfo,this.context=e.context,this.onInitialise(),this.getIncidentById=e.getIncidentById}return a(t,[{key:\"onInitialise\",value:function(){}},{key:\"_resize\",value:function(){yi.log(\"Please overwite the _resize method of the Channel\")}},{key:\"addIncidents\",value:function(t){return wi(this.checkAddition(t))}},{key:\"editIncidents\",value:function(t,e){return wi(this.checkEdit(t,e))}},{key:\"removeIncidents\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return wi(this.checkDelete(t,e))}},{key:\"recalcScratchValues\",value:function(t){}},{key:\"checkAddition\",value:function(t){return{result:!0,execute:function(){}}}},{key:\"checkEdit\",value:function(t,e){return{result:!0,execute:function(){}}}},{key:\"checkDelete\",value:function(t){return{result:!0,execute:function(){}}}},{key:\"checkResizedIncidents\",value:function(t){return{result:!0,execute:function(){}}}},{key:\"moveTo\",value:function(t,e,n){}}],[{key:\"type\",get:function(){return\"plain\"}}]),t}(),Ai=\"up\",Pi=\"down\",Oi=\"native.tree.bypass\",Ti=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.parentNode=null,this.isNode=!1,ii(e,\"id\")?this.id=e.id:this.id=fi(),this.props=e}return a(t,[{key:\"name\",get:function(){return ii(this.props,\"name\")?this.props.name:null},set:function(t){this.props.name=t}},{key:\"delay\",get:function(){return ii(this.props,\"delay\")?this.props.delay:0},set:function(t){0!==t&&(this.props.delay=t)}},{key:\"hiatus\",get:function(){return ii(this.props,\"hiatus\")?this.props.hiatus:0},set:function(t){0!==t&&(this.props.hiatus=t)}},{key:\"repeats\",get:function(){return ii(this.props,\"repeats\")?this.props.repeats:1},set:function(t){this.props.repeats=t}},{key:\"duration\",get:function(){return this.repeats*(this.delay+this.props.duration+this.hiatus)},set:function(t){var e=t/this.duration;this.props.duration*=e,this.hiatus*=e,this.delay*=e}},{key:\"setNewDuration\",value:function(t){this.duration=t,this.putMessageOnPipe(\"recalcDuration\",{},\"Groups\",{selfExecute:!1,direction:Ai})}},{key:\"systoleDiastole\",value:function(t){this.duration*=t}},{key:\"hasParent\",get:function(){return null!==this.parentNode}},{key:\"attachToNode\",value:function(t){this.parentNode=t}},{key:\"detachFromParent\",value:function(){this.parentNode=null}},{key:\"putMessageOnPipe\",value:function(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(ii(r,\"direction\")||(r.direction=Pi),r.direction!==Pi||ii(r,\"positionDelta\")||(r.positionDelta=0),r.selfExecute){var s=\"handle\".concat(ri(t)),a=\"function\"==typeof this[s];if(a){var o=this[s](i,e);if(o!==Oi){var u={response:o,responder:this};return r.direction===Ai?u:[n(n({},u),{},{positionDelta:r.positionDelta})]}}}return r.direction===Ai?this.hasParent?this.parentNode.putMessageOnPipe(t,e,i,{selfExecute:!0,direction:Ai}):{response:!1,responder:null}:[]}},{key:\"bypass\",value:function(){return Oi}},{key:\"positionOnPyramidion\",get:function(){return this.getPositionOnPyramidion()}},{key:\"getPositionOnPyramidion\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.hasParent){var e=this.putMessageOnPipe(\"getPositionOnPyramidion\",{delta:t,id:this.id},\"Parent\",{selfExecute:!1,direction:Ai});return e.response}return t}}]),t}(),Si=\"Leaf has already been attached to another Node\",_i=\"Negative positioning of childs on nodes is not allowed\",Di=\"The Leaf with the requested id couldn't be found on the Tree\",Mi=function(t){u(i,t);var e=p(i);function i(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,i),(t=e.call(this,n)).isNode=!0,t.children={},t.calculatedDuration=0,t}return a(i,[{key:\"duration\",get:function(){return this.repeats*(this.delay+this.calculatedDuration+this.hiatus)},set:function(t){if(0!==this.duration){var e=t/this.duration;for(var n in this.calculatedDuration*=e,this.hiatus*=e,this.delay*=e,this.children){var i=this.children[n];this.editPosition(i.id,i.position*e,!0),i.leaf.systoleDiastole(e)}}}},{key:\"_calculateDuration\",value:function(){var t=0;for(var e in this.children){var n=this.children[e];n.position+n.leaf.duration>t&&(t=n.position+n.leaf.duration)}return t!==this.calculatedDuration&&(this.calculatedDuration=t,!0)}},{key:\"handleRecalcDuration\",value:function(t,e){return!this._calculateDuration()||this.putMessageOnPipe(\"recalcDuration\",{},\"Groups\",{selfExecute:!1,direction:Ai})}},{key:\"getLeafById\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(ii(this.children,t))return this.children[t].leaf;if(e)return null;for(var n in this.children){var i=this.children[n].leaf;if(i.isNode){var r=i.getLeafById(t);if(null!=r)return r}}return null}},{key:\"getLeafPosition\",value:function(t){if(ii(this.children,t))return this.children[t].position;var e=this.putMessageOnPipe(\"getLeafPosition\",{id:t},\"Groups\",{selfExecute:!1,direction:Pi});return e.length>0?e[0].positionDelta+e[0].response:void 0}},{key:\"handleGetLeafPosition\",value:function(t,e){return this.getLeafPosition(e.id)}},{key:\"checkAddition\",value:function(t,e){return t.hasParent?{result:!1,reason:Si}:e<0?{result:!1,reason:_i}:{result:!0}}},{key:\"addChild\",value:function(t,e){return t.hasParent?{result:!1,reason:Si}:(this.children[t.id]={id:t.id,leaf:t,position:e},t.attachToNode(this),this.putMessageOnPipe(\"recalcDuration\",{},\"Groups\",{selfExecute:!0,direction:Ai}),{result:!0})}},{key:\"checkRemoveChild\",value:function(t){return ii(this.children,t)?{result:!0}:{result:!1,reason:Di}}},{key:\"removeChild\",value:function(t){return this.children[t].leaf.detachFromParent(),delete this.children[t],this.putMessageOnPipe(\"recalcDuration\",{},\"Groups\",{selfExecute:!0,direction:Ai}),{result:!0}}},{key:\"checkEditPosition\",value:function(t,e){return e<0?{result:!1,reason:_i}:ii(this.children,t)?{result:!0}:{result:!1,reason:Di}}},{key:\"editPosition\",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ii(this.children,t))return this.children[t].position=e,n||this.putMessageOnPipe(\"recalcDuration\",{},\"Groups\",{selfExecute:!0,direction:Ai}),{result:!0}}},{key:\"putMessageOnPipe\",value:function(t,e,r){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(ii(s,\"direction\")||(s.direction=Pi),s.direction!==Pi||ii(s,\"positionDelta\")||(s.positionDelta=0),s.direction===Ai)return m(l(i.prototype),\"putMessageOnPipe\",this).call(this,t,e,r,s);var a=m(l(i.prototype),\"putMessageOnPipe\",this).call(this,t,e,r,s);if(a.length>0)return a;for(var o in this.children){var u=this.children[o].leaf,c=n(n({},s),{},{selfExecute:!0,positionDelta:s.positionDelta+this.children[o].position});a.push.apply(a,k(u.putMessageOnPipe(t,e,r,c)))}return a}},{key:\"handleGetPositionOnPyramidion\",value:function(t,e){var n=e.delta+this.getLeafPosition(e.id);return this.getPositionOnPyramidion(n)}}]),i}(Ti);function Vi(t){t.descriptor.value=function(t){void 0===this.blockID&&(this.blockID=fi()),this.DescriptiveIncident.putMessageOnPipe(\"setBlock\",{id:this.blockID,description:t,incidentId:this.DescriptiveIncident.id,realIncidentId:this.id},\"rootClip\",{selfExecute:!0,direction:Ai})}}function $i(t){t.descriptor.value=function(){this.DescriptiveIncident.putMessageOnPipe(\"unBlock\",{id:this.blockID},\"rootClip\",{selfExecute:!0,direction:Ai})}}var Ni=P(null,(function(t,e){var n=function(e){u(i,e);var n=p(i);function i(e,s){var a;return r(this,i),a=n.call(this,s),t(h(a)),a.mc_plugin_npm_name=\"motor-cortex-js\",a.plugin_channel_class=Ei,a.hasIncidents=!0,a.onGroupInitialise(),a.calculatedDuration=0,a}return i}(e);return{F:n,d:[{kind:\"method\",key:\"onGroupInitialise\",value:function(){}},{kind:\"method\",key:\"handleAddIncident\",value:function(t,e){if(this.id===t){var n=(0,e.incidentFromDescription)(e.incident,e.contextData,e.audio);return null===n?this.bypass():n}return this.bypass()}},{kind:\"method\",key:\"handleMoveIncident\",value:function(t,e){if(this.id===t){var n=this.getLeafById(e.incidentId,!0);return null===n?this.bypass():n}return this.bypass()}},{kind:\"field\",key:\"handleRemoveIncident\",value:function(){return this.handleMoveIncident}},{kind:\"method\",key:\"handleResize\",value:function(t){return this.id===t?this:this.bypass()}},{kind:\"method\",key:\"removeChild\",value:function(t){this.children[t].leaf.lastWish(),m(l(n.prototype),\"removeChild\",this).call(this,t)}},{kind:\"method\",key:\"getIncidentsByChannel\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={};for(var i in n[\"motor-cortex-js\"]=[{millisecond:t,parentMillisecond:e,incident:this,id:this.id}],this.children){var r=this.children[i],s=r.leaf.getIncidentsByChannel(t+r.position,t);for(var a in s)ii(n,a)?n[a]=n[a].concat(s[a]):n[a]=s[a]}return n}},{kind:\"method\",key:\"lastWish\",value:function(){for(var t in this.children)this.children[t].leaf.lastWish()}},{kind:\"method\",decorators:[Vi],key:\"setBlock\",value:function(){}},{kind:\"method\",decorators:[$i],key:\"unblock\",value:function(){}}]}}),Mi),ji=function(t){u(n,t);var e=p(n);function n(){return r(this,n),e.apply(this,arguments)}return a(n,[{key:\"onInitialise\",value:function(){this.incidents=[],this.incidentsById={}}},{key:\"_incidentById\",value:function(t){return this.incidentsById[t]}},{key:\"_resize\",value:function(t){for(var e=0;e<this.incidents.length;e++)this.incidents[e].millisecond*=t}},{key:\"checkAddition\",value:function(t){for(var e=[],n={},i=[],r=0;r<t.length;r++)n[t[r].id]=t[r].incident,i.push({id:t[r].id,millisecond:t[r].millisecond}),ii(this.incidentsById,t[r].id)&&(yi.error(\"Incident with the id \".concat(t[r].id,\" already exists. Addition is rejected.\")),e.push({type:\"Already existing id\",meta:{id:t[r].id}}));if(e.length>0)return{result:!1,errors:e};var s=this;return{result:!0,execute:function(){var e;s.incidentsById=Object.assign(s.incidentsById,n),(e=s.incidents).push.apply(e,i),s.incidents.sort((function(t,e){return t.millisecond-e.millisecond}));for(var r=0;r<t.length;r++)s._incidentById(t[r].id)._onGetContextOnce(s.context)}}}},{key:\"checkEdit\",value:function(t,e){var n=this.incidents;return{result:!0,execute:function(){for(var i,r=0;r<t.length;r++){i=t[r].id;for(var s=0;s<n.length;s++)if(n[s].id===i){n[s].millisecond+=e;break}}n.sort((function(t,e){return t.millisecond-e.millisecond}))}}}},{key:\"checkDelete\",value:function(t){for(var e=this,n=[],i=0;i<t.length;i++)n.push(t[i].id);return{result:!0,execute:function(){var t=e.incidents.filter((function(t){return!n.includes(t.id)}));e.incidents=t;for(var i=0;i<n.length;i++)delete e.incidentsById[n[i]]}}}},{key:\"checkResizedIncidents\",value:function(t){var e=this.incidents;return{result:!0,execute:function(){for(var n,i=0;i<t.length;i++){n=t[i].id;for(var r=0;r<e.length;r++)if(e[r].id===n){e[r].millisecond+=t[i].startDelta;break}}e.sort((function(t,e){return t.millisecond-e.millisecond}))}}}},{key:\"moveTo\",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(i)for(var r=0;r<this.incidents.length;r++){var s=this.incidents[r],a=this._incidentById(s.id);e<s.millisecond?a.onProgress(0,0,n,!0):e>s.millisecond+a.duration?a.onProgress(1,a.duration,n,!0):a.onProgress((e-s.millisecond)/a.duration,e-s.millisecond,n,!0)}else{var o,u=this;o=e>t?this.incidents.filter((function(n){return n.millisecond+u._incidentById(n.id).duration>=t&&n.millisecond+u._incidentById(n.id).duration<=e||u._incidentById(n.id).duration+n.millisecond>=e&&n.millisecond<=e})):this.incidents.filter((function(n){return n.millisecond+u._incidentById(n.id).duration>=e&&n.millisecond+u._incidentById(n.id).duration<=t||u._incidentById(n.id).duration+n.millisecond>=t&&n.millisecond<=t}));for(var l=0;l<o.length;l++){var c=o[l],h=this._incidentById(c.id),d=(e-c.millisecond)/h.duration>=1,p=d?1:(e-c.millisecond)/h.duration,f=d?h.duration:e-c.millisecond;h.onProgress(p,f,n,!1)}}}}]),n}(Ei),Bi=.1,Ri=\"function\"==typeof Float32Array;function Li(t,e){return 1-3*e+3*t}function Fi(t,e){return 3*e-6*t}function zi(t){return 3*t}function Gi(t,e,n){return((Li(e,n)*t+Fi(e,n))*t+zi(e))*t}function qi(t,e,n){return 3*Li(e,n)*t*t+2*Fi(e,n)*t+zi(e)}function Ki(t){return t}var Wi=function(t,e,n,i){if(!(0<=t&&t<=1&&0<=n&&n<=1))throw new Error(\"bezier x values must be in [0, 1] range\");if(t===e&&n===i)return Ki;for(var r=Ri?new Float32Array(11):new Array(11),s=0;s<11;++s)r[s]=Gi(s*Bi,t,n);function a(e){for(var i=0,s=1;10!==s&&r[s]<=e;++s)i+=Bi;--s;var a=i+(e-r[s])/(r[s+1]-r[s])*Bi,o=qi(a,t,n);return o>=.001?function(t,e,n,i){for(var r=0;r<4;++r){var s=qi(e,n,i);if(0===s)return e;e-=(Gi(e,n,i)-t)/s}return e}(e,a,t,n):0===o?a:function(t,e,n,i,r){var s,a,o=0;do{(s=Gi(a=e+(n-e)/2,i,r)-t)>0?n=a:e=a}while(Math.abs(s)>1e-7&&++o<10);return a}(e,i,i+Bi,t,n)}return function(t){return 0===t?0:1===t?1:Gi(a(t),e,i)}};function Ji(t){t.descriptor.value=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={};return n[this.mc_plugin_npm_name]=[{millisecond:t,parentMillisecond:e,incident:this,id:this.id}],n}}var Hi=P(null,(function(t){return{F:function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;r(this,e),t(this),this.attrs=n,this.props=i,this.dna=s,this.context=s.context,this.mcid=s.mcid,this.id=i.id||fi(),this.modelId=i.modelId,this.gotContext=!1,this.plugin_channel_class=Ei,this.mc_plugin_npm_name=\"motor-cortex-js\",ii(i,\"plugin_channel_class\")&&(this.plugin_channel_class=i.plugin_channel_class),ii(i,\"mc_plugin_npm_name\")&&(this.mc_plugin_npm_name=i.mc_plugin_npm_name),this.hasIncidents=!1,this.initialValues={},this.userDefinedInitialValues=n.initialValues||{},this.pureInitialValues=null,this.autoGenerated=!1,this.onInitialise()},d:[{kind:\"get\",key:\"selector\",value:function(){return this.props.selector}},{kind:\"get\",key:\"animAttributes\",value:function(){return this.attrs.animatedAttrs}},{kind:\"set\",key:\"animAttributes\",value:function(t){this.attrs.animatedAttrs[this.attributeKey]=t}},{kind:\"method\",key:\"getScratchValue\",value:function(){return 0}},{kind:\"get\",key:\"element\",value:function(){return null===this.context?[]:this.context.getElementByMCID?this.context.getElementByMCID(this.mcid):this.context.getElements(this.selector)[0]}},{kind:\"get\",key:\"attributeKey\",value:function(){return Object.keys(this.attrs.animatedAttrs)[0]}},{kind:\"get\",key:\"targetValue\",value:function(){return this.animAttributes[this.attributeKey]}},{kind:\"method\",key:\"getElementAttribute\",value:function(t){return this.element.getAttribute(t)}},{kind:\"method\",decorators:[Ji],key:\"getIncidentsByChannel\",value:function(){}},{kind:\"method\",key:\"hasUserDefinedInitialValue\",value:function(){return ii(this.userDefinedInitialValues,this.attributeKey)}},{kind:\"method\",key:\"setInitialValue\",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e&&(this.pureInitialValues=JSON.parse(JSON.stringify(t))),this.hasUserDefinedInitialValue())if(ei(this.targetValue)){for(var n in this.userDefinedInitialValues[this.attributeKey])t[n]=this.userDefinedInitialValues[this.attributeKey][n];this.initialValues[this.attributeKey]=t}else this.initialValues[this.attributeKey]=this.userDefinedInitialValues[this.attributeKey];else this.initialValues[this.attributeKey]=t}},{kind:\"get\",key:\"initialValue\",value:function(){return this.initialValues[this.attributeKey]}},{kind:\"method\",key:\"_onGetContextOnce\",value:function(){try{if(!0===this.context.fragment)return;this.gotContext||(this.onGetContext(),this.gotContext=!0)}catch(t){yi.error(t),yi.error(this.mcid)}}},{kind:\"method\",key:\"onGetContext\",value:function(){yi.info('Overwritte the \"onGetContext\" method with the code you want to get executed',\"info\")}},{kind:\"method\",key:\"lastWish\",value:function(){}},{kind:\"method\",key:\"onInitialise\",value:function(){yi.info('Overwritte the \"onInialise\" method with the code you want to get executed',\"info\")}},{kind:\"method\",key:\"onProgress\",value:function(t,e){}},{kind:\"method\",decorators:[Vi],key:\"setBlock\",value:function(){}},{kind:\"method\",decorators:[$i],key:\"unblock\",value:function(){}}]}})),Ui=function(t){u(i,t);var e=p(i);function i(t,n,s){var a;return r(this,i),(a=e.call(this,t,n,s)).runTimeInfo={currentMillisecond:0},a}return a(i,[{key:\"duration\",get:function(){return this.DescriptiveIncident.realClip.duration}},{key:\"lastWish\",value:function(){this.ownClip&&this.ownClip.context.unmount()}},{key:\"onGetContext\",value:function(){var t,e,i=this,r=this.DescriptiveIncident.realClip.exportConstructionArguments(),s=(t=this.context,e=this.mcid,t.rootElement.querySelectorAll(\"[\".concat($,'=\"').concat(e,'\"]'))[0]),a=n(n({},r.props),{},{selector:void 0,host:s,containerParams:this.DescriptiveIncident.props.containerParams||{},originalDims:this.DescriptiveIncident.constructor.originalDims||{}});this.ownClip=new this.DescriptiveIncident.constructor.Incident(r.attrs,a),this.ownClip.DescriptiveIncident=this.DescriptiveIncident,this.DescriptiveIncident.realClip.addContext({clipId:this.id,context:this.ownClip.context,unblock:function(){return i.unblock()}},!0)}},{key:\"onProgress\",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!1!==this.DescriptiveIncident.realClip.context.contextLoaded){for(var i in this.DescriptiveIncident.realClip.instantiatedChannels){var r=this.DescriptiveIncident.realClip.instantiatedChannels[i];r.moveTo(this.runTimeInfo.currentMillisecond,e,this.id,n)}this.runTimeInfo.currentMillisecond=e,this.ownClip.onAfterProgress(t,e)}else this.setBlock()}}]),i}(Hi);function Zi(t){var e=new t.Incident(t.attrs,n(n({},t.props),{},{id:t.id||fi()}),{context:t.context,mcid:t.mcid});return e.mc_plugin_npm_name=t.plugin_npm_name,e.plugin_channel_class=t.Channel,e.DescriptiveIncident=t.DescriptiveIncident,e}var Qi=P(null,(function(t,e){return{F:function(e){u(s,e);var i=p(s);function s(e,a,o,u){var l;return r(this,s),l=i.call(this,n(n({},e.props),{},{id:\"\".concat(e.incidentId,\"_\").concat(o)})),t(h(l)),l.contexts={},l.constructionIngredients=e,l.mcid=o,l.DescriptiveIncident=u,l.mc_plugin_npm_name=e.plugin_npm_name,l.plugin_channel_class=e.Channel,l.addContext(a),l.timeScale=1,u.realClip.duration>0&&(l.timeScale=l.props.duration/u.realClip.duration),u.realClip.subscribeToDurationChange((function(t){l.props.duration=l.timeScale*t,l.putMessageOnPipe(\"recalcDuration\",{},\"Groups\",{selfExecute:!1,direction:Ai})})),l.easing=zn.linear,ii(l.props,\"easing\")&&(Array.isArray(l.props.easing)?l.easing=Wi(l.props.easing[0],l.props.easing[1],l.props.easing[2],l.props.easing[3]):l.easing=zn[l.props.easing]),l}return s}(e),d:[{kind:\"get\",key:\"originalContext\",value:function(){return this.contexts[this.originalContextKey]}},{kind:\"method\",key:\"onProgress\",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this.delay+this.props.duration+this.hiatus,s=e%r;0!==e&&0===s&&(s=this.delay+this.props.duration);var a=s-this.delay;a<0?a=0:a>this.props.duration&&(a=this.props.duration);var o=0===this.props.duration?0:a/this.props.duration,u=this.easing(o),l=u*this.props.duration*(1/this.timeScale);!1!==this.originalContext.context.contextLoaded&&this.contexts[n].onProgress(u,l,i)}},{kind:\"method\",key:\"addContext\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];0===Object.keys(this.contexts).length&&(this.originalContextKey=t.clipId);var i=n(n({},this.constructionIngredients),{},{context:t.context,mcid:this.mcid,Incident:Ui,DescriptiveIncident:this.DescriptiveIncident});this.contexts[t.clipId]=Zi(i),e&&this.contexts[t.clipId]._onGetContextOnce()}},{kind:\"method\",key:\"handleAddContext\",value:function(t,e){return this.addContext(e,!0),!0}},{kind:\"method\",key:\"handleContextLoaded\",value:function(t,e){this._onGetContextOnce()}},{kind:\"method\",decorators:[Ji],key:\"getIncidentsByChannel\",value:function(){}},{kind:\"method\",key:\"gotContext\",value:function(){for(var t in this.contexts)this.contexts[t].gotContext()}},{kind:\"method\",key:\"_onGetContextOnce\",value:function(){if(!1!==this.originalContext.contextLoaded)for(var t in this.contexts)this.contexts[t]._onGetContextOnce()}},{kind:\"method\",key:\"lastWish\",value:function(){for(var t in this.contexts)this.contexts[t].lastWish()}},{kind:\"method\",key:\"onGetContext\",value:function(){if(!1!==this.originalContext.contextLoaded)for(var t in this.contexts)this.contexts[t].onGetContext()}}]}}),Ti),Xi=P(null,(function(t,e){var i=function(e){u(s,e);var i=p(s);function s(e,a,o,u){var l;if(r(this,s),l=i.call(this,n(n({},e.props),{},{id:null!==u?\"\".concat(e.incidentId,\"_\").concat(o,\"_\").concat(u):\"\".concat(e.incidentId,\"_\").concat(o)})),t(h(l)),l.contexts={},l.constructionIngredients=e,l.mcid=o,l.attribute=u,l.mc_plugin_npm_name=e.plugin_npm_name,l.plugin_channel_class=e.Channel,l.DescriptiveIncident=e.DescriptiveIncident,l.addContext(a),null!==u){var c=l.constructionIngredients.attrs.animatedAttrs[l.attribute];Array.isArray(c)?l.originalAnimatedAttributeValue=k(c):ei(c)?l.originalAnimatedAttributeValue=n({},c):l.originalAnimatedAttributeValue=c}return l.easing=zn.linear,ii(l.props,\"easing\")&&(Array.isArray(l.props.easing)?l.easing=Wi(l.props.easing[0],l.props.easing[1],l.props.easing[2],l.props.easing[3]):l.easing=zn[l.props.easing]),l}return s}(e);return{F:i,d:[{kind:\"get\",key:\"originalContext\",value:function(){return this.contexts[this.originalContextKey]}},{kind:\"get\",key:\"duration\",value:function(){return m(l(i.prototype),\"duration\",this)}},{kind:\"set\",key:\"duration\",value:function(t){for(var e in g(l(i.prototype),\"duration\",t,this,!0),this.contexts)this.contexts[e].duration=t}},{kind:\"method\",key:\"addContext\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!1;0===Object.keys(this.contexts).length&&(this.originalContextKey=t.clipId,this.originalClipContext=t.context,i=!0);var r=n(n({},this.constructionIngredients),{},{context:t.context,mcid:this.mcid}),s=Zi(r);this.contexts[t.clipId]=s,i||null==this.attribute||this.contexts[t.clipId].setInitialValue(this.initialValue),e&&this.contexts[t.clipId].context.contextLoaded&&this.contexts[t.clipId]._onGetContextOnce()}},{kind:\"method\",key:\"handleAddContext\",value:function(t,e){return this.addContext(e,!0),!0}},{kind:\"method\",key:\"handleContextLoaded\",value:function(t,e){return this._onGetContextOnce(),!0}},{kind:\"method\",decorators:[Ji],key:\"getIncidentsByChannel\",value:function(){}},{kind:\"method\",key:\"onProgress\",value:function(t,e,n){var i=e%(this.delay+this.props.duration+this.hiatus);0!==e&&0===i&&(i=this.delay+this.props.duration);var r=i-this.delay;r<0?r=0:r>this.props.duration&&(r=this.props.duration);var s=r/this.props.duration,a=this.easing(s),o=a*this.props.duration;if(null!=n)!1!==this.originalContext.context.contextLoaded&&this.contexts[n].onProgress(a,o);else for(var u in this.contexts)this.originalContextKey===u&&!0===this.originalContext.fragment||this.contexts[u].onProgress(a,o)}},{kind:\"get\",key:\"animatedAttributeValue\",value:function(){return this.constructionIngredients.attrs.animatedAttrs[this.attribute]}},{kind:\"set\",key:\"animatedAttributeValue\",value:function(t){this.constructionIngredients.attrs.animatedAttrs[this.attribute]=t}},{kind:\"method\",key:\"gotContext\",value:function(){for(var t in this.contexts)this.contexts[t].gotContext()}},{kind:\"method\",key:\"_onGetContextOnce\",value:function(){if(!1!==this.originalContext.context.contextLoaded)for(var t in this.contexts)this.contexts[t]._onGetContextOnce()}},{kind:\"method\",key:\"lastWish\",value:function(){for(var t in this.contexts)this.contexts[t].lastWish()}},{kind:\"method\",key:\"onGetContext\",value:function(){if(!1!==this.originalContext.contextLoaded)for(var t in this.contexts)this.contexts[t].context.contextLoaded&&this.contexts[t].onGetContext()}},{kind:\"get\",key:\"initialValue\",value:function(){return this.originalContext.initialValue}},{kind:\"get\",key:\"scratchValue\",value:function(){return this.originalContext.scratchValue}},{kind:\"get\",key:\"pureInitialValues\",value:function(){return this.originalContext.pureInitialValues}},{kind:\"method\",key:\"setInitialValue\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];for(var n in null===t&&(t=this.getScratchValue()),this.contexts)this.contexts[n].setInitialValue(JSON.parse(JSON.stringify(t)),e)}},{kind:\"method\",key:\"getScratchValue\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!this.originalContext.context.contextLoaded)return 0;if(null!=t)return this.contexts[t].getScratchValue();var e=Object.keys(this.contexts);if(ii(this.originalClipContext,\"nonFragmentedContext\")){var i=n(n({},this.constructionIngredients),{},{context:this.originalClipContext.nonFragmentedContext,mcid:this.mcid}),r=Zi(i);return r.getScratchValue()}return 1===e.length?this.originalContext.getScratchValue():this.contexts[e[1]].getScratchValue()}},{kind:\"method\",key:\"setCompoAttrKeyValue\",value:function(t,e){for(var n in this.contexts)this.contexts[n].attrs.animatedAttrs[this.attribute][t]=e,this.contexts[n].lastWish(),this.contexts[n].onGetContext()}},{kind:\"method\",key:\"play\",value:function(t,e,n){return this.contexts[n].play(e)}},{kind:\"method\",key:\"stop\",value:function(t){this.contexts[t].stop()}}]}}),Ti),Yi=function(t){u(i,t);var e=p(i);function i(t,n,s,a,o){var u;return r(this,i),(u=e.call(this,{},{id:\"\".concat(t.id,\"_\").concat(s)})).mcid=s,u.selector=a,u.data=o,u.setUp(t,n),u}return a(i,[{key:\"setUp\",value:function(t,e){for(var i in this.data.attrs.animatedAttrs){var r={};r[i]=this.data.attrs.animatedAttrs[i];var s=n(n({},this.data.attrs),{},{animatedAttrs:r}),a=n(n({},this.data.props),{},{selector:this.selector}),o={incidentId:t.id,attrs:s,props:a,Incident:t.constructor.Incident,plugin_npm_name:t.constructor.plugin_npm_name,Channel:t.constructor.Channel,DescriptiveIncident:t},u=new Xi(o,e,this.mcid,i);this.addChild(u,0)}}}]),i}(Ni);var tr=function(t){u(n,t);var e=p(n);function n(t,i){var s;return r(this,n),(s=e.call(this,{},{id:t.id})).contexts={},s.contexts[i.clipId]=i.context,s.originalContextKey=i.clipId,s.initParams=i.context.initParams,s.instantiatedCopiesContexts=i.instantiatedCopiesContexts,s.descriptiveIncident=t,s.staggerAttrs=[],s.staggerProps=[],s.setUp(t,i),s}return a(n,[{key:\"originalContext\",get:function(){return this.contexts[this.originalContextKey]}},{key:\"parsePropsDynamicValues\",value:function(t,e){for(var n,i=0;i<t.propsStaggers.length;i++)n=t.propsStaggers[i],this.staggerProps.push({path:n.path,values:n.stagger.calculateValues(e,this.initParams)})}},{key:\"parseAttrsDynamicValues\",value:function(t,e){for(var n,i=0;i<t.attributesStaggers.length;i++)n=t.attributesStaggers[i],this.staggerAttrs.push({path:n.path,values:n.stagger.calculateValues(e,this.initParams)})}},{key:\"setUp\",value:function(t,e){var n,i,r=this.originalContext.getElements(t.selector());this.parsePropsDynamicValues(t,r),this.parseAttrsDynamicValues(t,r);for(var s=0;s<r.length;s++){for(var a in n=r[s],i=this._getElementMCID(n),this.instantiatedCopiesContexts)this._setElementMCID(this.instantiatedCopiesContexts[a],this.instantiatedCopiesContexts[a].getElements(t.selector())[s],i);this._createElementIncident(n,t,e,s,r.length,i)}}},{key:\"handleRecalcDuration\",value:function(t,e){var i=m(l(n.prototype),\"handleRecalcDuration\",this).call(this,t,e);return this.descriptiveIncident.propsStaggers.length>0&&(this.descriptiveIncident.dynamicDurationValue=1*this.duration),i}},{key:\"lastWish\",value:function(){this.descriptiveIncident.propsStaggers.length>0&&(this.descriptiveIncident.dynamicDurationValue=null,this.descriptiveIncident.putMessageOnPipe(\"setDurationDynamic\",{},\"Groups\",{selfExecute:!1,direction:Ai})),m(l(n.prototype),\"lastWish\",this).call(this)}},{key:\"_getElementMCID\",value:function(t){var e=this.originalContext.getMCID(t);return e||(e=fi(!0),this.originalContext.setMCID(t,e)),e}},{key:\"_setElementMCID\",value:function(t,e,n){t.getMCID(e)||t.setMCID(e,n)}},{key:\"_prepareAttrsPropsForElement\",value:function(t,e){var n=function(t,e){for(var n=[],i=0;i<t.length;i++)n.push({path:t[i].path,value:t[i].values[e]});return n}(this.staggerAttrs,e),i=function(t,e){for(var n=[],i=0;i<t.length;i++)n.push({path:t[i].path,value:t[i].values[e]});return n}(this.staggerProps,e),r=t.attrs,s=t.props;if(n.length>0){r=JSON.parse(JSON.stringify(t.attrs));for(var a=0;a<n.length;a++)gi(r,n[a].path,n[a].value)}if(i.length>0){s=JSON.parse(JSON.stringify(t.props));for(var o=0;o<i.length;o++)gi(s,i[o].path,i[o].value)}return{attrs:r,props:s}}},{key:\"_createElementIncident\",value:function(t,e,n,i,r,s){var a=this._prepareAttrsPropsForElement(e,i);if(ii(e.attrs,\"animatedAttrs\")){var o=new Yi(e,n,s,n.context.getElementSelectorByMCID(s),a);this.addChild(o,0)}else{var u=a.attrs,l=a.props,c={incidentId:e.id,attrs:u,props:l,Incident:e.constructor.Incident,plugin_npm_name:e.constructor.plugin_npm_name,Channel:e.constructor.Channel,DescriptiveIncident:e},h=new Xi(c,n,s,null);this.addChild(h,0)}}}]),n}(Ni);function er(t){var e=new t.Class(t.attrs,t.props);if(!1===e.result)return e;if(ii(t,\"incidents\"))for(var n in t.incidents){var i=t.incidents[n],r=er(i.leaf);if(!1===r.result)return r;var s=e.addIncident(r,i.position);if(!1===s.result)return s}return e}var nr=function(t){u(i,t);var e=p(i);function i(t,n){var s;return r(this,i),(s=e.call(this,t,n)).realClip=t.realClip,s}return a(i,[{key:\"_createElementIncident\",value:function(t,e,i,r,s,a){var o=this._prepareAttrsPropsForElement(e,0);if(e.realClip.isNullClip){var u=er(n(n({},e.exportLiveDefinition()),o));e.realClip=u.realClip}var l=e.realClip.exportConstructionArguments(),c=n(n(n(n({},e.props),{},{duration:e.realClip.duration},l.props),o.props),{},{selector:i.context.getElementSelectorByMCID(a)}),h={incidentId:e.id,attrs:l.attrs,props:c,Incident:e.constructor.Incident,plugin_npm_name:e.constructor.plugin_npm_name,Channel:ji,DescriptiveIncident:e},d=new Qi(h,i,a,e);this.addChild(d,0)}}]),i}(tr),ir=\"7.3.0\",rr=[\"cm\",\"mm\",\"in\",\"px\",\"pt\",\"pc\",\"em\",\"ex\",\"ch\",\"rem\",\"vw\",\"vh\",\"vmin\",\"vmax\",\"%\"],sr=[{type:\"string\",optional:!0,default:\"linear\",enum:[\"linear\",\"easeInQuad\",\"easeOutQuad\",\"easeInOutQuad\",\"easeInCubic\",\"easeOutCubic\",\"easeInOutCubic\",\"easeInQuart\",\"easeOutQuart\",\"easeInOutQuart\",\"easeInQuint\",\"easeOutQuint\",\"easeInOutQuint\",\"easeInSine\",\"easeOutSine\",\"easeInOutSine\",\"easeInExpo\",\"easeOutExpo\",\"easeInOutExpo\",\"easeInCirc\",\"easeOutCirc\",\"easeInOutCirc\",\"easeInElastic\",\"easeOutElastic\",\"easeInOutElastic\",\"easeInBack\",\"easeOutBack\",\"easeInOutBack\",\"easeInBounce\",\"easeOutBounce\",\"easeInOutBounce\"]},{type:\"array\",optional:!0,length:4,items:{type:\"number\"}}],ar={type:\"string\",empty:!1,trim:!0,optional:!0},or={type:\"string\",empty:!1,trim:!0,optional:!0},ur={type:\"string\",empty:!1,optional:!1},lr={type:\"amount\",optional:!1,integer:!0,min:0},cr={type:\"amount\",optional:!0,integer:!0,min:0},hr={type:\"amount\",integer:!0,min:1,optional:!0},dr={type:\"amount\",integer:!0,min:0,optional:!0},pr={type:\"amount\",integer:!0,min:0,optional:!0},fr={type:\"html\",optional:!0},mr={type:\"css\",optional:!0},vr={type:\"array\",optional:!0,items:{type:\"object\",props:{type:{enum:[\"google-font\"],type:\"string\"},src:{type:\"string\"}}}},gr={type:\"array\",items:{type:\"object\",strict:!0,props:{src:\"string\",id:\"string\",mcid:{type:\"string\",optional:!0},classes:{type:\"array\",optional:!0,items:\"string\"},base64:{type:\"boolean\",optional:!0},startValues:{optional:!0,type:\"object\",props:{gain:{optional:!0,type:\"number\"},pan:{optional:!0,type:\"number\"}}}}},optional:!0},yr=Un.compile({id:ar,name:or,selector:n(n({},ur),{},{optional:!0}),easing:sr,duration:lr,startFrom:{type:\"amount\",integer:!0,min:0,optional:!0},repeats:hr,hiatus:dr,delay:pr}),kr={type:\"object\",optional:!0,props:{width:{type:\"measurement\",units:rr,optional:!0},height:{type:\"measurement\",units:rr,optional:!0}}},br={type:\"string\",enum:[\"on\",\"off\",\"only\"],optional:!0},xr=Un.compile({props:[{type:\"object\",strict:!0,props:{id:ar,name:or,selector:n(n({},ur),{},{optional:!0}),repeats:hr,hiatus:dr,delay:pr,easing:sr,duration:cr,html:fr,css:mr,audioSources:gr,audio:br,containerParams:kr,fonts:vr,initParams:{type:\"object\",optional:!0}}},{type:\"object\",strict:!0,props:{id:ar,name:or,host:{type:\"any\",optional:!1},duration:cr,html:fr,css:mr,audioSources:gr,audio:br,containerParams:kr,fonts:vr,initParams:{type:\"object\",optional:!0},initParamsValidationRules:{type:\"object\",optional:!0}}},{type:\"object\",strict:!0,props:{root:{type:\"boolean\",optional:!0},name:or,id:ar,audioSources:gr,audio:n(n({},br),{},{enum:[\"on\"]})}}]}),Cr=Un.compile({selector:n(n({},ur),{},{optional:!0,strict:!0}),name:or}),Ir=Un.compile({selector:n(n({},ur),{},{strict:!0,optional:!0}),name:or,repeats:{type:\"amount\",integer:!0,min:1,optional:!0},hiatus:{type:\"amount\",integer:!0,min:0,optional:!0},delay:{type:\"amount\",integer:!0,min:0,optional:!0}});function wr(t){t.descriptor.value=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.exportLiveDefinition();for(var i in t)Lt(i,t[i],!0,\"attrs\",n);for(var r in e)Lt(r,e[r],!0,\"props\",n);return er(n)}}Un.compile({selector:ur,duration:lr});var Er=\"mc.descriptive.decisionAuthority\";function Ar(t){t.descriptor.value=function(t){if(null!==this.constructor.attrsValidationRules){var e=this.constructor.attrsValidationMethod(t);if(e.length>0)return{result:!1,errors:e}}return!0===this.putMessageOnPipe(\"checkForClip\",{},Er,{selfExecute:!0,direction:Ai}).response?this.manageEditAttrProps(t,\"attrs\"):(this.attrs=t,{result:!0})}}function Pr(t){t.descriptor.value=function(t){var e=ki(t,this.constructor.propsValidationRules,this.constructor);return e.result?!0===this.putMessageOnPipe(\"checkForClip\",{},Er,{selfExecute:!0,direction:Ai}).response?this.manageEditAttrProps(t,\"props\"):(this.props=t,{result:!0}):e}}function Or(t){t.descriptor.value=function(){return null!==this.props.host&&void 0!==this.props.host?[this.props.host]:this.hasParent&&this.putMessageOnPipe(\"checkForClip\",{},Er,{selfExecute:!0,direction:Ai}).response?this.putMessageOnPipe(\"getElements\",{selector:this.selector()},Er,{selfExecute:!1,direction:Ai}).response:[]}}function Tr(t){t.descriptor.value=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{check:!0};if(\"dynamic\"===this.duration)return{result:!1,reason:\"Incidents with dynamic duration can't be resized. Once the Incident enters a Clip it'll become resizable\"};if(t===this.duration)return{result:!0,meta:{unprocessed:!0}};if(t<=0)return{result:!1,reason:\"Size must always be > 0\"};if(e.check&&this.hasParent){var n=this.putMessageOnPipe(\"checkResize\",{id:this.id,newSize:t,fraction:t/this.duration},Er,{selfExecute:!1,direction:Ai});if(!n.response.result)return n.response}return this.setNewDuration(t),{result:!0}}}function Sr(t){t.descriptor.value=function(){return null===this.inheritedSelector?ii(this.props,\"selector\")?this.props.selector:null:ii(this.props,\"selector\")?\"&\"===this.props.selector.charAt(0)?this.inheritedSelector+this.props.selector.substring(1):\"\".concat(this.inheritedSelector,\" \").concat(this.props.selector):this.inheritedSelector}}var _r=function(){function t(e){r(this,t),this.expressionProps=e}return a(t,[{key:\"calculateValues\",value:function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n].getAttribute(this.expressionProps.attribute);Yn(i)&&(i=parseFloat(i)),e.push(i)}return e}}]),t}(),Dr=function(){function t(e){r(this,t),this.patternProps=e}return a(t,[{key:\"calculateValues\",value:function(t){for(var e=this.patternProps.pattern.length,n=[],i=0;i<t.length;i++)n.push(this.patternProps.pattern[i%e]);return n}},{key:\"resize\",value:function(t){if(\"amount\"!==this.patternProps.type)return\"\".concat(B.patternValue,\"(\").concat(this.patternProps.pattern.join(),\")\");for(var e=[],n=0;n<this.patternProps.pattern.length;n++)e.push(t*this.patternProps.pattern[n]);return\"\".concat(B.patternValue,\"(\").concat(e.join(),\")\")}}]),t}(),Mr=function t(e){return r(this,t),\"expression\"===e.dynamicType?new Fn(e):\"stagger\"===e.dynamicType?new Kn(e):\"attribute\"===e.dynamicType?new _r(e):\"pattern\"===e.dynamicType?new Dr(e):(yi.error('dynamicType must be either \"stgger\" or \"expression\". '.concat(e.dynamicType,\" provided\")),!1)};function Vr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";if(!t)return[];for(var n=[],i=0,r=Object.entries(t);i<r.length;i++){var s=y(r[i],2),a=s[0],o=s[1];if(!(o instanceof Element))if(ei(o)){var u=Vr(o,\"\".concat(e).concat(\"\"===e?\"\":\".\").concat(a));n.push.apply(n,k(u))}else if(ti(o)){var l=o.trim();if(l.startsWith(B.staggerPreface)){var c=qn(l,!1),h=c.start.match(si)[0],d=c.end.match(si)[0],p=c.start.toString().substring(h.length),f={dynamicType:\"stagger\",path:\"\".concat(e).concat(\"\"===e?\"\":\".\").concat(a),from:1*h,to:1*d,mode:c.mode,unit:p,fraction:c.startFraction,easing:c.easing,reverse:c.reverse,type:\"\"===p?\"amount\":\"measurement\"};n.push(f)}else if(l.startsWith(B.attibuteValue)){var m={dynamicType:\"attribute\",path:\"\".concat(e).concat(\"\"===e?\"\":\".\").concat(a),unit:\"\",type:\"measurement\",attribute:/\\(([^)]+)\\)/.exec(l)[1]};n.push(m)}else if(l.startsWith(B.mathExpPreface)){var v=Ln(l),g={dynamicType:\"expression\",path:\"\".concat(e).concat(\"\"===e?\"\":\".\").concat(a),unit:v.unit,type:\"\"===v.unit?\"amount\":\"measurement\",expression:v.expression};n.push(g)}else if(l.startsWith(B.patternValue)){for(var b=ci(l),x=!0,C=[],I=0;I<b.length;I++){if(!Yn(b[I])){x=!1;break}C.push(parseFloat(b[I]))}x&&(b=C);var w={dynamicType:\"pattern\",path:\"\".concat(e).concat(\"\"===e?\"\":\".\").concat(a),unit:\"\",type:x?\"amount\":\"measurement\",pattern:b};n.push(w)}}}return n}function $r(t){t.descriptor.value=function(){for(var t={attrs:{},props:{}},e=Vr(this.props),n=0;n<e.length;n++)this.propsStaggers.push({path:e[n].path,stagger:new Mr(e[n])}),ii(t.props,e[n].dynamicType)||(t.props[e[n].dynamicType]=0),t.props[e[n].dynamicType]+=1;for(var i=Vr(this.attrs),r=0;r<i.length;r++)this.attributesStaggers.push({path:i[r].path,stagger:new Mr(i[r])}),ii(t.attrs,i[r].dynamicType)||(t.attrs[i[r].dynamicType]=0),t.attrs[i[r].dynamicType]+=1;return t}}var Nr=P(null,(function(t,e){var n=function(e){u(i,e);var n=p(i);function i(){var e,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r(this,i),null===a?(e=n.call(this,s),t(h(e)),e.attrs={},e.props=s):(e=n.call(this,a),t(h(e)),e.attrs=s,e.props=a);var o=ki(e.props,Cr,e.constructor);return o.result?(e._inheritedSelector=null,e.attributesStaggers=[],e.propsStaggers=[],e.setupDynamicValues(),e.passiveAddition=!0,e._buildTree(),e.passiveAddition=!1,d(e)):d(e,o)}return i}(e);return{F:n,d:[{kind:\"field\",static:!0,key:\"Incident\",value:function(){return Ni}},{kind:\"field\",static:!0,key:\"plugin_npm_name\",value:function(){return\"motor-cortex-js\"}},{kind:\"field\",static:!0,key:\"version\",value:function(){return ir}},{kind:\"field\",static:!0,key:\"Channel\",value:function(){return Ei}},{kind:\"field\",static:!0,key:\"ClassName\",value:function(){return\"Group\"}},{kind:\"field\",static:!0,key:\"isGroup\",value:function(){return!0}},{kind:\"field\",static:!0,key:\"attrsValidationRules\",value:function(){return null}},{kind:\"field\",static:!0,key:\"propsValidationRules\",value:function(){return Cr}},{kind:\"method\",decorators:[Ar],key:\"editAttributes\",value:function(){}},{kind:\"method\",decorators:[Pr],key:\"editProperties\",value:function(){}},{kind:\"method\",decorators:[Tr],key:\"resize\",value:function(){}},{kind:\"method\",decorators:[wr],key:\"clone\",value:function(){}},{kind:\"method\",decorators:[Sr],key:\"selector\",value:function(){}},{kind:\"method\",decorators:[Or],key:\"getElements\",value:function(){}},{kind:\"method\",decorators:[$r],key:\"setupDynamicValues\",value:function(){}},{kind:\"method\",key:\"_buildTree\",value:function(){this.buildTree()}},{kind:\"method\",key:\"_calculateDuration\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=0;for(var n in this.children){var i=this.children[n];if(!0===t&&!0===i.leaf.constructor.isGroup&&i.leaf._calculateDuration(!0),\"dynamic\"===i.leaf.duration){e=\"dynamic\";break}i.position+i.leaf.duration>e&&(e=i.position+i.leaf.duration)}return e!==this.calculatedDuration&&(this.calculatedDuration=e,!0)}},{kind:\"method\",key:\"_rebuildTree\",value:function(){for(var t in this.children){var e=this.children[t];!0===e.leaf.passive&&this.removeIncident(e.id)}this.passiveAddition=!0,this.buildTree(),this.passiveAddition=!1}},{kind:\"method\",key:\"buildTree\",value:function(){}},{kind:\"get\",key:\"duration\",value:function(){return\"dynamic\"===this.calculatedDuration?this.calculatedDuration:m(l(n.prototype),\"duration\",this)}},{kind:\"set\",key:\"duration\",value:function(t){g(l(n.prototype),\"duration\",t,this,!0)}},{kind:\"method\",key:\"manageEditAttrProps\",value:function(t,e){var n=this.parentNode,i=n.getLeafPosition(this.id),r=JSON.parse(JSON.stringify(this[e]));this[e]=t,n.removeIncident(this.id),this._rebuildTree();var s=n.addIncident(this,i);return s.result||(this[e]=r,this._rebuildTree(),n.addIncident(this,i)),s}},{kind:\"method\",key:\"detachFromParent\",value:function(){m(l(n.prototype),\"detachFromParent\",this).call(this),this.inheritedSelector=null}},{kind:\"get\",key:\"inheritedSelector\",value:function(){return this._inheritedSelector}},{kind:\"set\",key:\"inheritedSelector\",value:function(t){for(var e in this._inheritedSelector=t,this.children){this.children[e].leaf.inheritedSelector=this.selector()}}},{kind:\"get\",key:\"selectorToPassToChildren\",value:function(){return this.selector()}},{kind:\"method\",key:\"exportDefinition\",value:function(){var t={ClassName:this.constructor.ClassName,version:this.constructor.version,plugin:this.constructor.plugin||this.constructor.plugin_npm_name,plugin_npm_name:this.constructor.plugin_npm_name,attrs:this.attrs,props:this.props,incidents:{},duration:this.duration};for(var e in this.children){var n=this.children[e];!0!==n.leaf.passive&&(t.incidents[e]={id:n.id,position:n.position,leaf:n.leaf.exportDefinition()})}return t}},{kind:\"method\",key:\"exportLiveDefinition\",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=JSON.parse(JSON.stringify(this.props));!1===t&&delete e.id;var n={Class:this.constructor,attrs:JSON.parse(JSON.stringify(this.attrs)),props:e,incidents:{}};for(var i in this.children){var r=this.children[i];!0!==r.leaf.passive&&(n.incidents[i]={position:r.position,leaf:r.leaf.exportLiveDefinition(t)})}return n}},{kind:\"method\",key:\"addIncident\",value:function(t,e){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{check:!0};if(t.inheritedSelector=this.selectorToPassToChildren,!0===r.check){var s=m(l(n.prototype),\"checkAddition\",this).call(this,t,e);if(!s.result)return t.inheritedSelector=null,s;if(!0===(i=this.putMessageOnPipe(\"checkForClip\",{},Er,{selfExecute:!0,direction:Ai})).response){var a=t.putMessageOnPipe(\"checkForInvalidSelectors\",{},null,{selfExecute:!0,direction:Pi});if(a.length>0){for(var o=[],u=0;u<a.length;u++)o.push(a[u].response);return{result:!1,errors:o}}}var c=this.putMessageOnPipe(\"checkAddition\",{incident:t,millisecond:e,parentGroupId:this.id},Er,{selfExecute:!0,direction:Ai});if(!c.response.result)return t.inheritedSelector=null,c.response}!0===this.passiveAddition&&(t.passive=!0);var h=this.addChild(t,e);return h.result||(t.inheritedSelector=null),\"dynamic\"===t.duration&&i&&this._calculateDuration(!0),h}},{kind:\"method\",key:\"moveIncident\",value:function(t,e){var i=t;ei(t)&&(i=t.id);var r=m(l(n.prototype),\"checkEditPosition\",this).call(this,i,e);if(!r.result)return r;var s=e-this.getLeafPosition(i);if(0===s)return{result:!0};var a=this.putMessageOnPipe(\"checkMove\",{id:i,millisecond:e,positionDelta:s,parentGroupId:this.id},Er,{selfExecute:!0,direction:Ai});return a.response.result?this.editPosition(i,e):a.response}},{kind:\"method\",key:\"removeIncident\",value:function(t){var e=t;ei(t)&&(e=t.id);var i=m(l(n.prototype),\"checkRemoveChild\",this).call(this,e);if(!i.result)return i;var r=this.putMessageOnPipe(\"checkDeletion\",{id:e,parentGroupId:this.id},Er,{selfExecute:!0,direction:Ai});return r.response.result?this.removeChild(e):r.response}},{kind:\"method\",key:\"handleCheckForClip\",value:function(t,e){return!!this.hasParent&&this.bypass()}},{kind:\"method\",key:\"handleCheckAddition\",value:function(t,e){return this.hasParent?this.bypass():{result:!0}}},{kind:\"method\",key:\"handleCheckMove\",value:function(t,e){return this.hasParent?this.bypass():{result:!0}}},{kind:\"method\",key:\"handleCheckDeletion\",value:function(t,e){return this.hasParent?this.bypass():{result:!0}}},{kind:\"method\",key:\"handleCheckResize\",value:function(t,e){return this.hasParent?this.bypass():{result:!0}}},{kind:\"method\",key:\"handleSetDurationDynamic\",value:function(t,e){this.calculatedDuration=\"dynamic\",this.putMessageOnPipe(\"setDurationDynamic\",{},\"Groups\",{selfExecute:!1,direction:Ai})}}]}}),Mi),jr=\"-\",Br={isCombo:function(t){return t.incidentClass.isCombo},getItem:function(t,e){return Ft(e.join(\".\"),\"attrs\",t)},getRepeatPosition:function(t,e,n,i){return i*(e||0)+(i+1)*(t||0)+i*n},refersToOwnSelector:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=e;!1===Array.isArray(e)&&(i=e.split(\".\"));var r=this.getItem(t,i.slice(0,2+n));return(\"\"===r.props.selector||void 0===r.props.selector||null===r.props.selector)&&(\"props\"===i[2]||(!this.isCombo(r)||this.refersToOwnSelector(t,i,n+3)))},cascadeSelectors:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"\",i=[],r=0;r<e.length;r++){var s=e[r],a=void 0;if(a=ii(s.props,\"selector\")?\"\".concat(t,\" \").concat(s.props.selector):t,i.push({path:\"\".concat(n).concat(\"\"===n?\"\":\".\").concat(r,\".props.selector\"),value:a}),this.isCombo(s)){var o=this.cascadeSelectors(a,s.attrs.incidents,\"\".concat(n).concat(\"\"===n?\"\":\".\").concat(r,\".attrs.incidents\"));i=i.concat(o)}}return i},createDescriptiveIncidentLikeObject:function(t,e,n,i,r){return{constructor:{Incident:t.incidentClass.targetClass.Incident,plugin_npm_name:t.incidentClass.targetClass.plugin_npm_name,Channel:t.incidentClass.targetClass.Channel,isClip:!1},attrs:i||t.attrs,props:r||t.props,selector:function(){return t.props.selector},id:t.props.id,audioClip:null,audio:\"no\",dynamicDurationValue:null,putMessageOnPipe:function(){},attributesStaggers:e,propsStaggers:n}},parseElementsDynamics:function(t,e,n,i,r){for(var s=\"incidents.\".concat(r,\".attrs\"),a=\"incidents.\".concat(r,\".props\"),o=_n(e),u=_n(n),l=0;l<t.length;l++)if(0===t[l].path.indexOf(s)){var c=t[l].path.substring(s.length+1);o.setValue(c,t[l].values[i])}else if(0===t[l].path.indexOf(a)){var h=t[l].path.substring(a.length+1);u.setValue(h,t[l].values[i])}return{incidentAttrs:o.exportFlattened(),incidentProps:u.exportFlattened()}},getStaggersForChild:function(t,e,n){for(var i=[],r=[],s=0;s<t.length;s++)\"position\"===n&&0===t[s].path.indexOf(\"incidents.\".concat(e,\".\").concat(n))?r.push({path:\"position\",stagger:t[s].stagger}):0===t[s].path.indexOf(\"incidents.\".concat(e,\".\").concat(n))?r.push({path:t[s].path.substring(\"incidents.\".concat(e,\".\").concat(n).length+1),stagger:t[s].stagger}):i.push(t[s]);return{identifiedDynamics:r,remainingDynamics:i}},createElementProxy:function(t,e,n,i,r){for(var s=_n(t),a=this.cascadeSelectors(e,t.attrs.incidents,\"attrs.incidents\"),o=0;o<i.length;o++)s.setValue(\"attrs.\".concat(i[o].path),i[o].values[n]);for(var u=0;u<r.length;u++)s.setValue(\"props.\".concat(r[u].path),r[u].values[n]);for(var l=0;l<a.length;l++)s.setValue(a[l].path,a[l].value);return s}},Rr=function(t){u(n,t);var e=p(n);function n(){return r(this,n),e.apply(this,arguments)}return a(n,[{key:\"parseAttrsDynamicValues\",value:function(t,e){this.childrenStaggers=[];for(var n=0;n<t.attributesStaggers.length;n++)Br.refersToOwnSelector(t,t.attributesStaggers[n].path)?this.staggerAttrs.push({path:t.attributesStaggers[n].path,values:t.attributesStaggers[n].stagger.calculateValues(e,this.initParams)}):this.childrenStaggers.push(t.attributesStaggers[n])}},{key:\"handleRecalcDuration\",value:function(t,e){var i=m(l(n.prototype),\"handleRecalcDuration\",this).call(this,t,e);return this.descriptiveIncident.dynamicDurationValue=1*this.duration,i}},{key:\"lastWish\",value:function(){this.descriptiveIncident.dynamicDurationValue=null,this.descriptiveIncident.putMessageOnPipe(\"setDurationDynamic\",{},\"Groups\",{selfExecute:!1,direction:Ai}),m(l(n.prototype),\"lastWish\",this).call(this)}},{key:\"_createElementIncident\",value:function(t,e,n,i,r,s){for(var a=this,o=Br.createElementProxy(e,n.context.getElementSelectorByMCID(s),i,this.staggerAttrs,this.staggerProps),u=0;u<this.staggerAttrs.length;u++)o.setValue(\"attrs.\".concat(this.staggerAttrs[u].path),this.staggerAttrs[u].values[i]);for(var l=Zi({id:\"\".concat(this.id,\"_element\").concat(jr).concat(i),attrs:{},props:{},Incident:Nr.Incident,plugin_npm_name:Nr.plugin_npm_name,Channel:Nr.Channel,DescriptiveIncident:new Nr}),c=function(t){var e=Zi({id:\"\".concat(a.id,\"_element\").concat(jr).concat(i,\"_repeat\").concat(jr).concat(t),attrs:{},props:{},Incident:Nr.Incident,plugin_npm_name:Nr.plugin_npm_name,Channel:Nr.Channel,DescriptiveIncident:new Nr}),s=a.childrenStaggers;o.attrs.incidents.forEach((function(u,l){var c=Br.parseElementsDynamics(a.staggerAttrs,u.attrs,u.props,i,l),h=c.incidentAttrs,d=c.incidentProps,p=Br.getStaggersForChild(s,l,\"attrs\"),f=Br.getStaggersForChild(p.remainingDynamics,l,\"props\"),m=Br.getStaggersForChild(p.remainingDynamics,l,\"position\");s=f.remainingDynamics,o.setValue(\"attrs.incidents.\".concat(l,\".props.id\"),\"\".concat(a.id,\"_element\").concat(jr).concat(i,\"_repeat\").concat(jr).concat(t,\"_incident\").concat(jr).concat(l));var v=Lr(Br.createDescriptiveIncidentLikeObject(u,p.identifiedDynamics,f.identifiedDynamics,h,d),n),g=u.position;1===m.identifiedDynamics.length&&(g=m.identifiedDynamics[0].stagger.calculateValues(new Array(r),a.initParams)[i]),e.addChild(v,g)})),l.addChild(e,Br.getRepeatPosition(o.props.delay,o.props.hiatus,e.duration,t))},h=0;h<(o.props.repeats||1);h++)c(h);this.addChild(l,0)}}]),n}(tr);function Lr(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(i&&\"off\"===t.audio||!i&&\"only\"===t.audio)return null;if(ii(t.props,\"selector\")&&(!i&&\"~\"===t.props.selector.charAt(0)||i&&\"~\"!==t.props.selector.charAt(0)&&!t.constructor.isClip))return null;if(t.constructor.isClip){if(!ii(t.props,\"selector\")||i)return i?t.audioClip:t.realClip;(n=new nr(t,e)).plugin_channel_class=Ei}else if(t.constructor.isCombo)n=new Rr(t,e);else if(t.constructor.isGroup)for(var r in n=Zi({id:t.id,attrs:t.attrs,props:t.props,Incident:t.constructor.Incident,plugin_npm_name:t.constructor.plugin_npm_name,Channel:t.constructor.Channel,DescriptiveIncident:t}),t.children){var s=Lr(t.children[r].leaf,e);null!==s&&n.addChild(s,t.children[r].position)}else n=new tr(t,e);return n}var Fr=\"@kissmybutton/self-contained-incidents\";function zr(t){return function(){for(var e=0;e<t.length;e++)t[e]()}}var Gr=function(t){u(n,t);var e=p(n);function n(t,i){var s;return r(this,n),(s=e.call(this,t,i)).attrs=t,s.props=i,s.isTheClip=!0,s.blockingWaitings={},s.instantiatedChannels={},s.isHostedClip=!0,s.instantiatedCopiesContexts={},s.instantiatedCopiesUnblockingMethods=[],s.onClipInitialise(),s.runTimeInfo=s.props.runTimeInfo,s.durationSubs=[],s.audioClip=!1,s}return a(n,[{key:\"contextReady\",get:function(){return this.context.contextLoaded}},{key:\"onClipInitialise\",value:function(){}},{key:\"contextLoading\",value:function(){this.context.contextLoaded=!1}},{key:\"contextLoaded\",value:function(){for(var t in this.context.contextLoaded=!0,this.putMessageOnPipe(\"contextLoaded\",{},{},{selfExecute:!1,direction:Pi}),this.instantiatedChannels)this.instantiatedChannels[t].recalcScratchValues();for(var e=0;e<this.instantiatedCopiesUnblockingMethods.length;e++)this.instantiatedCopiesUnblockingMethods[e]();this.unblock()}},{key:\"getElements\",value:function(t){if(null!==this.props.host&&void 0!==this.props.host)return this.context.getElements(t);var e=[];for(var n in this.instantiatedCopiesContexts)for(var i=this.instantiatedCopiesContexts[n].getElements(t),r=0;r<i.length;r++)e.push(i[r]);return e}},{key:\"addContext\",value:function(t){this.instantiatedCopiesContexts[t.clipId]=t.context,t.instantiatedCopiesContexts=this.instantiatedCopiesContexts,this.instantiatedCopiesUnblockingMethods.push(t.unblock);var e=this.putMessageOnPipe(\"addContext\",t,{},{selfExecute:!1,direction:Pi});if(1===Object.keys(this.instantiatedCopiesContexts).length){for(var n in this.instantiatedChannels)this.instantiatedChannels[n].recalcScratchValues(t.clipId);this.context.nonFragmentedContext=t.context}return e}},{key:\"exportConstructionArguments\",value:function(){return{attrs:this.attrs,props:this.props}}},{key:\"_resize\",value:function(t){for(var e in this.instantiatedChannels)this.instantiatedChannels[e]._resize(t);this.setNewDuration(this.duration*t);for(var n=0;n<this.durationSubs.length;n++)this.durationSubs[n](this.duration)}},{key:\"addIncident\",value:function(t){for(var e=this,n=this.putMessageOnPipe(\"addIncident\",{incident:t.incident,millisecond:t.millisecond,parentGroupId:t.parentGroupId,incidentFromDescription:Lr,contextData:{clipId:this.id,context:this.context,instantiatedCopiesContexts:this.instantiatedCopiesContexts},audio:this.audioClip},t.parentGroupId,{selfExecute:!0,direction:Pi}),i={},r=0;r<n.length;r++){var s=n[r].response.getIncidentsByChannel(n[r].positionDelta+t.millisecond);for(var a in s){var o;ii(i,a)||(i[a]=[]),(o=i[a]).push.apply(o,k(s[a]))}}var u=this.checkAddition(i);if(u.result){return{result:!0,execute:function(){u.execute();for(var i=0;i<n.length;i++)for(var r in n[i].responder.addChild(n[i].response,t.millisecond),n[i].responder.putMessageOnPipe(\"recalcDuration\",{},\"Groups\",{selfExecute:!0,direction:Ai}),e.instantiatedCopiesContexts)n[i].response.putMessageOnPipe(\"addContext\",{clipId:r,context:e.instantiatedCopiesContexts[r]},\"ContextAwareIncidents\",{selfExecute:!1,direction:Pi});e._calculateDuration()}}}return u}},{key:\"checkAddition\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"all-or-nothing\",n=!0,i=[],r=[];for(var s in t){ii(this.instantiatedChannels,s)||(this.instantiatedChannels[s]=new t[s][0].incident.plugin_channel_class({runTimeInfo:this.runTimeInfo,context:this.context,subscribe:this.props.subscribe}));var a=this.instantiatedChannels[s].addIncidents(t[s],e);n=n&&a.result,a.result?r.push(a.execute):i=i.concat(a.errors)}return{result:n,errors:i,execute:zr(r)}}},{key:\"moveIncident\",value:function(t){for(var e=this.putMessageOnPipe(\"moveIncident\",{incidentId:t.id,millisecond:t.millisecond,parentGroupId:t.parentGroupId,contextData:{clipId:this.id,context:this.context},audio:this.audioClip},t.parentGroupId,{selfExecute:!0,direction:Pi}),n={},i=0;i<e.length;i++){var r=e[i].response.getIncidentsByChannel(e[i].positionDelta+t.millisecond);for(var s in r){var a;ii(n,s)||(n[s]=[]),(a=n[s]).push.apply(a,k(r[s]))}}var o=this.checkMove(n,t.positionDelta);if(o.result){return{result:!0,execute:function(){o.execute();for(var n=0;n<e.length;n++)e[n].responder.editPosition(e[n].response.id,t.millisecond),e[n].responder.putMessageOnPipe(\"recalcDuration\",{},\"Groups\",{selfExecute:!0,direction:Ai})}}}return o}},{key:\"checkMove\",value:function(t,e){var n=!0,i=[],r=[];for(var s in t){var a=this.instantiatedChannels[s].editIncidents(t[s],e);n=n&&a.result,a.result?r.push(a.execute):i=i.concat(a.errors)}return{result:n,errors:i,execute:zr(r)}}},{key:\"removeIncident\",value:function(t){for(var e=this.putMessageOnPipe(\"removeIncident\",{incidentId:t.id,parentGroupId:t.parentGroupId,contextData:{clipId:this.id,context:this.context},audio:this.audioClip},t.parentGroupId,{selfExecute:!0,direction:Pi}),n={},i=0;i<e.length;i++){var r=e[i].response.getIncidentsByChannel();for(var s in r){var a;ii(n,s)||(n[s]=[]),(a=n[s]).push.apply(a,k(r[s]))}}var o=this.checkDelete(n);if(o.result){return{result:!0,execute:function(){o.execute();for(var t=0;t<e.length;t++)e[t].responder.removeChild(e[t].response.id),e[t].responder.putMessageOnPipe(\"recalcDuration\",{},\"Groups\",{selfExecute:!0,direction:Ai})}}}return o}},{key:\"checkDelete\",value:function(t){var e=!0,n=[],i=[];for(var r in t){var s=this.instantiatedChannels[r].removeIncidents(t[r]);e=e&&s.result,s.result?i.push(s.execute):n=n.concat(s.errors)}return{result:e,errors:n,execute:zr(i)}}},{key:\"resizeIncident\",value:function(t){for(var e=this.putMessageOnPipe(\"resize\",{incidentId:t.id,newSize:t.newSize,fraction:t.fraction,contextData:{clipId:this.id,context:this.context},audio:this.audioClip},t.id,{selfExecute:!1,direction:Pi}),n={},i=0;i<e.length;i++){var r=e[i].response.getIncidentsByChannel(e[i].positionDelta);for(var s in r){var a;ii(n,s)||(n[s]=[]),(a=n[s]).push.apply(a,k(r[s]))}}var o=0;e.length>0&&(o=e[0].positionDelta);var u=this.checkResize(t.fraction,n,o);if(u.result){return{result:!0,execute:function(){u.execute();for(var n=0;n<e.length;n++)e[n].responder.setNewDuration(t.newSize)}}}return u}},{key:\"checkResize\",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!0,r=[],s=[];for(var a in e){var o=Ci(e[a],t,n),u=this.instantiatedChannels[a].checkResizedIncidents(o);i&&(i=u.result),u.result?s.push(u.execute):r=r.concat(u.errors)}return{result:i,errors:r,execute:zr(s)}}},{key:\"context\",get:function(){var t,e;return null!==(e=(t=this.ownContext).contextLoaded)&&void 0!==e||(t.contextLoaded=!0),this.ownContext}},{key:\"getIncidentsByChannel\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e={};return e[Fr]=[{millisecond:t,incident:this,id:this.id}],e}},{key:\"setVolume\",value:function(t){this.volume=parseFloat(t)}},{key:\"_onGetContextOnce\",value:function(t){}},{key:\"handleRecalcDuration\",value:function(t,e){if(this._calculateDuration())for(var n=0;n<this.durationSubs.length;n++)this.durationSubs[n](this.duration);return!0}},{key:\"onProgress\",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!1!==this.contextReady){for(var r in n||(n=this.id),this.instantiatedChannels){var s=this.instantiatedChannels[r];s.moveTo(this.runTimeInfo.currentMillisecond,e,n,i)}this.onAfterProgress(t,e)}else this.setBlock()}},{key:\"onAfterProgress\",value:function(t,e){}},{key:\"flash\",value:function(){for(var t in this.instantiatedChannels){this.instantiatedChannels[t].moveTo(0,this.runTimeInfo.currentMillisecond,this.id,!0)}}},{key:\"subscribeToDurationChange\",value:function(t){this.durationSubs.push(t)}},{key:\"handleSetBlockingWaiting\",value:function(t,e){}},{key:\"handleRemoveBlockingWaiting\",value:function(t,e){}}]),n}(Ni),qr=function(){function t(){r(this,t),this.output=Xn.createGain(),this.gainNode=Xn.createGain(),Xn.createStereoPanner&&(this.pannerNode=Xn.createStereoPanner()),Xn.createStereoPanner?(this.pannerNode.connect(this.gainNode),this.gainNode.connect(this.output),this.input=this.pannerNode):(this.gainNode.connect(this.output),this.input=this.gainNode)}return a(t,[{key:\"connect\",value:function(t){this.output.connect(t)}},{key:\"disconnect\",value:function(){this.output.disconnect()}}]),t}();function Kr(t){for(var e=window.atob(t),n=e.length,i=new Uint8Array(n),r=0;r<n;r++)i[r]=e.charCodeAt(r);return i.buffer}var Wr=/\\[data(-mcid=\"+\\w+\")+\\]/g,Jr=function(){function t(){r(this,t),this.subscribers=[]}return a(t,[{key:\"sub\",value:function(t,e){this.subscribers.push(e)}},{key:\"pub\",value:function(t){for(var e=0;e<this.subscribers.length;e++)this.subscribers[e](t)}}]),t}(),Hr=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;r(this,t),this.totalSources=n.length,this.audioSources={},this.elementsByMCID={};for(var s=function(t){var r=n[t],s={mcid:r.mcid||fi(),id:r.id,src:r.src,classes:r.classes||[],base64:r.base64||!1,pubSub:new Jr,soundLoaded:!1,startValues:r.startValues||{}};if(e.audioSources[s.id]=s,e.elementsByMCID[s.mcid]=s,r.base64)Xn.decodeAudioData(Kr(r.src),(function(t){e._setBuffer(s,t,i)}));else{var a=new XMLHttpRequest;a.open(\"GET\",s.src,!0),a.responseType=\"arraybuffer\",e.soundLoaded=!1,a.onload=function(){Xn.decodeAudioData(a.response,(function(t){e._setBuffer(s,t,i)}),e.onError)},a.send()}},a=0;a<n.length;a++)s(a);this.context={document:document,window:window,rootElement:document.body,unmount:function(){},masterNode:i,audioContext:Xn,getElements:this.getElements.bind(this),getMCID:this.getMCID.bind(this),setMCID:this.setMCID.bind(this),getElementSelectorByMCID:this.getElementSelectorByMCID.bind(this),getElementByMCID:this.getElementByMCID.bind(this)}}return a(t,[{key:\"_setBuffer\",value:function(t,e,n){t.soundLoaded=!0,t.buffer=e,t.audioNodeSet=new qr,t.audioNodeSet.connect(n.input),t.pubSub.pub()}},{key:\"getElementByMCID\",value:function(t){return ii(this.elementsByMCID,t)?this.elementsByMCID[t]:null}},{key:\"getElements\",value:function(t){if(\"~\"!==t.charAt(0)){if(Wr.exec(t)){var e=t.split('\"')[1];return this.elementsByMCID[e]}return[]}if(\"#\"===(t=t.substr(1)).charAt(0))return ii(this.audioSources,t.substr(1))?[this.audioSources[t.substr(1)]]:[];if(\".\"===t.charAt(0)){var n=t.substr(1),i=[];for(var r in this.audioSources)r.classes.indexOf(n)>=0&&i.push(r);return i}}},{key:\"getMCID\",value:function(t){return t.mcid}},{key:\"setMCID\",value:function(t,e){t.mcid=e}},{key:\"getElementSelectorByMCID\",value:function(t){return'[data-mcid=\"'.concat(t,'\"]')}}]),t}(),Ur=function(t){u(i,t);var e=p(i);function i(t,s){var a;r(this,i),(a=e.call(this,t,s)).audioNodeSet=new qr,a.audioNodeSet.connect(Xn.destination);var o=new Hr(a.props.audioSources,a.audioNodeSet);return a.ownContext=n(n({},o.context),{},{isHostedClip:!0,initParams:s.initParams}),a.audioClip=!0,a}return a(i,[{key:\"handleRecalcDuration\",value:function(t,e){m(l(i.prototype),\"handleRecalcDuration\",this).call(this,t,e)&&this.putMessageOnPipe(\"recalcDuration\",{},\"Groups\",{selfExecute:!1,direction:Ai})}},{key:\"onProgress\",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=this.delay+this.calculatedDuration+this.hiatus,a=0===s?0:e%s;0!==e&&0===a&&(a=this.delay+this.calculatedDuration);var o=a-this.delay;if(!(o<0)){o>this.calculatedDuration&&(o=this.calculatedDuration);var u=0===this.calculatedDuration?0:o/this.calculatedDuration;m(l(i.prototype),\"onProgress\",this).call(this,u,o,this.id,r)}}},{key:\"_onGetContextOnce\",value:function(t){this.audioNodeSet.disconnect(),this.parentClipContext=t,this.audioNodeSet.connect(t.masterNode.input)}},{key:\"lastWish\",value:function(){this.audioNodeSet.output.disconnect(),this.audioNodeSet.output.connect(Xn.destination)}},{key:\"setVolume\",value:function(t){this.audioNodeSet.output.gain.value=t}}]),i}(Gr),Zr=function(t){u(n,t);var e=p(n);function n(){return r(this,n),e.apply(this,arguments)}return a(n,[{key:\"onProgress\",value:function(t){var e=this;if(!this.element.soundLoaded)return this.setBlock(\"loading sound\"),this.element.pubSub.sub(this.id,(function(){e.unblock()})),!1;if(\"gain\"===this.attributeKey){var n=(this.targetValue-this.initialValue)*t+this.initialValue;this.element.audioNodeSet.gainNode.gain.value=n}else if(\"pan\"===this.attributeKey){var i=(this.targetValue-this.initialValue)*t+this.initialValue;this.element.audioNodeSet.pannerNode.pan.value=i}}},{key:\"getScratchValue\",value:function(){return\"pan\"===this.attributeKey?ii(this.element.startValues,\"pan\")?this.element.startValues.pan:0:\"gain\"===this.attributeKey?ii(this.element.startValues,\"gain\")?this.element.startValues.gain:1:void 0}}]),n}(Hi),Qr=\"|||\",Xr=function(t){u(n,t);var e=p(n);function n(t){var i;return r(this,n),(i=e.call(this,t)).playingIncidentsIds=[],i.transitioned=!1,t.subscribe(fi(),i._stateChange.bind(h(i)),0,1,!0),i}return a(n,[{key:\"_stateChange\",value:function(t,e){\"paused\"!==e&&\"idle\"!==e&&\"blocked\"!==e||(this._stopPlayingIncidents(),this.transitioned=!0)}},{key:\"_stopPlayingIncidents\",value:function(){for(var t=0;t<this.playingIncidentsIds.length;t++){var e=this.playingIncidentsIds[t].split(Qr);this._incidentById(e[0]).stop(e[1])}this.playingIncidentsIds=[]}},{key:\"moveTo\",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(\"transitional\"===this.runTimeInfo.state||i){this.transitioned=!0,this._stopPlayingIncidents();for(var r=0;r<this.incidents.length;r++){var s=this.incidents[r],a=s.id,o=s.millisecond,u=this._incidentById(a),l=void 0,c=void 0;e<o?(l=0,c=0):e>o+u.duration?(l=1,c=u.duration):l=(c=e-o)/u.duration,u.onProgress(l,c,n,!0)}}else{this.transitioned&&(t=0,this.transitioned=!1);for(var h=t>e,d=this.incidents,p=0;p<d.length;p++){var f=d[p],m=f.millisecond,v=this._incidentById(f.id),g=v.duration,y=m+g,k=\"\".concat(f.id).concat(Qr).concat(n);if(y>t&&y<=e||h){v.stop(n);var b=this.playingIncidentsIds.indexOf(k);b>-1&&this.playingIncidentsIds.splice(b,1)}var x=h?0:t;if(m>=x&&m<e&&y>e){var C=(e-m)/g>=1,I=C?1:(e-m)/g,w=C?g:e-m,E=v.play(I,w,n);E&&this.playingIncidentsIds.push(k)}}this.runTimeInfo.currentMillisecond=e}}}]),n}(ji),Yr=P(null,(function(t){return{F:function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;r(this,e),t(this),this.attrs=n,this.props=i,this.dna=s,this.context=s.context,this.mcid=s.mcid,this.id=i.id||fi(),this.modelId=i.modelId,this.gotContext=!1,this.plugin_channel_class=Xr,this.mc_plugin_npm_name=\"motor-cortex-js-media-playback\",ii(i,\"plugin_channel_class\")&&(this.plugin_channel_class=i.plugin_channel_class),ii(i,\"mc_plugin_npm_name\")&&(this.mc_plugin_npm_name=i.mc_plugin_npm_name),this.hasIncidents=!1,this.autoGenerated=!1,this.onInitialise(n,i)},d:[{kind:\"get\",key:\"selector\",value:function(){return this.props.selector}},{kind:\"get\",key:\"element\",value:function(){return this.context.getElementByMCID(this.mcid)}},{kind:\"method\",decorators:[Ji],key:\"getIncidentsByChannel\",value:function(){}},{kind:\"method\",key:\"_onGetContextOnce\",value:function(){try{if(!0===this.context.fragment)return;this.gotContext||(this.onGetContext(),this.gotContext=!0)}catch(t){yi.error(t),yi.error(this.mcid)}}},{kind:\"method\",key:\"onGetContext\",value:function(){yi.info('Overwritte the \"onGetContext\" method with the code you want to get executed',\"info\")}},{kind:\"method\",key:\"lastWish\",value:function(){}},{kind:\"method\",key:\"onInitialise\",value:function(){yi.info('Overwritte the \"onInialise\" method with the code you want to get executed',\"info\")}},{kind:\"method\",key:\"onProgress\",value:function(t,e){}},{kind:\"method\",key:\"play\",value:function(t){return!0}},{kind:\"method\",key:\"stop\",value:function(){}},{kind:\"method\",decorators:[Vi],key:\"setBlock\",value:function(){}},{kind:\"method\",decorators:[$i],key:\"unblock\",value:function(){}}]}})),ts={npm_name:\"@kissmybutton/motorcortex-soundsystem\",name:\"Internal MotorCortex Soundsystem\",incidents:[{exportable:function(t){u(n,t);var e=p(n);function n(){return r(this,n),e.apply(this,arguments)}return a(n,[{key:\"play\",value:function(t){var e=this;if(!this.element.soundLoaded)return this.setBlock(\"loading sound\"),this.element.pubSub.sub(this.id,(function(){e.unblock()})),!1;var n=0;return ii(this.props,\"startFrom\")&&(n=this.props.startFrom),this.audioNode=Xn.createBufferSource(),this.audioNode.buffer=this.element.buffer,this.audioNode.connect(this.element.audioNodeSet.input),this.audioNode.start(0,(t+n)/1e3),!0}},{key:\"stop\",value:function(){this.audioNode&&this.audioNode.stop()}}]),n}(Yr),name:\"AudioPlayback\"},{exportable:Zr,name:\"AudioEffect\"}],Clip:{exportable:Ur},audio:\"only\"},es=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r(this,t),this.realArray=[],null!=e&&(this.realArray=e)}return a(t,[{key:\"_hasOwnProperty\",value:function(t){return ii(this.realArray,t)}},{key:\"_get\",value:function(t){return this.realArray[t]}},{key:\"_set\",value:function(t,e){this.realArray[t]=e}},{key:\"_keys\",value:function(){return Object.keys(this.realArray)}},{key:\"_delete\",value:function(t){return delete this.realArray[t]}},{key:\"_export\",value:function(){return this.realArray}}]),t}(),ns=function(){function t(e){r(this,t),this.originalArray=e,this.extraArray={},this.addedKeys=[],this.removedKeys=new Set}return a(t,[{key:\"_hasOwnProperty\",value:function(t){return ii(this.originalArray,t)||ii(this.extraArray,t)}},{key:\"_get\",value:function(t){return ii(this.extraArray,t)?this.extraArray[t]:ii(this.originalArray,t)?this.originalArray[t]:void 0}},{key:\"_set\",value:function(t,e){this.extraArray[t]=e,ii(this.originalArray,t)||this.addedKeys.push(t),this.removedKeys.delete(t)}},{key:\"_keys\",value:function(){var t=this,e=Object.keys(this.originalArray);return e.push.apply(e,k(this.addedKeys)),e.filter((function(e){return!t.removedKeys.has(e)}))}},{key:\"_delete\",value:function(t){var e=this.addedKeys.indexOf(t);return e>-1?(this.addedKeys.splice(e),delete this.extraArray[t]):(this.removedKeys.add(t),!0)}},{key:\"_export\",value:function(){for(var t in this.extraArray)this.originalArray[t]=this.extraArray[t];var e,n=E(this.removedKeys);try{for(n.s();!(e=n.n()).done;){var i=e.value;delete this.originalArray[i]}}catch(t){n.e(t)}finally{n.f()}return this.originalArray}}]),t}();function is(t,e,n,i){var r=!1;for(var s in e)ii(n,s)||(r=!0,i[s]=e[s]);return t.animatedAttributeValue=i,r}function rs(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=t[i],a=e._get(s.id);a.setInitialValue(n,r);var o=is(a,a.initialValue,a.originalAnimatedAttributeValue,JSON.parse(JSON.stringify(a.animatedAttributeValue)));o&&(a.lastWish(),a.onGetContext()),o&&i<t.length-1&&rs(t,e,a.animatedAttributeValue,i+1,!1)}var ss=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.lanes={},e.lanes&&(this.lanes=e.lanes),this.comboAttributes={},null!=e.comboAttributes&&(this.comboAttributes=e.comboAttributes),this.belongingLaneKeysByAnimationId={},e.belongingLaneKeysByAnimationId&&(this.belongingLaneKeysByAnimationId=e.belongingLaneKeysByAnimationId),this.incidentsById=new es({}),e.incidentsById&&(this.incidentsById=e.incidentsById)}return a(t,[{key:\"_resize\",value:function(t){for(var e=Object.keys(this.lanes),n=0;n<e.length;n++)for(var i=e[n],r=this.lanes[i],s=0;s<r.length;s++)r[s].millisecond=r[s].millisecond*t}},{key:\"createTestLanesSanbox\",value:function(){var e={lanes:_n(this.lanes),belongingLaneKeysByAnimationId:_n(this.belongingLaneKeysByAnimationId),incidentsById:new ns(this.incidentsById._export())};return this.comboAttributes&&(e.comboAttributes=this.comboAttributes),new t(e)}},{key:\"getLane\",value:function(t,e){return this.lanes[mi(t,e)]}},{key:\"applySandboxChanges\",value:function(t){this.lanes=t.lanes.exportFlattened(),this.belongingLaneKeysByAnimationId=t.belongingLaneKeysByAnimationId.exportFlattened(),this.incidentsById=new es(t.incidentsById._export())}},{key:\"laneExists\",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=mi(t,e);return!!this.lanes.hasOwnProperty(i)||(n&&this.lanes.setValue(i,[]),!1)}},{key:\"getOverlappingAnims\",value:function(t,e,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return Array.from(this.lanes[mi(e,n)]||[]).filter((function(e){var n=t.incident.duration;null!=s&&(n=s);var a=i.incidentsById._get(e.id).duration;return e.id!==t.incident.id&&!r.includes(e.id)&&(e.millisecond>=t.millisecond&&e.millisecond<n+t.millisecond||e.millisecond+a>t.millisecond&&e.millisecond+a<=n+t.millisecond||e.millisecond<t.millisecond&&e.millisecond+a>n+t.millisecond)}))}},{key:\"addElementToLane\",value:function(t,e,n,i){var r=this,s=[],a=mi(t,e);this.incidentsById._set(i.id,i);var o={millisecond:n,id:i.id};this.laneExists(t,e,!0),this.lanes.pushValue(a,o),this.lanes[a].sortBy(\"millisecond\");var u=this.lanes[a],l=this.lanes[a].findIndex((function(t){return t.id===i.id}));return ii(i.id)||this.belongingLaneKeysByAnimationId.setValue(i.id,[]),this.belongingLaneKeysByAnimationId.pushValue(i.id,a),0===l?this.lanes[a].length>1?s.push((function(){i.setInitialValue(r.incidentsById._get(u[1].id).pureInitialValues)})):s.push((function(){i.setInitialValue()})):s.push((function(){i.setInitialValue(r.incidentsById._get(u[l-1].id).animatedAttributeValue)})),ii(this.comboAttributes,e)&&s.push((function(){return rs(u,r.incidentsById,i.initialValue,l)})),l+1<u.length&&s.push((function(){r.incidentsById._get(u[l+1].id).setInitialValue(i.animatedAttributeValue),r.incidentsById._get(u[l+1].id).gotContext&&(r.incidentsById._get(u[l+1].id).lastWish(),r.incidentsById._get(u[l+1].id).onGetContext())})),s}},{key:\"updateLane\",value:function(t,e){for(var n=this,i={},r=0;r<t.length;r++)for(var s=this.belongingLaneKeysByAnimationId[t[r]],a=0;a<s.length;a++){var o=s[a];ii(i,o)||(i[o]={animations:[],lane:this.lanes[o],laneData:di(s[a])}),i[o].animations.push(t[r])}for(var u in i){var l=i[u],c=l.laneData,h=l.lane,d=l.animations,p=k(h);p.sort((function(t,e){return t.millisecond-e.millisecond}));for(var f=ii(this.comboAttributes,c.attribute),m=0;m<h.length;m++)d.includes(h[m].id)&&(h[m].millisecond+=e);h.sort((function(t,e){return t.millisecond-e.millisecond})),this.lanes[u]=h;for(var v=function(t){var e=d[t],i=p.findIndex((function(t){return t.id===e})),r=h.findIndex((function(t){return t.id===e}));if(i===r&&r<=1)return\"continue\";var s=n.incidentsById._get(h[r].id);if(i+1<h.length)if(0===i)if(f)rs(h,n.incidentsById,s.pureInitialValues,0,!0);else{var a=n.incidentsById._get(p[1].id);a.setInitialValue(s.pureInitialValues),a.onGetContext()}else if(f){var o=r>i?i:r;rs(h,n.incidentsById,n.incidentsById._get(p[i-1].id).animatedAttributeValue,o,!0)}else n.incidentsById._get(p[i+1].id).setInitialValue(n.incidentsById._get(p[i-1].id).animatedAttributeValue),n.incidentsById._get(p[i+1].id).onGetContext();if(0===r?f?rs(h,n.incidentsById,n.incidentsById._get(p[0].id).pureInitialValues,r,!0):(s.setInitialValue(n.incidentsById._get(p[0].id).pureInitialValues),s.onGetContext()):f?rs(h,n.incidentsById,n.incidentsById._get(h[r-1].id).animatedAttributeValue,r,!0):(s.setInitialValue(n.incidentsById._get(h[r-1].id).animatedAttributeValue),s.onGetContext()),r+1>=h.length)return\"continue\";if(f)return rs(h,n.incidentsById,s.animatedAttributeValue,r+1,!0),\"continue\";var u=n.incidentsById._get(h[r+1].id);u.setInitialValue(s.animatedAttributeValue),u.onGetContext()},g=0;g<d.length;g++)v(g)}}},{key:\"deleteAnimations\",value:function(t){for(var e={},i=0;i<t.length;i++){for(var r=t[i],s=this.belongingLaneKeysByAnimationId[r],a=0;a<s.length;a++){for(var o=this.lanes[s[a]],u=-1,l=0;l<o.length;l++)if(o[l].id===r){u=l;break}for(var c=n({},o[u]),h=this.incidentsById._get(c.id),d=di(s[a]),p=[],f=0;f<o.length;f++)o[f].id!==r&&p.push(o[f]);if(this.lanes[s[a]]=p,0!==(o=this.lanes[s[a]]).length){e[s[a]]=di(s[a]);var m=this.incidentsById._get(c.id).pureInitialValues;if(!(u>=o.length||!1===m))if(ii(this.comboAttributes,d.attribute))rs(o,this.incidentsById,m,u,!0);else{var v=this.incidentsById._get(o[u].id);v.setInitialValue(m),v.onGetContext()}}else h.onProgress(0,0),delete this.lanes[s[a]],ii(e,s[a])&&delete e[s[a]]}delete this.belongingLaneKeysByAnimationId[t[i]]}return e}},{key:\"recalcScratchValues\",value:function(t){for(var e=Object.keys(this.lanes),n=0;n<e.length;n++){var i=e[n],r=this.lanes[i];if(r.length>0){var s=this.incidentsById._get(r[0].id),a=s.getScratchValue(t),o=di(i);ii(this.comboAttributes,o.attribute)?rs(r,this.incidentsById,a,0,!0):s.setInitialValue(a),s.lastWish(),s.onGetContext()}}}}]),t}(),as=function(t){u(i,t);var e=p(i);function i(t){var n;return r(this,i),(n=e.call(this,t)).comboAttributes={},n.fixedAttributeName=\"_\",null!=t.comboAttributes&&(n.comboAttributes=t.comboAttributes),n.LanesHandler=new ss({comboAttributes:n.comboAttributes}),n}return a(i,[{key:\"setComboAttributes\",value:function(t){this.comboAttributes=t,this.LanesHandler=new ss({comboAttributes:this.comboAttributes})}},{key:\"lanes\",get:function(){return this.LanesHandler.lanes}},{key:\"incidentsById\",get:function(){return this.LanesHandler.incidentsById}},{key:\"_resize\",value:function(t){this.LanesHandler._resize(t)}},{key:\"checkAddition\",value:function(t){for(var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"all-or-nothing\",i=this.LanesHandler.createTestLanesSanbox(),r=[],s=[],a=[],o=function(n){var o=!1,u=t[n],l=u.incident,c=l.mcid,h=l.attribute||e.fixedAttributeName;i.laneExists(c,h),r.push({mcid:c,attribute:h});var d=i.getOverlappingAnims(u,c,h);if(d.length>0&&(o=!0,a.push({type:\"unauthorised, overlapping incidents on the same element\",meta:{element_mcid:c,attribute:h,incident:u,overlappingAnims:d}})),!o){var p=i.addElementToLane(c,h,u.millisecond,l);s.push((function(){for(var t=0;t<p.length;t++)p[t]();l._onGetContextOnce()}))}},u=0;u<t.length;u++)o(u);if(a.length>0&&\"all-or-nothing\"===n)return{result:!1,errors:a};var l=this.LanesHandler,c=function(){for(var t=0;t<r.length;t++){var e=mi(r[t].mcid,r[t].attribute),n=i.lanes[e].exportFlattened();n.sort((function(t,e){return t.millisecond-e.millisecond})),i.lanes.setValue(e,n)}for(var a=0;a<s.length;a++)s[a]();l.applySandboxChanges(i)};return{result:!0,errors:a,execute:c}}},{key:\"checkEdit\",value:function(t,e){for(var i=[],r=0;r<t.length;r++)i.push(t[r].id);for(var s=this.LanesHandler.createTestLanesSanbox(),a=[],o=0;o<t.length;o++)for(var u=t[o].incident.id,l=t[o].incident.mcid,c=t[o].incident.attribute||this.fixedAttributeName,h=s.getLane(l,c),d=0;d<h.length;d++)if(h[d].id===u){var p=n({},h[d]);p.millisecond+=e,p.incident=s.incidentsById._get(p.id);var f=s.getOverlappingAnims(p,l,c,i);f.length>0&&a.push({type:\"anauthorised, overlapping animations on the same element\",meta:{element_mcid:l,attribute:c,newAnimation:p,overlappingAnims:f}});break}if(a.length>0)return{result:!1,errors:a};var m=this;return{result:!0,execute:function(){m.LanesHandler.updateLane(i,e)}}}},{key:\"checkResizedIncidents\",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[],r=0;r<t.length;r++)i.push(t[r].id);for(var s=this.LanesHandler.createTestLanesSanbox(),a=[],o=0;o<t.length;o++)for(var u=this.LanesHandler.incidentsById._get(t[o].id),l=u.mcid,c=u.attribute||this.fixedAttributeName,h=s.getLane(l,c),d={mcid:l,attribute:c},p=t[o].end-t[o].start,f=0;f<h.length;f++)if(h[f].id===t[o].id){if(!e){var m=h[f],v=n({},m);v.millisecond+=t[o].startDelta,v.incident=s.incidentsById._get(v.id);var g=s.getOverlappingAnims(v,d.mcid,d.attribute,i,p);g.length>0&&a.push({type:\"unauthorized overlapping animations on the same element\",meta:{element_mcid:d.mcid,attribute:d.attribute,newAnimation:v,overlappingAnims:g}})}break}if(a.length>0)return{result:!1,errors:a};var y=this,k=function(){for(var e=0;e<t.length;e++)y.LanesHandler.updateLane([t[e].id],t[e].startDelta)};return{execute:k,result:!0}}},{key:\"checkDelete\",value:function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].id);var i=this;return{result:!0,execute:function(){i.LanesHandler.deleteAnimations(e)}}}},{key:\"recalcScratchValues\",value:function(t){this.LanesHandler.recalcScratchValues(t)}},{key:\"slipIntoLaneForwards\",value:function(t,e,n,i){var r=this,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t.filter((function(t){var i=r.incidentsById._get(t.id).duration+t.millisecond;return i>=e&&i<=n||i>=n&&t.millisecond<=n}));if(0===a.length){if(s&&0===e){var o=this.incidentsById._get(t[0].id);o.onProgress(0,0,i)}return!0}var u=a.length-1,l=this.incidentsById._get(a[u].id),c=a[u].millisecond,h=1,d=l.duration;l.duration+c>n&&(h=(d=n-c)/l.duration),l.onProgress(h,d,i)}},{key:\"slipToLaneBackwards\",value:function(t,e,n,i){var r=this,s=t.filter((function(t){var i=r.incidentsById._get(t.id).duration+t.millisecond;return i<=n&&i>=e||t.millisecond>=e&&t.millisecond<=n||t.millisecond<e&&i>n}));if(0===s.length)return!0;var a=this.incidentsById._get(s[0].id),o=s[0].millisecond,u=0,l=0;o<n&&(u=(n-o)/a.duration,l=n-o),a.onProgress(u,l,i)}},{key:\"moveTo\",value:function(t,e,n){for(var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=Object.keys(this.lanes),s=0;s<r.length;s++){var a=this.lanes[r[s]];t<=e?this.slipIntoLaneForwards(a,t,e,n,i):this.slipToLaneBackwards(a,t,e,n,i)}}}]),i}(Ei);o(as,\"type\",\"attributes\");var os=function(){function t(){r(this,t),this.customEntities={}}return a(t,[{key:\"calcClipDims\",value:function(t){var e={use:!1,width:null,height:null};return ii(t,\"originalDims\")&&null!=t.originalDims.width&&null!=t.originalDims.height?{use:!0,width:t.originalDims.width.number+t.originalDims.width.unit,height:t.originalDims.height.number+t.originalDims.height.unit}:(ii(t,\"containerParams\")&&(ii(t.containerParams,\"width\")&&(e.use=!0,e.width=t.containerParams.width),ii(t.containerParams,\"height\")&&(e.use=!0,e.height=t.containerParams.height)),e)}},{key:\"scalingCalculator\",value:function(t){if(!ii(t,\"containerParams\")||!ii(t,\"originalDims\")||null==t.originalDims.width&&null==t.originalDims.height)return{width:1,height:1};var e=li(t.containerParams),n=null,i=null;return null!==e.width&&null!==t.originalDims.width&&(e.width.unit===t.originalDims.width.unit?n=e.width.number/t.originalDims.width.number:yi.warning(\"containerParams and originalDims width of Incident have different dimensions.\\n          containerParams.width will be ignored\")),null!==e.height&&null!==t.originalDims.height&&(e.height.unit===t.originalDims.height.unit?i=e.height.number/t.originalDims.height.number:yi.warning(\"containerParams and originalDims height of Incident have different dimensions.\\n          containerParams.width will be ignored\")),null===n&&null===i?{width:1,height:1}:(null!==n&&null===i?i=n:null!==i&&null===n&&(n=i),{width:n,height:i})}},{key:\"getElementByMCID\",value:function(t){if(ii(this.customEntities,t))return this.customEntities[t];if(ii(this.elementsByMCID,t))return this.elementsByMCID[t];var e=this.context.rootElement.querySelector(this.getElementSelectorByMCID(t));return this.elementsByMCID[t]=e,e}},{key:\"getElements\",value:function(t){if(null==t||\"\"===t)return[];if(\"!\"===t.charAt(0)){if(\"#\"===(t=t.substr(1)).charAt(0))return[this.customEntities[t.substr(1)]];if(\".\"===t.charAt(0)){var e=[];for(var n in this.customEntities){var i=this.customEntities[n];i.classes.includes(t.substr(1))&&e.push(i)}return e}}return Array.from(this.context.rootElement.querySelectorAll(t))}},{key:\"getMCID\",value:function(t){return t.customEntity?t.id:t.getAttribute($)}},{key:\"setMCID\",value:function(t,e){t.setAttribute($,e)}},{key:\"getElementSelectorByMCID\",value:function(t){return ii(this.customEntities,t)?\"!#\".concat(t):\"[\".concat($,'=\"').concat(t,'\"]')}},{key:\"setCustomEntity\",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return ii(this.customEntities,t)?(yi.error(\"Clip \".concat(this.id,\" already has custom Entity with id: \").concat(t)),!1):(this.customEntities[t]={id:t,entity:e,classes:n,customEntity:!0},!0)}}]),t}();function us(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ni(t))return t(e);var i=Rn(t,{items:{initParams:e},keys:{}},n);return ti(i)?i:i.outerHTML}function ls(t,e){if(\"google-font\"===e.type)return function(t,e){var n=t.createElement(\"link\");return n.setAttribute(\"rel\",\"stylesheet\"),Ii(e.src)?(n.setAttribute(\"href\",e.src),n):(yi.error(\"Only valid google font url are accepted on src of a google-font. \".concat(e.src,\" provided. No font will loaded\")),n)}(t,e);yi.error(\"The provided font type is not one of the supported. \".concat(e.type,\" provided. Aborting loading font.\"));var n=t.createElement(\"link\");return n.setAttribute(\"rel\",\"stylesheet\"),n}var cs=function(t){u(n,t);var e=p(n);function n(){var t,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,n),t=e.call(this),!ei(s))return yi.error(\"ContextHandler expects an object on its constructor. \".concat(i(s),\" passed\")),d(t,!1);if(!ii(s,\"html\"))return yi.error(\"ContextHandler expects the html key on its constructor properties which is missing\"),d(t,!1);if(!ii(s,\"css\"))return yi.error(\"ContextHandler expects the css key on its constructor properties which is missing\"),d(t,!1);if(ii(s,\"initParams\")||yi.info(\"ContextHandler got null initParams\"),!ii(s,\"host\"))return yi.error(\"ContextHandler expects the host key on its constructor properties which is missing\"),d(t,!1);t.isDOM=!0;var a=s.host.ownerDocument;if(!a.getElementById(\"@kissmybutton/motorcortex/iframeContextHandler/css\")){var o=\"\\n            iframe[seamless]{\\n                background-color: transparent;\\n                border: 0px none transparent;\\n                padding: 0px;\\n                overflow: hidden;\\n            }\\n            \",u=a.createElement(\"style\");u.id=\"@kissmybutton/motorcortex/iframeContextHandler/css\",u.type=\"text/css\";var l=a.head||a.getElementsByTagName(\"head\")[0];u.styleSheet?u.styleSheet.cssText=o:u.appendChild(a.createTextNode(o)),l.appendChild(u)}var c=a.createElement(\"iframe\");s.host.appendChild(c);var p=t.scalingCalculator(s),f=t.calcClipDims(s);c.setAttribute(\"seamless\",\"seamless\"),!0===f.use&&(null!==f.width&&c.setAttribute(\"width\",f.width),null!==f.height&&c.setAttribute(\"height\",f.height)),c.style.transform=\"scale(\".concat(p.width,\", \").concat(p.height,\")\"),c.style.transformOrigin=\"top left\",c.style.position=\"absolute\",c.src=\"\";var m=c.contentWindow||c.contentDocument;m.document&&(m=m.document),m.write(us(s.html,s.initParams,!0));var v=\"\\n        body{\\n            padding:0;\\n            margin:0;\\n        }\\n        \",g=m.createElement(\"style\");g.type=\"text/css\",g.styleSheet?g.styleSheet.cssText=us(s.css,s.initParams)+v:g.appendChild(a.createTextNode(us(s.css,s.initParams)+v));var y=m.head||m.getElementsByTagName(\"head\")[0];if(y.appendChild(g),ii(s,\"fonts\"))for(var k=0;k<s.fonts.length;k++){var b=s.fonts[k],x=ls(m,b);y.appendChild(x)}return t.rootElement=c,m.close(),t.context={document:m,window:c.contentWindow||c,clipContainer:c,rootElement:m.body,unmount:function(){s.host.removeChild(c)},getElements:t.getElements.bind(h(t)),getMCID:t.getMCID.bind(h(t)),setMCID:t.setMCID.bind(h(t)),getElementSelectorByMCID:t.getElementSelectorByMCID.bind(h(t)),getElementByMCID:t.getElementByMCID.bind(h(t)),setCustomEntity:t.setCustomEntity.bind(h(t))},t.elementsByMCID={},t}return n}(os),hs=function(t){u(n,t);var e=p(n);function n(){var t,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,n),t=e.call(this),!ei(s))return yi.error(\"ContextHandler expects an object on its constructor. \".concat(i(s),\" passed\")),d(t);if(!ii(s,\"html\"))return yi.error(\"ContextHandler expects the html key on its constructor properties which is missing\"),d(t);if(!ii(s,\"css\"))return yi.error(\"ContextHandler expects the css key on its constructor properties which is missing\"),d(t);if(!ii(s,\"host\"))return yi.error(\"ContextHandler expects the host key on its constructor properties which is missing\"),d(t);t.isDOM=!0;var a=s.host.shadowRoot;a||(a=s.host.attachShadow({mode:\"open\"}));var o=document.createElement(\"div\"),u=t.scalingCalculator(s),l=t.calcClipDims(s);o.setAttribute(\"data-motorocortex-container\",\"true\"),!0===l.use&&(null!==l.width&&(o.style.width=l.width),null!==l.height&&(o.style.height=l.height)),o.style.transform=\"scale(\".concat(u.width,\", \").concat(u.height,\")\"),o.style.transformOrigin=\"top left\",o.style.position=\"absolute\",o.style.overflow=\"hidden\",o.innerHTML=us(s.html,s.initParams,!0),a.appendChild(o);var c=document.createElement(\"slot\");a.appendChild(c);var p=document.createElement(\"style\");if(p.type=\"text/css\",p.styleSheet?p.styleSheet.cssText=us(s.css,s.initParams):p.appendChild(document.createTextNode(\"[data-motorocortex-container] { all: initial; }\"+us(s.css,s.initParams))),a.appendChild(p),t.fontTags=[],ii(s,\"fonts\"))for(var f=0;f<s.fonts.length;f++){var m=s.fonts[f],v=ls(document,m);document.getElementsByTagName(\"head\")[0].appendChild(v),t.fontTags.push(v)}return o.style.overflow=\"hidden\",t.rootElement=o,t.context={document:document,window:window,clipContainer:t.rootElement,rootElement:o,unmount:function(){try{a.innerHTML=\"\";for(var t=0;t<this.fontTags.length;t++)document.getElementsByTagName(\"head\")[0].removeChild(this.fontTags[t])}catch(t){yi.warning(\"The element of the Clip to be removed seems not to exist any more\")}},getElements:t.getElements.bind(h(t)),getMCID:t.getMCID.bind(h(t)),setMCID:t.setMCID.bind(h(t)),getElementSelectorByMCID:t.getElementSelectorByMCID.bind(h(t)),getElementByMCID:t.getElementByMCID.bind(h(t)),setCustomEntity:t.setCustomEntity.bind(h(t))},t.elementsByMCID={},t}return n}(os),ds=function(t){u(i,t);var e=p(i);function i(){var t,s,a,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r(this,i),null===u?(s={},a=o):(s=o,a=u),t=e.call(this,s,a),a=n(n({},a),{},{html:\"\"!==t.html?t.html:a.html,css:\"\"!==t.css?t.css:a.css,fonts:t.fonts.length>0?t.fonts:a.fonts});var l=N;t.clipType=l;var c=new(document.head.createShadowRoot||document.head.attachShadow?hs:cs)(a);return t.ownContext=n(n({},c.context),{},{isHostedClip:t.isHostedClip,initParams:a.initParams}),t.iframe=c.iframeElement,t.forceExportIncidents=!0,t.onAfterRender(),t}return a(i,[{key:\"onAfterRender\",value:function(){}},{key:\"html\",get:function(){return\"\"}},{key:\"css\",get:function(){return\"\"}},{key:\"fonts\",get:function(){return[]}},{key:\"rootElement\",get:function(){return this.context.clipContainer}},{key:\"exportConstructionArguments\",value:function(){return{attrs:this.attrs,props:n(n({},this.props),{},{host:void 0,html:!0===this.DescriptiveIncident.constructor.customClip?\"\":this.context.rootElement.innerHTML})}}},{key:\"setCustomEntity\",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.context.setCustomEntity(t,e,n)}}]),i}(Gr),ps=function(t){u(s,t);var e=p(s);function s(){var t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,s),t=e.call(this);var o=n({},a);if(!ei(o))return yi.error(\"HTMLFragmentContextHandler expects an object on its constructor. \".concat(i(o),\" passed\")),d(t,!1);ii(o,\"html\")||(o.html=\"\"),t.isDOM=!0;var u=document.createDocumentFragment(),l=document.createElement(\"div\");return ii(o,\"containerParams\")&&(ii(o,\"width\")&&(l.style.width=o.containerParams.width),ii(o,\"height\")&&(l.style.height=o.containerParams.height)),l.innerHTML=us(o.html,o.initParams,!0),u.appendChild(l),l.style.overflow=\"hidden\",t.rootElement=l,t.context={document:document,window:window,clipContainer:t.rootElement,rootElement:l,unmount:function(){o.host.removeChild(u)},getElements:t.getElements.bind(h(t)),getMCID:t.getMCID.bind(h(t)),setMCID:t.setMCID.bind(h(t)),getElementSelectorByMCID:t.getElementSelectorByMCID.bind(h(t)),getElementByMCID:t.getElementByMCID.bind(h(t)),setCustomEntity:t.setCustomEntity.bind(h(t)),fragment:!0},t.elementsByMCID={},t}return s}(os),fs=function(t){u(i,t);var e=p(i);function i(){var t,s,a,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r(this,i),null===u?(s={},a=o):(s=o,a=u),t=e.call(this,s,a);var l=new ps(n(n({},a),{},{html:ii(a,\"html\")?a.html:t.html,css:ii(a,\"css\")?a.css:t.css,fonts:ii(a,\"fonts\")?a.fonts:t.fonts}));return t.ownContext=n(n({},l.context),{},{isHostedClip:!1}),t.iframe=l.iframeElement,t.forceExportIncidents=!0,t.onDOMCLipInitialise(),t}return a(i,[{key:\"exportConstructionArguments\",value:function(){return{attrs:this.attrs,props:n(n({},this.props),{},{html:this.context.rootElement.innerHTML})}}},{key:\"onDOMCLipInitialise\",value:function(){}},{key:\"rootElement\",get:function(){return this.context.clipContainer}}]),i}(Gr),ms=function(){function t(){r(this,t),this.isNullClip=!0}return a(t,[{key:\"duration\",get:function(){return 0}},{key:\"addIncident\",value:function(){return{result:!0,execute:function(){}}}},{key:\"moveIncident\",value:function(){return{result:!0,execute:function(){}}}},{key:\"removeIncident\",value:function(){return{result:!0,execute:function(){}}}},{key:\"resizeIncident\",value:function(){return{result:!0,execute:function(){}}}},{key:\"getIncidentsByChannel\",value:function(){return{}}},{key:\"flash\",value:function(){}},{key:\"_resize\",value:function(){}},{key:\"onProgress\",value:function(){}}]),t}(),vs=function(){function t(e){r(this,t),this.runTimeInfo={currentMillisecond:0,state:\"transitional\"},this.id=fi(),this.realClip=e.descriptiveIncident.realClip;var i=e.descriptiveIncident.realClip.exportConstructionArguments(),s=n(n({},i.props),{},{selector:void 0,host:e.host,id:this.id});this.ownClip=new e.descriptiveIncident.constructor.Incident(i.attrs,s),e.descriptiveIncident.realClip.addContext({clipId:this.id,context:this.ownClip.context,synchronize:e.synchronize,runTimeInfo:this.runTimeInfo},!0)}return a(t,[{key:\"onProgress\",value:function(t,e){for(var n in this.realClip.instantiatedChannels){this.realClip.instantiatedChannels[n].moveTo(this.runTimeInfo.currentMillisecond,e,this.id,!0)}this.runTimeInfo.currentMillisecond=e}}]),t}();function gs(){return{result:!0}}function ys(t,e){return new Proxy(t,{get:function(t,n){return ni(t[n])?gs:\"nonBlockingErrorClip\"===n||(\"errors\"===n?e:t[n])}})}var ks=P(null,(function(t,e){var i=function(e){u(s,e);var i=p(s);function s(e){var a,o,u,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(r(this,s),null===l?(o={},u=e):(o=e,u=l),a=i.call(this,o,u),t(h(a)),a.mustHaveNullClip=!1,a.initParams=u.initParams||{},ii(u,\"initParamsValidationRules\")){var c=bi(u.initParamsValidationRules,a.initParams,\"Error on initParams validation\");if(!c.result)return yi.error(\"Clip initParams validation failed. Switching to non-blocking blank Clip\"),d(a,ys(h(a),c.errors))}var p=ki({props:a.props},xr,a.constructor,a.id);if(!p.result)return d(a,p);a.attributesStaggers=[],a.propsStaggers=[];var f=a.setupDynamicValues();a.isTheRootClip=!1,a.isExportableToJSONFormat=!0,Object.prototype.hasOwnProperty.call(u,\"html\")&&ni(u.html)&&(a.isExportableToJSONFormat=!1);var m={id:a.id,attrs:o,props:n(n({},u),{},{html:Object.prototype.hasOwnProperty.call(u,\"html\")?u.html:a.html,css:Object.prototype.hasOwnProperty.call(u,\"css\")?u.css:a.css,fonts:Object.prototype.hasOwnProperty.call(u,\"fonts\")?u.fonts:a.fonts,runTimeInfo:a.runTimeInfo,subscribe:a.subscribe.bind(h(a)),repeats:1,delay:0,hiatus:0}),plugin_npm_name:a.constructor.plugin_npm_name,Channel:a.constructor.Channel,DescriptiveIncident:h(a)};if(a.audio=\"on\",Object.prototype.hasOwnProperty.call(a.constructor,\"audio\")&&(a.audio=a.constructor.audio),Object.prototype.hasOwnProperty.call(u,\"audio\")&&(a.audio=u.audio),Object.prototype.hasOwnProperty.call(u,\"selector\")&&void 0!==u.selector&&!0!==a.constructor.customClip)m.Incident=fs;else if(Object.prototype.hasOwnProperty.call(u,\"selector\")&&void 0!==u.selector&&!0===a.constructor.customClip){delete m.props.selector;var v=new fs({html:'<div id=\"clip-container\"></div>'});m.props.host=v.rootElement,m.Incident=a.constructor.Incident}else\"only\"===a.audio&&!0!==a.props.root?a.isTheRootClip=!1:(a.isTheRootClip=!0,a.blockingWaitings={},m.Incident=a.constructor.Incident);if(\"on\"===a.audio||\"off\"===a.audio?ii(f.attrs,\"expression\")||ii(f.props,\"expression\")?(a.mustHaveNullClip=!0,a.realClip=new ms):a.realClip=Zi(m):a.realClip=new ms,\"on\"===a.audio||\"only\"===a.audio){var g={id:a.id,attrs:{},props:{audioSources:Object.prototype.hasOwnProperty.call(u,\"audioSources\")?u.audioSources:a.audioSources,runTimeInfo:a.runTimeInfo,subscribe:a.subscribe.bind(h(a)),hiatus:a.hiatus,delay:a.delay,repeats:a.repeats,initParams:a.initParams},plugin_npm_name:a.constructor.plugin_npm_name,Channel:a.constructor.Channel,Incident:Ur,DescriptiveIncident:h(a)};a.audioClip=Zi(g)}else a.audio=\"off\",a.audioClip=new ms;return a.dynamicDurationValue=null,a.passiveAddition=!0,a._buildTree(),a.passiveAddition=!1,a.constructor.isAnimation&&Object.prototype.hasOwnProperty.call(a.props,\"duration\")&&a.resize(a.duration),a}return s}(e);return{F:i,d:[{kind:\"field\",static:!0,key:\"isClip\",value:function(){return!0}},{kind:\"field\",static:!0,key:\"Incident\",value:function(){return ds}},{kind:\"field\",static:!0,key:\"plugin_npm_name\",value:function(){return\"@kissmybutton/self-contained-incidents\"}},{kind:\"field\",static:!0,key:\"version\",value:function(){return ir}},{kind:\"field\",static:!0,key:\"Channel\",value:function(){return ji}},{kind:\"field\",static:!0,key:\"ClassName\",value:function(){return\"HTMLClip\"}},{kind:\"field\",static:!0,key:\"propsValidationRules\",value:function(){return xr}},{kind:\"get\",key:\"selectorToPassToChildren\",value:function(){return null}},{kind:\"get\",key:\"inheritedSelector\",value:function(){return this._inheritedSelector}},{kind:\"set\",key:\"inheritedSelector\",value:function(t){this._inheritedSelector=t}},{kind:\"get\",key:\"html\",value:function(){return\"\"}},{kind:\"get\",key:\"css\",value:function(){return\"\"}},{kind:\"get\",key:\"fonts\",value:function(){return[]}},{kind:\"get\",key:\"audioSources\",value:function(){return[]}},{kind:\"method\",decorators:[$r],key:\"setupDynamicValues\",value:function(){}},{kind:\"method\",key:\"detachFromParent\",value:function(){m(l(i.prototype),\"detachFromParent\",this).call(this),this.mustHaveNullClip&&(this.realClip=new ms)}},{kind:\"get\",key:\"duration\",value:function(){return null!==this.dynamicDurationValue?this.dynamicDurationValue:this.propsStaggers.length>0?\"dynamic\":Object.prototype.hasOwnProperty.call(this.props,\"duration\")?this.repeats*(this.delay+this.props.duration+this.hiatus):m(l(i.prototype),\"duration\",this)}},{kind:\"set\",key:\"duration\",value:function(t){if(0!=this.propsStaggers.length){for(var e=0;e<this.propsStaggers.length;e++)if(\"repeats\"!==this.propsStaggers[e].path){var n=this.propsStaggers[e].stagger.resize(t/this.duration);gi(this.props,this.propsStaggers[e].path,n)}this.dynamicDurationValue=t}else g(l(i.prototype),\"duration\",t,this,!0)}},{kind:\"method\",key:\"systoleDiastole\",value:function(t){this.constructor.isAnimation&&(this.props.duration?this.props.duration*=t:this.props.duration=t*this.calculatedDuration),this.realClip._resize(t),m(l(i.prototype),\"systoleDiastole\",this).call(this,t)}},{kind:\"method\",key:\"exportLiveDefinition\",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=m(l(i.prototype),\"exportLiveDefinition\",this).call(this,t);return this.constructor.isAnimation&&(e.props.duration=this.props.duration?this.props.duration:this.calculatedDuration),ni(this.props.html)&&(e.props.html=this.props.html),ni(this.props.css)&&(e.props.css=this.props.css),e}},{kind:\"method\",key:\"_buildTree\",value:function(){void 0!==this.realClip&&this.buildTree()}},{kind:\"method\",key:\"resize\",value:function(t){if(\"dynamic\"===this.duration)return{result:!1,reason:\"Incidents with dynamic duration can't be resized. Once the Incident enters a Clip it'll become resizable\"};var e=t/this.duration;return this.realClip._resize(e),this.audioClip._resize(e),this.duration=t,this.constructor.isAnimation&&(this.props.duration?this.props.duration*=e:this.props.duration=this.calculatedDuration),this.putMessageOnPipe(\"recalcDuration\",{},\"Groups\",{selfExecute:!1,direction:Ai}),this.putMessageOnPipe(\"flash\",{},\"RootClip\",{selfExecute:!0,direction:Ai}),{result:!0}}},{kind:\"method\",key:\"manageEditAttrProps\",value:function(t,e){return{result:!1,errors:[\"Clips attributes and properties can not be edited\"]}}},{kind:\"method\",key:\"handleCheckForClip\",value:function(t,e){return!0}},{kind:\"method\",key:\"handleGetElements\",value:function(t,e){return this.realClip.getElements(e.selector)}},{kind:\"method\",key:\"handleCheckAddition\",value:function(t,e){var n=this.realClip.addIncident(e),i=this.audioClip.addIncident(e);return!0===n.result&&!0===i.result?(n.execute(),i.execute(),this.putMessageOnPipe(\"flash\",{},\"RootClip\",{selfExecute:!0,direction:Ai}),{result:!0}):n}},{kind:\"method\",key:\"handleCheckMove\",value:function(t,e){var n=this.realClip.moveIncident(e),i=this.audioClip.moveIncident(e);return!0===n.result&&!0===i.result?(n.execute(),i.execute(),this.putMessageOnPipe(\"flash\",{},\"RootClip\",{selfExecute:!0,direction:Ai}),{result:!0}):n}},{kind:\"method\",key:\"handleCheckDeletion\",value:function(t,e){var n=this.realClip.removeIncident(e),i=this.audioClip.removeIncident(e);return!0===n.result&&!0===i.result?(n.execute(),i.execute(),this.putMessageOnPipe(\"flash\",{},\"RootClip\",{selfExecute:!0,direction:Ai}),{result:!0}):n}},{kind:\"method\",key:\"handleCheckResize\",value:function(t,e){var n=this.realClip.resizeIncident(e),i=this.audioClip.resizeIncident(e);return!0===n.result&&!0===i.result?(n.execute(),i.execute(),this.putMessageOnPipe(\"flash\",{},\"RootClip\",{selfExecute:!0,direction:Ai}),{result:!0}):n}},{kind:\"method\",key:\"handleFlash\",value:function(t,e){if(!this.isTheRootClip)return this.bypass();this.flash()}},{kind:\"method\",key:\"exportDefinition\",value:function(){var t=m(l(i.prototype),\"exportDefinition\",this).call(this);return this.constructor.isAnimation&&(t.props.duration=this.props.duration?this.props.duration:this.calculatedDuration),t}},{kind:\"method\",key:\"handleSetBlock\",value:function(t,e){if(!this.isTheRootClip)return this.bypass();\"transitional\"!==this.runTimeInfo.state&&(\"blocked\"!==this.runTimeInfo.state&&(this.statusBeforeBlock=this.runTimeInfo.state),this.blockingWaitings[e.id]=e,this.block())}},{kind:\"method\",key:\"handleUnBlock\",value:function(t,e){if(!this.isTheRootClip)return this.bypass();Object.prototype.hasOwnProperty.call(this.blockingWaitings,e.id)&&(delete this.blockingWaitings[e.id],0===Object.keys(this.blockingWaitings).length&&(\"playing\"===this.statusBeforeBlock?(this.previousTimeStamp=-1,this.play()):this.arm()))}},{kind:\"method\",key:\"stop\",value:function(){m(l(i.prototype),\"stop\",this).call(this),this.blockingWaitings={}}},{kind:\"method\",key:\"onProgress\",value:function(t,e){this.realClip.onProgress(t,e),this.audioClip.onProgress(t,e)}},{kind:\"method\",key:\"paste\",value:function(t){return this.isTheRootClip?new vs({host:t,descriptiveIncident:this}):null}},{kind:\"method\",key:\"flash\",value:function(){this.realClip.flash()}},{kind:\"method\",key:\"setVolume\",value:function(t){return t<0||t>1?{result:!1,errors:[{type:\"invalid volume number\"}]}:\"off\"===this.audio?{result:!1,errors:[{type:\"can not set volume of Clip with audio off\"}]}:(this.audioClip.setVolume(t),{result:!0})}}]}}),function(t){u(n,t);var e=p(n);function n(t,i){var s;return r(this,n),(s=e.call(this,t,i)).runTimeInfo={currentMillisecond:0,state:\"idle\"},s.listeners={},s.previousTimeStamp=-1,s.speed=1,s}return a(n,[{key:\"_setState\",value:function(t){if(t!==this.runTimeInfo.state)for(var e in this.runTimeInfo.state=t,this.putMessageOnPipe(\"setState\",t,\"Clips\",{selfExecute:!1,direction:Pi}),this.listeners){this.listeners[e].funct(this.runTimeInfo.currentMillisecond,t)}}},{key:\"handleSetState\",value:function(t,e){this._setState(e)}},{key:\"play\",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(\"idle\"===this.runTimeInfo.state||\"paused\"===this.runTimeInfo.state||\"armed\"===this.runTimeInfo.state||\"transitional\"===this.runTimeInfo.state||\"blocked\"===this.runTimeInfo.state){if(\"paused\"===this.runTimeInfo.state){var n=(new Date).getTime()-this.pauseMoment;this.previousTimeStamp+=n}this._setState(\"playing\"),this.onPlay(),e||window.requestAnimationFrame((function(e){t.step(e)}))}}},{key:\"pause\",value:function(){\"playing\"===this.runTimeInfo.state&&(this._setState(\"paused\"),this.pauseMoment=(new Date).getTime(),this.onWait())}},{key:\"arm\",value:function(){\"transitional\"!==this.runTimeInfo.state&&\"blocked\"!==this.runTimeInfo.state||this._setState(\"armed\")}},{key:\"complete\",value:function(){this._setState(\"idle\"),this.previousTimeStamp=-1}},{key:\"stop\",value:function(){this._setState(\"transitional\"),this.previousTimeStamp=-1}},{key:\"block\",value:function(){this._setState(\"blocked\"),this.previousTimeStamp=-1}},{key:\"onPlay\",value:function(){}},{key:\"onWait\",value:function(){}},{key:\"playableProgress\",value:function(t,e){if(this.isTheRootClip){for(var n in this.listeners){var i=this.listeners[n];!0!==i.onlyOnStateChange&&(Math.abs(e+i.cavaDelta-this.runTimeInfo.currentMillisecond)>i.threshold?(i.funct(hi(e,i.roundTo),this.runTimeInfo.state),i.cavaDelta=0):i.cavaDelta+=Math.abs(e-this.runTimeInfo.currentMillisecond))}return this.onProgress(t,e),this.runTimeInfo.currentMillisecond=e,!0}return!1}},{key:\"executionSpeed\",set:function(t){this.isTheRootClip&&(this.speed=parseFloat(t))}},{key:\"step\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(\"playing\"===this.runTimeInfo.state){var n=this;-1===this.previousTimeStamp&&(this.previousTimeStamp=t);var i={milliseconds:Math.round(this.runTimeInfo.currentMillisecond+(t-this.previousTimeStamp)*this.speed),fraction:(this.runTimeInfo.currentMillisecond+(t-this.previousTimeStamp)*this.speed)/this.duration};if(i.fraction>=1)return this.playableProgress(1,this.duration),void this.complete();if(i.fraction<0)return this.playableProgress(0,0),void this.complete();this.playableProgress(i.fraction,i.milliseconds),this.previousTimeStamp=t,e||window.requestAnimationFrame(n.step.bind(n))}}},{key:\"subscribe\",value:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n||(n=0),i||(i=1),this.listeners[t]={funct:e,threshold:n,roundTo:i,cavaDelta:0,onlyOnStateChange:r}}},{key:\"unsubscribe\",value:function(t){ii(this.listeners,t)&&delete this.listeners[t]}},{key:\"subscribeToDurationChange\",value:function(t){return!!this.isTheRootClip&&(this.realClip.subscribeToDurationChange(t),!0)}}]),n}(Nr)),bs=function(t){u(n,t);var e=p(n);function n(t){var i,s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r(this,n),null===a&&ii(t,\"audioSources\")?(i={},s=t):null===a?(i=t,s={}):(i=t,s=a),s.audio=\"only\",e.call(this,i,s)}return n}(ks),xs=Un.compile({incidents:{type:\"array\",items:{type:\"object\",props:{position:{type:\"amount\",integer:!0,min:0,optional:!1},attrs:{type:\"object\",optional:!1},props:{type:\"object\",optional:!1},incidentClass:{type:\"any\",optional:!1}}}}}),Cs=\"Combos don't allow external addition or manipulation to their Incidents\";function Is(){return yi.error(Cs),{result:!1,errors:[Cs]}}var ws=function(t){u(i,t);var e=p(i);function i(t,n){var s;r(this,i),o(h(s=e.call(this,t,n)),\"addIncident\",Is),o(h(s),\"moveIncident\",Is),o(h(s),\"removeIncident\",Is),o(h(s),\"handleCheckAddition\",vi),o(h(s),\"handleCheckMove\",vi),o(h(s),\"handleCheckDeletion\",vi),o(h(s),\"handleCheckResize\",vi),null!==s.incidents&&(s.attrs.incidents=s.incidents,s.attributesStaggers=[],s.propsStaggers=[],s.setupDynamicValues());var a=ki(s.props,Ir,s.constructor);if(!a.result)return d(s,a);var u=xs(s.attrs);if(u.length>0)return yi.error(\"The provided attributes for Combo Incident are invalid\"),d(s,{result:!1,errors:u});for(var l=[],c=0;c<s.attrs.length;c++){var p=s.attrs[c];if(null!==p.incidentClass.attrsValidationRules){var f=p.incidentClass.attrsValidationMethod(p.attrs);f.length>0&&l.concat(f.errors)}var m=ki(p.props,p.incidentClass.propsValidationRules,p.incidentClass);m.result||l.concat(m.errors)}return l.length>0?d(s,{result:!1,errors:l}):(s.dynamicDurationValue=null,s)}return a(i,[{key:\"incidents\",get:function(){return null}},{key:\"duration\",get:function(){return null!==this.dynamicDurationValue?this.dynamicDurationValue:\"dynamic\"},set:function(t){g(l(i.prototype),\"duration\",t,this,!0)}},{key:\"exportDefinition\",value:function(){var t=n(n({},this.attrs),{},{incidents:function t(e){for(var i=[],r=0;r<e.length;r++){var s=e[r],a=s.attrs;\"Combo\"===s.incidentClass.ClassName&&(a=n(n({},a),{},{incidents:t(a.incidents)})),i.push({ClassName:s.incidentClass.ClassName||s.incidentClass.targetClass.ClassName,plugin_npm_name:s.incidentClass.plugin_npm_name||s.incidentClass.targetClass.plugin_npm_name,version:s.incidentClass.version||s.incidentClass.targetClass.version,attrs:a,props:JSON.parse(JSON.stringify(s.props)),position:s.position})}return i}(this.attrs.incidents)});return{ClassName:this.constructor.ClassName,version:this.constructor.version,plugin:this.constructor.plugin||this.constructor.plugin_npm_name,plugin_npm_name:this.constructor.plugin_npm_name,attrs:t,props:JSON.parse(JSON.stringify(this.props)),incidents:{},duration:this.duration}}},{key:\"exportLiveDefinition\",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.attrs;null!==this.incidents&&(e=n(n({},this.attrs),{},{incidents:void 0}));var i=JSON.parse(JSON.stringify(this.props));return t||delete i.id,{Class:this.constructor,attrs:e,props:i,incidents:{}}}}]),i}(Nr);o(ws,\"isCombo\",!0),o(ws,\"ClassName\",\"Combo\"),o(ws,\"attrsValidationRules\",null),o(ws,\"propsValidationRules\",Ir);var Es=P(null,(function(t,e){var n=function(e){u(i,e);var n=p(i);function i(e,s){var a;r(this,i),void 0===s&&(s=e,e={}),a=n.call(this,s),t(h(a));var o=ki(s,yr,a.constructor,a.id);return o.result?(a.inheritedSelector=null,a.attrs=e,ii(s,\"duration\")||(s.duration=0),a.props=s,a.attributesStaggers=[],a.propsStaggers=[],a.setupDynamicValues(),a.dynamicDurationValue=null,a.passive=!1,a):d(a,o)}return i}(e);return{F:n,d:[{kind:\"field\",static:!0,key:\"Incident\",value:function(){return Hi}},{kind:\"field\",static:!0,key:\"plugin_npm_name\",value:function(){return\"motor-cortex-js-attribute\"}},{kind:\"field\",static:!0,key:\"version\",value:function(){return ir}},{kind:\"field\",static:!0,key:\"Channel\",value:function(){return as}},{kind:\"field\",static:!0,key:\"ClassName\",value:function(){return\"Incident\"}},{kind:\"field\",static:!0,key:\"attrsValidationRules\",value:function(){return null}},{kind:\"field\",static:!0,key:\"propsValidationRules\",value:function(){return yr}},{kind:\"method\",decorators:[Ar],key:\"editAttributes\",value:function(){}},{kind:\"method\",decorators:[Pr],key:\"editProperties\",value:function(){}},{kind:\"method\",decorators:[Tr],key:\"resize\",value:function(){}},{kind:\"method\",decorators:[wr],key:\"clone\",value:function(){}},{kind:\"method\",decorators:[Sr],key:\"selector\",value:function(){}},{kind:\"method\",decorators:[Or],key:\"getElements\",value:function(){}},{kind:\"method\",decorators:[$r],key:\"setupDynamicValues\",value:function(){}},{kind:\"get\",key:\"duration\",value:function(){return null!==this.dynamicDurationValue?this.dynamicDurationValue:this.propsStaggers.length>0?\"dynamic\":m(l(n.prototype),\"duration\",this)}},{kind:\"set\",key:\"duration\",value:function(t){if(this.propsStaggers.length>0){for(var e=0;e<this.propsStaggers.length;e++)if(\"repeats\"!==this.propsStaggers[e].path){var i=this.propsStaggers[e].stagger.resize(t/this.duration);gi(this.props,this.propsStaggers[e].path,i)}this.dynamicDurationValue=t}else g(l(n.prototype),\"duration\",t,this,!0)}},{kind:\"method\",key:\"manageEditAttrProps\",value:function(t,e){var n=this.parentNode,i=n.getLeafPosition(this.id);n.removeIncident(this.id);var r=JSON.parse(JSON.stringify(this[e]));this[e]=t;var s=n.addIncident(this,i);return s.result||(n.removeIncident(this.id),this[e]=r,n.addIncident(this,i)),s}},{kind:\"method\",key:\"detachFromParent\",value:function(){m(l(n.prototype),\"detachFromParent\",this).call(this),this.inheritedSelector=null}},{kind:\"method\",key:\"handleCheckForInvalidSelectors\",value:function(){var t=this.selector();return null===t?{id:this.id,ClassName:this.constructor.ClassName,plugin_npm_name:this.constructor.plugin_npm_name,error:\"null selector\"}:\"&\"===t.charAt(0)?{id:this.id,ClassName:this.constructor.ClassName,plugin_npm_name:this.constructor.plugin_npm_name,error:\"relative selector with no inherited selector\",selector:t}:this.bypass()}},{kind:\"method\",key:\"exportDefinition\",value:function(){return{ClassName:this.constructor.ClassName,version:this.constructor.version,plugin:this.constructor.plugin||this.constructor.plugin_npm_name,plugin_npm_name:this.constructor.plugin_npm_name,attrs:this.attrs,props:this.props}}},{kind:\"method\",key:\"exportLiveDefinition\",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=JSON.parse(JSON.stringify(this.props));return!1===t&&delete e.id,{Class:this.constructor,attrs:JSON.parse(JSON.stringify(this.attrs)),props:e}}}]}}),Ti),As=function(t,e){return t.startsWith(\"on\")&&\"function\"==typeof e},Ps=function(t){return t.substr(2).toLowerCase()},Os=function(t){return\"function\"==typeof t};function Ts(t){var e=document.createElement(\"div\");return e.innerHTML=t.trim(),e.firstChild}function Ss(t,e){if(!e)return t;for(var n=0,i=Object.entries(e);n<i.length;n++){var r=y(i[n],2),s=r[0],a=r[1];if(As(s))t.addEventListener(Ps(s),a);else if(\"class\"===s){var o,u=Array.isArray(a)?a:a.split(\" \");(o=t.classList).add.apply(o,k(u))}else t.setAttribute(s,a)}return t}var _s=function(){function t(e){if(r(this,t),!ii(e,\"incident\"))return yi.error('Journey constructor expects an Incident on its properties on the key \"incident\"'),!1;this.memory=e.capsuleMemory,this.stations=[],this.incident=e.incident,this.startMillisecond=1*this.incident.runTimeInfo.currentMillisecond,this.startState=\"\".concat(this.incident.runTimeInfo.state),this.incident.stop()}return a(t,[{key:\"station\",value:function(t){this.stations.length>0&&this.stations[this.stations.length-1],this.stations.push(t),this.incident.playableProgress(t/this.incident.duration,t)}},{key:\"destination\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=t?this.station(t):t=this.stations[this.stations.length-1],this.incident.playableProgress(t/this.incident.duration,t),\"playing\"===this.startState||\"blocked\"===this.startState&&\"playing\"===this.incident.statusBeforeBlock?this.incident.play():t>=this.incident.duration?this.incident.complete():this.incident.arm(),this.memory.push(this.exportJourneyLog)}},{key:\"exportJourneyLog\",value:function(){return{startMillisecond:this.startMillisecond,startState:this.startState,stations:this.stations}}}]),t}(),Ds=function(){function t(){r(this,t),this.memory=[]}return a(t,[{key:\"startJourney\",value:function(t){return t?new _s({incident:t,capsuleMemory:this.memory}):(yi.error(\"startJourney expects an Incident as an argument\"),!1)}}]),t}();function Ms(t){if(ii(t,\"default\")&&(t=t.default),ii(t,\"npm_name\")||(t.npm_name=\"plugin_\".concat((new Date).getTime())),!function(t){ii(t,\"default\")&&(t=t.default);var e=t.npm_name,n=!0;if(ii(t,\"name\")||yi.notice(\"Notice on plugin \".concat(e,'. A plugin is always good to have its name on\\n        its main.js file, under the key \"name\". It\\'s missing from this plugin')),ii(t,\"version\")||yi.notice(\"Notice on \".concat(e,\". Plugin should always expose its version number on main.js file.\\n      Plugin version is missing\")),ii(t,\"incidents\")||ii(t,\"Clip\")||(yi.error(\"Error on plugin \".concat(e,'. A plugin must expose at least one Incident or a Clip.\\n        Exposed plugin Incidents should be defined on the \"incidents\" key of the main.js file while Clips on the \"Clip\".')),n=!1),ii(t,\"incidents\")&&!Array.isArray(t.incidents))yi.error(\"Error on plugin \".concat(e,'. thePlugin exposed Incidents are defined on the \"incidents\" key of the main.js file in array format.\\n        Please refer to the documentation')),n=!1;else if(ii(t,\"incidents\"))for(var i=0;i<t.incidents.length;i++){var r=t.incidents[i];ei(r.exportable)&&ii(r.exportable,\"default\")&&(r.exportable=r.exportable.default);var s=r.exportable.prototype;s instanceof Nr||s instanceof ks||s instanceof Hi||s instanceof Yr||(yi.error(\"Error on plugin \".concat(e,\". Exportable Incidents by any plugin must extend one of the base classes provided by MotorCortex.\\n                \").concat(r.exportable.constructor.name,\" doesn't.\\nPlease refer to documentation\")),n=!1),s instanceof ks&&(ii(r,\"originalDims\")?!1===ui(r.originalDims).result&&(yi.error(\"Error on plugin \".concat(e,\". Invalid originalDims value passed on \").concat(r.name)),n=!1):yi.log(\"Warning on plugin \".concat(e,'. It\\'s always good to provide originalDims\\nwhen exposing Incidents extending DOMClip. By defining their original dims the users\\nof your plugin will be able to define the desired dimensions of your Incident by\\nthe \"containerParams object\"'))),ii(r,\"name\")||(yi.error(\"Error on plugin \".concat(e,'. Exportable Incidents by any plugin must have the \"name\" key which defines the name of the exported Incident.\\nPlease refer to documentation')),n=!1)}return n}(t))return!1;var e={};if(ii(t,\"Clip\"))if(ii(t.Clip,\"exportable\")){var n,i,s,a=(i=n=function(t){u(n,t);var e=p(n);function n(){return r(this,n),e.apply(this,arguments)}return n}(ks),o(n,\"Incident\",t.Clip.exportable),o(n,\"plugin\",t.npm_name),o(n,\"version\",t.version||\"*\"),o(n,\"audio\",t.audio||\"off\"),o(n,\"customClip\",!0),i);ii(t.Clip,\"attributesValidationRules\")&&(s=Un.compile(t.Clip.attributesValidationRules));e.Clip=function e(n,i){r(this,e);var o,u=n,l=i;if(void 0===i&&(u={},l=n),ii(t.Clip,\"attributesValidationRules\")){var c=s(u);if(c.length>0){for(var h=\"Error on plugin's \\\"\".concat(t.npm_name,'\" Clip instantiation. Errors:'),d=0;d<c.length;d++)h+=\"\\n - \".concat(c[d].message,\". \").concat(c[d].actual,\" provided\");return yi.error(h),yi.log(\"breaking\"),{result:!1,errors:c}}yi.log(\"instantiating\"),(o=new a(u,l)).attrsValidationRules=t.Clip.attributesValidationRules,o.attrsValidationMethod=s}else yi.log(\"instantiating\"),(o=new a(u,l)).attrsValidationRules=null,yi.warning(\"It's always good to provide attributesValidationRules to the exported incidents. \".concat(t.npm_name,\".\").concat(o.constructor.name,\" doesn't provide it\"));return o}}else{var l,c,h=(c=l=function(t){u(n,t);var e=p(n);function n(){return r(this,n),e.apply(this,arguments)}return n}(ks),o(l,\"Incident\",t.Clip),o(l,\"plugin\",t.npm_name),o(l,\"version\",t.version||\"*\"),o(l,\"audio\",t.audio||\"off\"),o(l,\"customClip\",!0),c);yi.warning(\"It's always good to provide attributesValidationRules to the exported incidents. \".concat(t.npm_name,\".Clip doesn't provide it\")),e.Clip=h}var d=as;if(ii(t,\"compositeAttributes\")&&(d=function(e){u(i,e);var n=p(i);function i(e){return r(this,i),e.comboAttributes=t.compositeAttributes,n.call(this,e)}return i}(as)),ii(t,\"incidents\"))for(var f=function(n){var i,s,a=t.incidents[n].exportable,l=null,c=null,h=!1;if(ii(t.incidents[n],\"attributesValidationRules\")){h=!0;var f=JSON.parse(JSON.stringify(t.incidents[n].attributesValidationRules));ii(t.incidents[n].attributesValidationRules,\"animatedAttrs\")&&(f.initialValues=(i=f.animatedAttrs,function t(e){if(ti(e)&&(e={type:e}),e.optional=!0,\"object\"===e.type)for(var n in e.props)t(e.props[n])}(s=JSON.parse(JSON.stringify(i))),s)),c=f,l=Un.compile(f)}var m,v,g=void 0;if(a.prototype instanceof Hi)v=m=function(t){u(n,t);var e=p(n);function n(){return r(this,n),e.apply(this,arguments)}return n}(Es),o(m,\"Incident\",a),o(m,\"plugin_npm_name\",t.npm_name),o(m,\"plugin\",t.npm_name),o(m,\"version\",t.version||\"*\"),o(m,\"ClassName\",t.incidents[n].name),o(m,\"Channel\",d),o(m,\"audio\",t.audio||\"off\"),o(m,\"attrsValidationRules\",c),o(m,\"attrsValidationMethod\",l),g=v;else if(a.prototype instanceof Yr){var y,k;k=y=function(t){u(n,t);var e=p(n);function n(){return r(this,n),e.apply(this,arguments)}return n}(Es),o(y,\"Incident\",a),o(y,\"plugin_npm_name\",\"@kissmybutton/media-playback\"),o(y,\"plugin\",t.npm_name),o(y,\"version\",t.version||\"*\"),o(y,\"ClassName\",t.incidents[n].name),o(y,\"Channel\",Xr),o(y,\"audio\",t.audio?t.audio:\"off\"),o(y,\"attrsValidationRules\",c),o(y,\"attrsValidationMethod\",l),g=k}else if(a.prototype instanceof ks){var b,x;x=b=function(t){u(n,t);var e=p(n);function n(){return r(this,n),e.apply(this,arguments)}return n}(a),o(b,\"plugin\",t.npm_name),o(b,\"version\",t.version||\"*\"),o(b,\"ClassName\",t.incidents[n].name),o(b,\"audio\",t.audio?t.audio:\"on\"),o(b,\"originalDims\",ui(t.incidents[n].originalDims).analysis),o(b,\"attrsValidationRules\",c),o(b,\"attrsValidationMethod\",l),o(b,\"isAnimation\",!0),g=x}else if(a.prototype instanceof Nr){var C,I;I=C=function(t){u(n,t);var e=p(n);function n(){return r(this,n),e.apply(this,arguments)}return n}(a),o(C,\"plugin\",t.npm_name),o(C,\"version\",t.version||\"*\"),o(C,\"ClassName\",t.incidents[n].name),o(C,\"attrsValidationRules\",c),o(C,\"attrsValidationMethod\",l),g=I}Object.defineProperty(e,t.incidents[n].name,{enumerable:!0,get:function(){var e=function e(i,s){var a;if(r(this,e),h){var o=l(i);if(o.length>0){for(var u=\"Error on plugin's \\\"\".concat(t.npm_name,'\" \"').concat(t.incidents[n].name,'\" instantiation. Errors:'),c=0;c<o.length;c++)u+=\"\\n - \".concat(o[c].message,\". \").concat(o[c].actual,\" provided\");return yi.error(u),{result:!1,errors:o}}}return(a=new g(i,s)).result&&!h&&yi.warning(\"It's always good to provide attributesValidationRules to the exported incidents. \".concat(t.npm_name,\" doesn't provide it\")),a};return o(e,\"targetClass\",g),e}})},m=0;m<t.incidents.length;m++)f(m);return e}var Vs={createDOMElement:function(t,e){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];if(Os(t))return t(n(n({},e),{},{children:r}));for(var a=Ss(document.createElement(t),e),o=r.flat(),u=0;u<o.length;u++){var l=o[u];if(!1!==l){var c=ei(l)?l:Ts(l.toString());null!==c&&a.appendChild(c)}}return a.outerHTML},easings:zn,clipFromDefinition:er},$s=Ms(ts),Ns=$s.Clip,js=$s.AudioEffect,Bs=$s.AudioPlayback,Rs={version:ir,Effect:Hi,utils:Vs,HTMLClip:ks,Group:Nr,Combo:ws,BrowserClip:ds,loadPlugin:Ms,AudioClip:bs,CoreAudioClip:Ns,AudioPlayback:Bs,AudioEffect:js,MediaPlayback:Yr,TimeCapsule:Ds};t.AudioClip=bs,t.AudioEffect=js,t.AudioPlayback=Bs,t.BrowserClip=ds,t.Combo=ws,t.CoreAudioClip=Ns,t.Effect=Hi,t.Group=Nr,t.HTMLClip=ks,t.MediaPlayback=Yr,t.TimeCapsule=Ds,t.default=Rs,t.loadPlugin=Ms,t.utils=Vs,Object.defineProperty(t,\"__esModule\",{value:!0})}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9tb3RvcmNvcnRleC51bWQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9tb3RvcmNvcnRleC51bWQuanM/OWEwNiJdLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9lKGV4cG9ydHMpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiZXhwb3J0c1wiXSxlKTplKCh0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikuTW90b3JDb3J0ZXg9e30pfSh0aGlzLChmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYoaT1pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixpKX1yZXR1cm4gbn1mdW5jdGlvbiBuKHQpe2Zvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1tuXT9hcmd1bWVudHNbbl06e307biUyP2UoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtvKHQsZSxpW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTplKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksZSkpfSkpfXJldHVybiB0fWZ1bmN0aW9uIGkodCl7cmV0dXJuKGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0pKHQpfWZ1bmN0aW9uIHIodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHModCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaS5rZXksaSl9fWZ1bmN0aW9uIGEodCxlLG4pe3JldHVybiBlJiZzKHQucHJvdG90eXBlLGUpLG4mJnModCxuKSx0fWZ1bmN0aW9uIG8odCxlLG4pe3JldHVybiBlIGluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbZV09bix0fWZ1bmN0aW9uIHUodCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJmModCxlKX1mdW5jdGlvbiBsKHQpe3JldHVybihsPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9KSh0KX1mdW5jdGlvbiBjKHQsZSl7cmV0dXJuKGM9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9KSh0LGUpfWZ1bmN0aW9uIGgodCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9ZnVuY3Rpb24gZCh0LGUpe2lmKGUmJihcIm9iamVjdFwiPT10eXBlb2YgZXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGgodCl9ZnVuY3Rpb24gcCh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBuLGk9bCh0KTtpZihlKXt2YXIgcj1sKHRoaXMpLmNvbnN0cnVjdG9yO249UmVmbGVjdC5jb25zdHJ1Y3QoaSxhcmd1bWVudHMscil9ZWxzZSBuPWkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBkKHRoaXMsbil9fWZ1bmN0aW9uIGYodCxlKXtmb3IoOyFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSYmbnVsbCE9PSh0PWwodCkpOyk7cmV0dXJuIHR9ZnVuY3Rpb24gbSh0LGUsbil7cmV0dXJuKG09XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuZ2V0P1JlZmxlY3QuZ2V0OmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1mKHQsZSk7aWYoaSl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLGUpO3JldHVybiByLmdldD9yLmdldC5jYWxsKG4pOnIudmFsdWV9fSkodCxlLG58fHQpfWZ1bmN0aW9uIHYodCxlLG4saSl7cmV0dXJuKHY9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3Quc2V0P1JlZmxlY3Quc2V0OmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByLHM9Zih0LGUpO2lmKHMpe2lmKChyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocyxlKSkuc2V0KXJldHVybiByLnNldC5jYWxsKGksbiksITA7aWYoIXIud3JpdGFibGUpcmV0dXJuITF9aWYocj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksZSkpe2lmKCFyLndyaXRhYmxlKXJldHVybiExO3IudmFsdWU9bixPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxlLHIpfWVsc2UgbyhpLGUsbik7cmV0dXJuITB9KSh0LGUsbixpKX1mdW5jdGlvbiBnKHQsZSxuLGkscil7aWYoIXYodCxlLG4saXx8dCkmJnIpdGhyb3cgbmV3IEVycm9yKFwiZmFpbGVkIHRvIHNldCBwcm9wZXJ0eVwiKTtyZXR1cm4gbn1mdW5jdGlvbiB5KHQsZSl7cmV0dXJuIGIodCl8fGZ1bmN0aW9uKHQsZSl7dmFyIG49bnVsbD09dD9udWxsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXXx8dFtcIkBAaXRlcmF0b3JcIl07aWYobnVsbD09bilyZXR1cm47dmFyIGkscixzPVtdLGE9ITAsbz0hMTt0cnl7Zm9yKG49bi5jYWxsKHQpOyEoYT0oaT1uLm5leHQoKSkuZG9uZSkmJihzLnB1c2goaS52YWx1ZSksIWV8fHMubGVuZ3RoIT09ZSk7YT0hMCk7fWNhdGNoKHQpe289ITAscj10fWZpbmFsbHl7dHJ5e2F8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyByfX1yZXR1cm4gc30odCxlKXx8Qyh0LGUpfHx3KCl9ZnVuY3Rpb24gayh0KXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gSSh0KX0odCl8fHgodCl8fEModCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gYih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0fWZ1bmN0aW9uIHgodCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9dFtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT10W1wiQEBpdGVyYXRvclwiXSlyZXR1cm4gQXJyYXkuZnJvbSh0KX1mdW5jdGlvbiBDKHQsZSl7aWYodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIEkodCxlKTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW4mJnQuY29uc3RydWN0b3ImJihuPXQuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uP0FycmF5LmZyb20odCk6XCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP0kodCxlKTp2b2lkIDB9fWZ1bmN0aW9uIEkodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxpPW5ldyBBcnJheShlKTtuPGU7bisrKWlbbl09dFtuXTtyZXR1cm4gaX1mdW5jdGlvbiB3KCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX1mdW5jdGlvbiBFKHQsZSl7dmFyIG49XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmdFtTeW1ib2wuaXRlcmF0b3JdfHx0W1wiQEBpdGVyYXRvclwiXTtpZighbil7aWYoQXJyYXkuaXNBcnJheSh0KXx8KG49Qyh0KSl8fGUmJnQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aCl7biYmKHQ9bik7dmFyIGk9MCxyPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpyLG46ZnVuY3Rpb24oKXtyZXR1cm4gaT49dC5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOnRbaSsrXX19LGU6ZnVuY3Rpb24odCl7dGhyb3cgdH0sZjpyfX10aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9dmFyIHMsYT0hMCxvPSExO3JldHVybntzOmZ1bmN0aW9uKCl7bj1uLmNhbGwodCl9LG46ZnVuY3Rpb24oKXt2YXIgdD1uLm5leHQoKTtyZXR1cm4gYT10LmRvbmUsdH0sZTpmdW5jdGlvbih0KXtvPSEwLHM9dH0sZjpmdW5jdGlvbigpe3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgc319fX1mdW5jdGlvbiBBKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHR8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgaT1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGkpcmV0dXJuIGk7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgZT9lOlN0cmluZyhlKX1mdW5jdGlvbiBQKHQsZSxuLGkpe3ZhciByPU8oKTtpZihpKWZvcih2YXIgcz0wO3M8aS5sZW5ndGg7cysrKXI9aVtzXShyKTt2YXIgYT1lKChmdW5jdGlvbih0KXtyLmluaXRpYWxpemVJbnN0YW5jZUVsZW1lbnRzKHQsby5lbGVtZW50cyl9KSxuKSxvPXIuZGVjb3JhdGVDbGFzcyhmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj1mdW5jdGlvbih0KXtyZXR1cm5cIm1ldGhvZFwiPT09dC5raW5kJiZ0LmtleT09PXMua2V5JiZ0LnBsYWNlbWVudD09PXMucGxhY2VtZW50fSxpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciByLHM9dFtpXTtpZihcIm1ldGhvZFwiPT09cy5raW5kJiYocj1lLmZpbmQobikpKWlmKEQocy5kZXNjcmlwdG9yKXx8RChyLmRlc2NyaXB0b3IpKXtpZihfKHMpfHxfKHIpKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcIkR1cGxpY2F0ZWQgbWV0aG9kcyAoXCIrcy5rZXkrXCIpIGNhbid0IGJlIGRlY29yYXRlZC5cIik7ci5kZXNjcmlwdG9yPXMuZGVzY3JpcHRvcn1lbHNle2lmKF8ocykpe2lmKF8ocikpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwiRGVjb3JhdG9ycyBjYW4ndCBiZSBwbGFjZWQgb24gZGlmZmVyZW50IGFjY2Vzc29ycyB3aXRoIGZvciB0aGUgc2FtZSBwcm9wZXJ0eSAoXCIrcy5rZXkrXCIpLlwiKTtyLmRlY29yYXRvcnM9cy5kZWNvcmF0b3JzfVMocyxyKX1lbHNlIGUucHVzaChzKX1yZXR1cm4gZX0oYS5kLm1hcChUKSksdCk7cmV0dXJuIHIuaW5pdGlhbGl6ZUNsYXNzRWxlbWVudHMoYS5GLG8uZWxlbWVudHMpLHIucnVuQ2xhc3NGaW5pc2hlcnMoYS5GLG8uZmluaXNoZXJzKX1mdW5jdGlvbiBPKCl7Tz1mdW5jdGlvbigpe3JldHVybiB0fTt2YXIgdD17ZWxlbWVudHNEZWZpbml0aW9uT3JkZXI6W1tcIm1ldGhvZFwiXSxbXCJmaWVsZFwiXV0saW5pdGlhbGl6ZUluc3RhbmNlRWxlbWVudHM6ZnVuY3Rpb24odCxlKXtbXCJtZXRob2RcIixcImZpZWxkXCJdLmZvckVhY2goKGZ1bmN0aW9uKG4pe2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5raW5kPT09biYmXCJvd25cIj09PWUucGxhY2VtZW50JiZ0aGlzLmRlZmluZUNsYXNzRWxlbWVudCh0LGUpfSksdGhpcyl9KSx0aGlzKX0saW5pdGlhbGl6ZUNsYXNzRWxlbWVudHM6ZnVuY3Rpb24odCxlKXt2YXIgbj10LnByb3RvdHlwZTtbXCJtZXRob2RcIixcImZpZWxkXCJdLmZvckVhY2goKGZ1bmN0aW9uKGkpe2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9ZS5wbGFjZW1lbnQ7aWYoZS5raW5kPT09aSYmKFwic3RhdGljXCI9PT1yfHxcInByb3RvdHlwZVwiPT09cikpe3ZhciBzPVwic3RhdGljXCI9PT1yP3Q6bjt0aGlzLmRlZmluZUNsYXNzRWxlbWVudChzLGUpfX0pLHRoaXMpfSksdGhpcyl9LGRlZmluZUNsYXNzRWxlbWVudDpmdW5jdGlvbih0LGUpe3ZhciBuPWUuZGVzY3JpcHRvcjtpZihcImZpZWxkXCI9PT1lLmtpbmQpe3ZhciBpPWUuaW5pdGlhbGl6ZXI7bj17ZW51bWVyYWJsZTpuLmVudW1lcmFibGUsd3JpdGFibGU6bi53cml0YWJsZSxjb25maWd1cmFibGU6bi5jb25maWd1cmFibGUsdmFsdWU6dm9pZCAwPT09aT92b2lkIDA6aS5jYWxsKHQpfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLmtleSxuKX0sZGVjb3JhdGVDbGFzczpmdW5jdGlvbih0LGUpe3ZhciBuPVtdLGk9W10scj17c3RhdGljOltdLHByb3RvdHlwZTpbXSxvd246W119O2lmKHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7dGhpcy5hZGRFbGVtZW50UGxhY2VtZW50KHQscil9KSx0aGlzKSx0LmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKCFfKHQpKXJldHVybiBuLnB1c2godCk7dmFyIGU9dGhpcy5kZWNvcmF0ZUVsZW1lbnQodCxyKTtuLnB1c2goZS5lbGVtZW50KSxuLnB1c2guYXBwbHkobixlLmV4dHJhcyksaS5wdXNoLmFwcGx5KGksZS5maW5pc2hlcnMpfSksdGhpcyksIWUpcmV0dXJue2VsZW1lbnRzOm4sZmluaXNoZXJzOml9O3ZhciBzPXRoaXMuZGVjb3JhdGVDb25zdHJ1Y3RvcihuLGUpO3JldHVybiBpLnB1c2guYXBwbHkoaSxzLmZpbmlzaGVycykscy5maW5pc2hlcnM9aSxzfSxhZGRFbGVtZW50UGxhY2VtZW50OmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lW3QucGxhY2VtZW50XTtpZighbiYmLTEhPT1pLmluZGV4T2YodC5rZXkpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEdXBsaWNhdGVkIGVsZW1lbnQgKFwiK3Qua2V5K1wiKVwiKTtpLnB1c2godC5rZXkpfSxkZWNvcmF0ZUVsZW1lbnQ6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W10saT1bXSxyPXQuZGVjb3JhdG9ycyxzPXIubGVuZ3RoLTE7cz49MDtzLS0pe3ZhciBhPWVbdC5wbGFjZW1lbnRdO2Euc3BsaWNlKGEuaW5kZXhPZih0LmtleSksMSk7dmFyIG89dGhpcy5mcm9tRWxlbWVudERlc2NyaXB0b3IodCksdT10aGlzLnRvRWxlbWVudEZpbmlzaGVyRXh0cmFzKCgwLHJbc10pKG8pfHxvKTt0PXUuZWxlbWVudCx0aGlzLmFkZEVsZW1lbnRQbGFjZW1lbnQodCxlKSx1LmZpbmlzaGVyJiZpLnB1c2godS5maW5pc2hlcik7dmFyIGw9dS5leHRyYXM7aWYobCl7Zm9yKHZhciBjPTA7YzxsLmxlbmd0aDtjKyspdGhpcy5hZGRFbGVtZW50UGxhY2VtZW50KGxbY10sZSk7bi5wdXNoLmFwcGx5KG4sbCl9fXJldHVybntlbGVtZW50OnQsZmluaXNoZXJzOmksZXh0cmFzOm59fSxkZWNvcmF0ZUNvbnN0cnVjdG9yOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtdLGk9ZS5sZW5ndGgtMTtpPj0wO2ktLSl7dmFyIHI9dGhpcy5mcm9tQ2xhc3NEZXNjcmlwdG9yKHQpLHM9dGhpcy50b0NsYXNzRGVzY3JpcHRvcigoMCxlW2ldKShyKXx8cik7aWYodm9pZCAwIT09cy5maW5pc2hlciYmbi5wdXNoKHMuZmluaXNoZXIpLHZvaWQgMCE9PXMuZWxlbWVudHMpe3Q9cy5lbGVtZW50cztmb3IodmFyIGE9MDthPHQubGVuZ3RoLTE7YSsrKWZvcih2YXIgbz1hKzE7bzx0Lmxlbmd0aDtvKyspaWYodFthXS5rZXk9PT10W29dLmtleSYmdFthXS5wbGFjZW1lbnQ9PT10W29dLnBsYWNlbWVudCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRHVwbGljYXRlZCBlbGVtZW50IChcIit0W2FdLmtleStcIilcIil9fXJldHVybntlbGVtZW50czp0LGZpbmlzaGVyczpufX0sZnJvbUVsZW1lbnREZXNjcmlwdG9yOmZ1bmN0aW9uKHQpe3ZhciBlPXtraW5kOnQua2luZCxrZXk6dC5rZXkscGxhY2VtZW50OnQucGxhY2VtZW50LGRlc2NyaXB0b3I6dC5kZXNjcmlwdG9yfTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIkRlc2NyaXB0b3JcIixjb25maWd1cmFibGU6ITB9KSxcImZpZWxkXCI9PT10LmtpbmQmJihlLmluaXRpYWxpemVyPXQuaW5pdGlhbGl6ZXIpLGV9LHRvRWxlbWVudERlc2NyaXB0b3JzOmZ1bmN0aW9uKHQpe3ZhciBlO2lmKHZvaWQgMCE9PXQpcmV0dXJuKGU9dCxiKGUpfHx4KGUpfHxDKGUpfHx3KCkpLm1hcCgoZnVuY3Rpb24odCl7dmFyIGU9dGhpcy50b0VsZW1lbnREZXNjcmlwdG9yKHQpO3JldHVybiB0aGlzLmRpc2FsbG93UHJvcGVydHkodCxcImZpbmlzaGVyXCIsXCJBbiBlbGVtZW50IGRlc2NyaXB0b3JcIiksdGhpcy5kaXNhbGxvd1Byb3BlcnR5KHQsXCJleHRyYXNcIixcIkFuIGVsZW1lbnQgZGVzY3JpcHRvclwiKSxlfSksdGhpcyl9LHRvRWxlbWVudERlc2NyaXB0b3I6ZnVuY3Rpb24odCl7dmFyIGU9U3RyaW5nKHQua2luZCk7aWYoXCJtZXRob2RcIiE9PWUmJlwiZmllbGRcIiE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcignQW4gZWxlbWVudCBkZXNjcmlwdG9yXFwncyAua2luZCBwcm9wZXJ0eSBtdXN0IGJlIGVpdGhlciBcIm1ldGhvZFwiIG9yIFwiZmllbGRcIiwgYnV0IGEgZGVjb3JhdG9yIGNyZWF0ZWQgYW4gZWxlbWVudCBkZXNjcmlwdG9yIHdpdGggLmtpbmQgXCInK2UrJ1wiJyk7dmFyIG49QSh0LmtleSksaT1TdHJpbmcodC5wbGFjZW1lbnQpO2lmKFwic3RhdGljXCIhPT1pJiZcInByb3RvdHlwZVwiIT09aSYmXCJvd25cIiE9PWkpdGhyb3cgbmV3IFR5cGVFcnJvcignQW4gZWxlbWVudCBkZXNjcmlwdG9yXFwncyAucGxhY2VtZW50IHByb3BlcnR5IG11c3QgYmUgb25lIG9mIFwic3RhdGljXCIsIFwicHJvdG90eXBlXCIgb3IgXCJvd25cIiwgYnV0IGEgZGVjb3JhdG9yIGNyZWF0ZWQgYW4gZWxlbWVudCBkZXNjcmlwdG9yIHdpdGggLnBsYWNlbWVudCBcIicraSsnXCInKTt2YXIgcj10LmRlc2NyaXB0b3I7dGhpcy5kaXNhbGxvd1Byb3BlcnR5KHQsXCJlbGVtZW50c1wiLFwiQW4gZWxlbWVudCBkZXNjcmlwdG9yXCIpO3ZhciBzPXtraW5kOmUsa2V5Om4scGxhY2VtZW50OmksZGVzY3JpcHRvcjpPYmplY3QuYXNzaWduKHt9LHIpfTtyZXR1cm5cImZpZWxkXCIhPT1lP3RoaXMuZGlzYWxsb3dQcm9wZXJ0eSh0LFwiaW5pdGlhbGl6ZXJcIixcIkEgbWV0aG9kIGRlc2NyaXB0b3JcIik6KHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShyLFwiZ2V0XCIsXCJUaGUgcHJvcGVydHkgZGVzY3JpcHRvciBvZiBhIGZpZWxkIGRlc2NyaXB0b3JcIiksdGhpcy5kaXNhbGxvd1Byb3BlcnR5KHIsXCJzZXRcIixcIlRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIG9mIGEgZmllbGQgZGVzY3JpcHRvclwiKSx0aGlzLmRpc2FsbG93UHJvcGVydHkocixcInZhbHVlXCIsXCJUaGUgcHJvcGVydHkgZGVzY3JpcHRvciBvZiBhIGZpZWxkIGRlc2NyaXB0b3JcIikscy5pbml0aWFsaXplcj10LmluaXRpYWxpemVyKSxzfSx0b0VsZW1lbnRGaW5pc2hlckV4dHJhczpmdW5jdGlvbih0KXtyZXR1cm57ZWxlbWVudDp0aGlzLnRvRWxlbWVudERlc2NyaXB0b3IodCksZmluaXNoZXI6TSh0LFwiZmluaXNoZXJcIiksZXh0cmFzOnRoaXMudG9FbGVtZW50RGVzY3JpcHRvcnModC5leHRyYXMpfX0sZnJvbUNsYXNzRGVzY3JpcHRvcjpmdW5jdGlvbih0KXt2YXIgZT17a2luZDpcImNsYXNzXCIsZWxlbWVudHM6dC5tYXAodGhpcy5mcm9tRWxlbWVudERlc2NyaXB0b3IsdGhpcyl9O3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiRGVzY3JpcHRvclwiLGNvbmZpZ3VyYWJsZTohMH0pLGV9LHRvQ2xhc3NEZXNjcmlwdG9yOmZ1bmN0aW9uKHQpe3ZhciBlPVN0cmluZyh0LmtpbmQpO2lmKFwiY2xhc3NcIiE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcignQSBjbGFzcyBkZXNjcmlwdG9yXFwncyAua2luZCBwcm9wZXJ0eSBtdXN0IGJlIFwiY2xhc3NcIiwgYnV0IGEgZGVjb3JhdG9yIGNyZWF0ZWQgYSBjbGFzcyBkZXNjcmlwdG9yIHdpdGggLmtpbmQgXCInK2UrJ1wiJyk7dGhpcy5kaXNhbGxvd1Byb3BlcnR5KHQsXCJrZXlcIixcIkEgY2xhc3MgZGVzY3JpcHRvclwiKSx0aGlzLmRpc2FsbG93UHJvcGVydHkodCxcInBsYWNlbWVudFwiLFwiQSBjbGFzcyBkZXNjcmlwdG9yXCIpLHRoaXMuZGlzYWxsb3dQcm9wZXJ0eSh0LFwiZGVzY3JpcHRvclwiLFwiQSBjbGFzcyBkZXNjcmlwdG9yXCIpLHRoaXMuZGlzYWxsb3dQcm9wZXJ0eSh0LFwiaW5pdGlhbGl6ZXJcIixcIkEgY2xhc3MgZGVzY3JpcHRvclwiKSx0aGlzLmRpc2FsbG93UHJvcGVydHkodCxcImV4dHJhc1wiLFwiQSBjbGFzcyBkZXNjcmlwdG9yXCIpO3ZhciBuPU0odCxcImZpbmlzaGVyXCIpO3JldHVybntlbGVtZW50czp0aGlzLnRvRWxlbWVudERlc2NyaXB0b3JzKHQuZWxlbWVudHMpLGZpbmlzaGVyOm59fSxydW5DbGFzc0ZpbmlzaGVyczpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT0oMCxlW25dKSh0KTtpZih2b2lkIDAhPT1pKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJGaW5pc2hlcnMgbXVzdCByZXR1cm4gYSBjb25zdHJ1Y3Rvci5cIik7dD1pfX1yZXR1cm4gdH0sZGlzYWxsb3dQcm9wZXJ0eTpmdW5jdGlvbih0LGUsbil7aWYodm9pZCAwIT09dFtlXSl0aHJvdyBuZXcgVHlwZUVycm9yKG4rXCIgY2FuJ3QgaGF2ZSBhIC5cIitlK1wiIHByb3BlcnR5LlwiKX19O3JldHVybiB0fWZ1bmN0aW9uIFQodCl7dmFyIGUsbj1BKHQua2V5KTtcIm1ldGhvZFwiPT09dC5raW5kP2U9e3ZhbHVlOnQudmFsdWUsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITF9OlwiZ2V0XCI9PT10LmtpbmQ/ZT17Z2V0OnQudmFsdWUsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITF9Olwic2V0XCI9PT10LmtpbmQ/ZT17c2V0OnQudmFsdWUsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITF9OlwiZmllbGRcIj09PXQua2luZCYmKGU9e2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCxlbnVtZXJhYmxlOiEwfSk7dmFyIGk9e2tpbmQ6XCJmaWVsZFwiPT09dC5raW5kP1wiZmllbGRcIjpcIm1ldGhvZFwiLGtleTpuLHBsYWNlbWVudDp0LnN0YXRpYz9cInN0YXRpY1wiOlwiZmllbGRcIj09PXQua2luZD9cIm93blwiOlwicHJvdG90eXBlXCIsZGVzY3JpcHRvcjplfTtyZXR1cm4gdC5kZWNvcmF0b3JzJiYoaS5kZWNvcmF0b3JzPXQuZGVjb3JhdG9ycyksXCJmaWVsZFwiPT09dC5raW5kJiYoaS5pbml0aWFsaXplcj10LnZhbHVlKSxpfWZ1bmN0aW9uIFModCxlKXt2b2lkIDAhPT10LmRlc2NyaXB0b3IuZ2V0P2UuZGVzY3JpcHRvci5nZXQ9dC5kZXNjcmlwdG9yLmdldDplLmRlc2NyaXB0b3Iuc2V0PXQuZGVzY3JpcHRvci5zZXR9ZnVuY3Rpb24gXyh0KXtyZXR1cm4gdC5kZWNvcmF0b3JzJiZ0LmRlY29yYXRvcnMubGVuZ3RofWZ1bmN0aW9uIEQodCl7cmV0dXJuIHZvaWQgMCE9PXQmJiEodm9pZCAwPT09dC52YWx1ZSYmdm9pZCAwPT09dC53cml0YWJsZSl9ZnVuY3Rpb24gTSh0LGUpe3ZhciBuPXRbZV07aWYodm9pZCAwIT09biYmXCJmdW5jdGlvblwiIT10eXBlb2Ygbil0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgJ1wiK2UrXCInIHRvIGJlIGEgZnVuY3Rpb25cIik7cmV0dXJuIG59dmFyIFY9W3trZXk6XCJpbmZvXCIsc3R5bGU6XCJjb2xvcjogIzY2NjtcIixsZXZlbDo1LGNvbnNvbGVNZXRob2Q6XCJsb2dcIn0se2tleTpcIm5vdGljZVwiLHN0eWxlOlwiYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjgpOyBjb2xvcjp3aGl0ZTsgcGFkZGluZzo4cHg7XCIsbGV2ZWw6NCxjb25zb2xlTWV0aG9kOlwibG9nXCJ9LHtrZXk6XCJ3YXJuaW5nXCIsc3R5bGU6XCJjb2xvcjogYmxhY2s7IGJhY2tncm91bmQ6IG9yYW5nZTtcIixsZXZlbDoyLGNvbnNvbGVNZXRob2Q6XCJ3YXJuXCJ9LHtrZXk6XCJlcnJvclwiLHN0eWxlOlwiY29sb3I6IGJsYWNrOyBiYWNrZ3JvdW5kOiByZWQ7XCIsbGV2ZWw6MSxjb25zb2xlTWV0aG9kOlwiZXJyb3JcIn1dLCQ9XCJkYXRhLW1vdG9yY29ydGV4Mi1pZFwiLE49XCJjbG9zZWRcIixqPVwiTW90b3JDb3J0ZXhcIixCPXtzdGFnZ2VyUHJlZmFjZTpcIkBzdGFnZ2VyXCIsbWF0aEV4cFByZWZhY2U6XCJAZXhwcmVzc2lvblwiLGF0dGlidXRlVmFsdWU6XCJAYXR0cmlidXRlXCIscGF0dGVyblZhbHVlOlwiQHBhdHRlcm5cIixkeW5hbWljRHVyYXRpb246XCJkeW5hbWljXCIsdG90YWxFbGVtZW50czpcInRvdGFsXCIsZWxlbWVudEluZGV4OlwiaW5kZXhcIixpbml0UGFyYW1zOlwiaW5pdFBhcmFtc1wifTtmdW5jdGlvbiBSKHQpe3Rocm93IG5ldyBFcnJvcignQ291bGQgbm90IGR5bmFtaWNhbGx5IHJlcXVpcmUgXCInK3QrJ1wiLiBQbGVhc2UgY29uZmlndXJlIHRoZSBkeW5hbWljUmVxdWlyZVRhcmdldHMgb3IvYW5kIGlnbm9yZUR5bmFtaWNSZXF1aXJlcyBvcHRpb24gb2YgQHJvbGx1cC9wbHVnaW4tY29tbW9uanMgYXBwcm9wcmlhdGVseSBmb3IgdGhpcyByZXF1aXJlIGNhbGwgdG8gd29yay4nKX12YXIgTD1mdW5jdGlvbiB0KGUsbixpPXt9KXtmb3IobGV0IHMgaW4gbilpZihcIm9iamVjdFwiPT10eXBlb2Yocj1uW3NdKSYmIUFycmF5LmlzQXJyYXkocikmJm51bGwhPXImJk9iamVjdC5rZXlzKHIpLmxlbmd0aD4wKWVbc109ZVtzXXx8e30sdChlW3NdLG5bc10saSk7ZWxzZXtpZighMD09PWkuc2tpcElmRXhpc3QmJnZvaWQgMCE9PWVbc10pY29udGludWU7ZVtzXT1uW3NdfXZhciByO3JldHVybiBlfTt2YXIgRj17cmVxdWlyZWQ6XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIGlzIHJlcXVpcmVkLlwiLHN0cmluZzpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBiZSBhIHN0cmluZy5cIixzdHJpbmdFbXB0eTpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBub3QgYmUgZW1wdHkuXCIsc3RyaW5nTWluOlwiVGhlICd7ZmllbGR9JyBmaWVsZCBsZW5ndGggbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8ge2V4cGVjdGVkfSBjaGFyYWN0ZXJzIGxvbmcuXCIsc3RyaW5nTWF4OlwiVGhlICd7ZmllbGR9JyBmaWVsZCBsZW5ndGggbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8ge2V4cGVjdGVkfSBjaGFyYWN0ZXJzIGxvbmcuXCIsc3RyaW5nTGVuZ3RoOlwiVGhlICd7ZmllbGR9JyBmaWVsZCBsZW5ndGggbXVzdCBiZSB7ZXhwZWN0ZWR9IGNoYXJhY3RlcnMgbG9uZy5cIixzdHJpbmdQYXR0ZXJuOlwiVGhlICd7ZmllbGR9JyBmaWVsZCBmYWlscyB0byBtYXRjaCB0aGUgcmVxdWlyZWQgcGF0dGVybi5cIixzdHJpbmdDb250YWluczpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBjb250YWluIHRoZSAne2V4cGVjdGVkfScgdGV4dC5cIixzdHJpbmdFbnVtOlwiVGhlICd7ZmllbGR9JyBmaWVsZCBkb2VzIG5vdCBtYXRjaCBhbnkgb2YgdGhlIGFsbG93ZWQgdmFsdWVzLlwiLHN0cmluZ051bWVyaWM6XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIG11c3QgYmUgYSBudW1lcmljIHN0cmluZy5cIixzdHJpbmdBbHBoYTpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBiZSBhbiBhbHBoYWJldGljIHN0cmluZy5cIixzdHJpbmdBbHBoYW51bTpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBiZSBhbiBhbHBoYW51bWVyaWMgc3RyaW5nLlwiLHN0cmluZ0FscGhhZGFzaDpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBiZSBhbiBhbHBoYWRhc2ggc3RyaW5nLlwiLHN0cmluZ0hleDpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBiZSBhIGhleCBzdHJpbmcuXCIsc3RyaW5nU2luZ2xlTGluZTpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBiZSBhIHNpbmdsZSBsaW5lIHN0cmluZy5cIixzdHJpbmdCYXNlNjQ6XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIG11c3QgYmUgYSBiYXNlNjQgc3RyaW5nLlwiLG51bWJlcjpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBiZSBhIG51bWJlci5cIixudW1iZXJNaW46XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHtleHBlY3RlZH0uXCIsbnVtYmVyTWF4OlwiVGhlICd7ZmllbGR9JyBmaWVsZCBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB7ZXhwZWN0ZWR9LlwiLG51bWJlckVxdWFsOlwiVGhlICd7ZmllbGR9JyBmaWVsZCBtdXN0IGJlIGVxdWFsIHRvIHtleHBlY3RlZH0uXCIsbnVtYmVyTm90RXF1YWw6XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIGNhbid0IGJlIGVxdWFsIHRvIHtleHBlY3RlZH0uXCIsbnVtYmVySW50ZWdlcjpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBiZSBhbiBpbnRlZ2VyLlwiLG51bWJlclBvc2l0aXZlOlwiVGhlICd7ZmllbGR9JyBmaWVsZCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyLlwiLG51bWJlck5lZ2F0aXZlOlwiVGhlICd7ZmllbGR9JyBmaWVsZCBtdXN0IGJlIGEgbmVnYXRpdmUgbnVtYmVyLlwiLGFycmF5OlwiVGhlICd7ZmllbGR9JyBmaWVsZCBtdXN0IGJlIGFuIGFycmF5LlwiLGFycmF5RW1wdHk6XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIG11c3Qgbm90IGJlIGFuIGVtcHR5IGFycmF5LlwiLGFycmF5TWluOlwiVGhlICd7ZmllbGR9JyBmaWVsZCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qge2V4cGVjdGVkfSBpdGVtcy5cIixhcnJheU1heDpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBjb250YWluIGxlc3MgdGhhbiBvciBlcXVhbCB0byB7ZXhwZWN0ZWR9IGl0ZW1zLlwiLGFycmF5TGVuZ3RoOlwiVGhlICd7ZmllbGR9JyBmaWVsZCBtdXN0IGNvbnRhaW4ge2V4cGVjdGVkfSBpdGVtcy5cIixhcnJheUNvbnRhaW5zOlwiVGhlICd7ZmllbGR9JyBmaWVsZCBtdXN0IGNvbnRhaW4gdGhlICd7ZXhwZWN0ZWR9JyBpdGVtLlwiLGFycmF5VW5pcXVlOlwiVGhlICd7YWN0dWFsfScgdmFsdWUgaW4gJ3tmaWVsZH0nIGZpZWxkIGRvZXMgbm90IHVuaXF1ZSB0aGUgJ3tleHBlY3RlZH0nIHZhbHVlcy5cIixhcnJheUVudW06XCJUaGUgJ3thY3R1YWx9JyB2YWx1ZSBpbiAne2ZpZWxkfScgZmllbGQgZG9lcyBub3QgbWF0Y2ggYW55IG9mIHRoZSAne2V4cGVjdGVkfScgdmFsdWVzLlwiLHR1cGxlOlwiVGhlICd7ZmllbGR9JyBmaWVsZCBtdXN0IGJlIGFuIGFycmF5LlwiLHR1cGxlRW1wdHk6XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIG11c3Qgbm90IGJlIGFuIGVtcHR5IGFycmF5LlwiLHR1cGxlTGVuZ3RoOlwiVGhlICd7ZmllbGR9JyBmaWVsZCBtdXN0IGNvbnRhaW4ge2V4cGVjdGVkfSBpdGVtcy5cIixib29sZWFuOlwiVGhlICd7ZmllbGR9JyBmaWVsZCBtdXN0IGJlIGEgYm9vbGVhbi5cIixjdXJyZW5jeTpcIlRoZSAne2ZpZWxkfScgbXVzdCBiZSBhIHZhbGlkIGN1cnJlbmN5IGZvcm1hdFwiLGRhdGU6XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIG11c3QgYmUgYSBEYXRlLlwiLGRhdGVNaW46XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHtleHBlY3RlZH0uXCIsZGF0ZU1heDpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8ge2V4cGVjdGVkfS5cIixlbnVtVmFsdWU6XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIHZhbHVlICd7ZXhwZWN0ZWR9JyBkb2VzIG5vdCBtYXRjaCBhbnkgb2YgdGhlIGFsbG93ZWQgdmFsdWVzLlwiLGVxdWFsVmFsdWU6XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIHZhbHVlIG11c3QgYmUgZXF1YWwgdG8gJ3tleHBlY3RlZH0nLlwiLGVxdWFsRmllbGQ6XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIHZhbHVlIG11c3QgYmUgZXF1YWwgdG8gJ3tleHBlY3RlZH0nIGZpZWxkIHZhbHVlLlwiLGZvcmJpZGRlbjpcIlRoZSAne2ZpZWxkfScgZmllbGQgaXMgZm9yYmlkZGVuLlwiLGZ1bmN0aW9uOlwiVGhlICd7ZmllbGR9JyBmaWVsZCBtdXN0IGJlIGEgZnVuY3Rpb24uXCIsZW1haWw6XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIG11c3QgYmUgYSB2YWxpZCBlLW1haWwuXCIsZW1haWxFbXB0eTpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBub3QgYmUgZW1wdHkuXCIsZW1haWxNaW46XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIGxlbmd0aCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB7ZXhwZWN0ZWR9IGNoYXJhY3RlcnMgbG9uZy5cIixlbWFpbE1heDpcIlRoZSAne2ZpZWxkfScgZmllbGQgbGVuZ3RoIG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHtleHBlY3RlZH0gY2hhcmFjdGVycyBsb25nLlwiLGx1aG46XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIG11c3QgYmUgYSB2YWxpZCBjaGVja3N1bSBsdWhuLlwiLG1hYzpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBiZSBhIHZhbGlkIE1BQyBhZGRyZXNzLlwiLG9iamVjdDpcIlRoZSAne2ZpZWxkfScgbXVzdCBiZSBhbiBPYmplY3QuXCIsb2JqZWN0U3RyaWN0OlwiVGhlIG9iamVjdCAne2ZpZWxkfScgY29udGFpbnMgZm9yYmlkZGVuIGtleXM6ICd7YWN0dWFsfScuXCIsb2JqZWN0TWluUHJvcHM6XCJUaGUgb2JqZWN0ICd7ZmllbGR9JyBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qge2V4cGVjdGVkfSBwcm9wZXJ0aWVzLlwiLG9iamVjdE1heFByb3BzOlwiVGhlIG9iamVjdCAne2ZpZWxkfScgbXVzdCBjb250YWluIHtleHBlY3RlZH0gcHJvcGVydGllcyBhdCBtb3N0LlwiLHVybDpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBiZSBhIHZhbGlkIFVSTC5cIix1cmxFbXB0eTpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBub3QgYmUgZW1wdHkuXCIsdXVpZDpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBiZSBhIHZhbGlkIFVVSUQuXCIsdXVpZFZlcnNpb246XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIG11c3QgYmUgYSB2YWxpZCBVVUlEIHZlcnNpb24gcHJvdmlkZWQuXCIsY2xhc3NJbnN0YW5jZU9mOlwiVGhlICd7ZmllbGR9JyBmaWVsZCBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIHRoZSAne2V4cGVjdGVkfScgY2xhc3MuXCIsb2JqZWN0SUQ6XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIG11c3QgYmUgYW4gdmFsaWQgT2JqZWN0SURcIn0sej1mdW5jdGlvbigpe2NvbnN0IHQ9W107cmV0dXJuIHQucHVzaChcIlxcblxcdFxcdHJldHVybiB2YWx1ZTtcXG5cXHRcIikse3NvdXJjZTp0LmpvaW4oXCJcXG5cIil9fSxHPWZ1bmN0aW9uKHtzY2hlbWE6dCxtZXNzYWdlczplfSxuLGkpe2NvbnN0IHI9W107aWYoci5wdXNoKGBcXG5cXHRcXHRpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XFxuXFx0XFx0XFx0JHt0aGlzLm1ha2VFcnJvcih7dHlwZTpcImFycmF5XCIsYWN0dWFsOlwidmFsdWVcIixtZXNzYWdlczplfSl9XFxuXFx0XFx0XFx0cmV0dXJuIHZhbHVlO1xcblxcdFxcdH1cXG5cXG5cXHRcXHR2YXIgbGVuID0gdmFsdWUubGVuZ3RoO1xcblxcdGApLCExPT09dC5lbXB0eSYmci5wdXNoKGBcXG5cXHRcXHRcXHRpZiAobGVuID09PSAwKSB7XFxuXFx0XFx0XFx0XFx0JHt0aGlzLm1ha2VFcnJvcih7dHlwZTpcImFycmF5RW1wdHlcIixhY3R1YWw6XCJ2YWx1ZVwiLG1lc3NhZ2VzOmV9KX1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0YCksbnVsbCE9dC5taW4mJnIucHVzaChgXFxuXFx0XFx0XFx0aWYgKGxlbiA8ICR7dC5taW59KSB7XFxuXFx0XFx0XFx0XFx0JHt0aGlzLm1ha2VFcnJvcih7dHlwZTpcImFycmF5TWluXCIsZXhwZWN0ZWQ6dC5taW4sYWN0dWFsOlwibGVuXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdFxcdH1cXG5cXHRcXHRgKSxudWxsIT10Lm1heCYmci5wdXNoKGBcXG5cXHRcXHRcXHRpZiAobGVuID4gJHt0Lm1heH0pIHtcXG5cXHRcXHRcXHRcXHQke3RoaXMubWFrZUVycm9yKHt0eXBlOlwiYXJyYXlNYXhcIixleHBlY3RlZDp0Lm1heCxhY3R1YWw6XCJsZW5cIixtZXNzYWdlczplfSl9XFxuXFx0XFx0XFx0fVxcblxcdFxcdGApLG51bGwhPXQubGVuZ3RoJiZyLnB1c2goYFxcblxcdFxcdFxcdGlmIChsZW4gIT09ICR7dC5sZW5ndGh9KSB7XFxuXFx0XFx0XFx0XFx0JHt0aGlzLm1ha2VFcnJvcih7dHlwZTpcImFycmF5TGVuZ3RoXCIsZXhwZWN0ZWQ6dC5sZW5ndGgsYWN0dWFsOlwibGVuXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdFxcdH1cXG5cXHRcXHRgKSxudWxsIT10LmNvbnRhaW5zJiZyLnB1c2goYFxcblxcdFxcdFxcdGlmICh2YWx1ZS5pbmRleE9mKCR7SlNPTi5zdHJpbmdpZnkodC5jb250YWlucyl9KSA9PT0gLTEpIHtcXG5cXHRcXHRcXHRcXHQke3RoaXMubWFrZUVycm9yKHt0eXBlOlwiYXJyYXlDb250YWluc1wiLGV4cGVjdGVkOkpTT04uc3RyaW5naWZ5KHQuY29udGFpbnMpLGFjdHVhbDpcInZhbHVlXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdFxcdH1cXG5cXHRcXHRgKSwhMD09PXQudW5pcXVlJiZyLnB1c2goYFxcblxcdFxcdFxcdGlmKGxlbiA+IChuZXcgU2V0KHZhbHVlKSkuc2l6ZSkge1xcblxcdFxcdFxcdFxcdCR7dGhpcy5tYWtlRXJyb3Ioe3R5cGU6XCJhcnJheVVuaXF1ZVwiLGV4cGVjdGVkOlwiQXJyYXkuZnJvbShuZXcgU2V0KHZhbHVlLmZpbHRlcigoaXRlbSwgaW5kZXgpID0+IHZhbHVlLmluZGV4T2YoaXRlbSkgIT09IGluZGV4KSkpXCIsYWN0dWFsOlwidmFsdWVcIixtZXNzYWdlczplfSl9XFxuXFx0XFx0XFx0fVxcblxcdFxcdGApLG51bGwhPXQuZW51bSl7Y29uc3Qgbj1KU09OLnN0cmluZ2lmeSh0LmVudW0pO3IucHVzaChgXFxuXFx0XFx0XFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xcblxcdFxcdFxcdFxcdGlmICgke259LmluZGV4T2YodmFsdWVbaV0pID09PSAtMSkge1xcblxcdFxcdFxcdFxcdFxcdCR7dGhpcy5tYWtlRXJyb3Ioe3R5cGU6XCJhcnJheUVudW1cIixleHBlY3RlZDonXCInK3QuZW51bS5qb2luKFwiLCBcIikrJ1wiJyxhY3R1YWw6XCJ2YWx1ZVtpXVwiLG1lc3NhZ2VzOmV9KX1cXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fVxcblxcdFxcdGApfWlmKG51bGwhPXQuaXRlbXMpe3IucHVzaChcIlxcblxcdFxcdFxcdHZhciBhcnIgPSB2YWx1ZTtcXG5cXHRcXHRcXHR2YXIgcGFyZW50RmllbGQgPSBmaWVsZDtcXG5cXHRcXHRcXHRmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xcblxcdFxcdFxcdFxcdHZhbHVlID0gYXJyW2ldO1xcblxcdFxcdFwiKTtjb25zdCBlPW4rXCJbXVwiLHM9dGhpcy5nZXRSdWxlRnJvbVNjaGVtYSh0Lml0ZW1zKSxhPWBhcnJbaV0gPSAke2kuYXN5bmM/XCJhd2FpdCBcIjpcIlwifWNvbnRleHQuZm5bJSVJTkRFWCUlXShhcnJbaV0sIChwYXJlbnRGaWVsZCA/IHBhcmVudEZpZWxkIDogXCJcIikgKyBcIltcIiArIGkgKyBcIl1cIiwgcGFyZW50LCBlcnJvcnMsIGNvbnRleHQpYDtyLnB1c2godGhpcy5jb21waWxlUnVsZShzLGksZSxhLFwiYXJyW2ldXCIpKSxyLnB1c2goXCJcXG5cXHRcXHRcXHR9XFxuXFx0XFx0XCIpLHIucHVzaChcIlxcblxcdFxcdHJldHVybiBhcnI7XFxuXFx0XCIpfWVsc2Ugci5wdXNoKFwiXFxuXFx0XFx0cmV0dXJuIHZhbHVlO1xcblxcdFwiKTtyZXR1cm57c291cmNlOnIuam9pbihcIlxcblwiKX19LHE9ZnVuY3Rpb24oe3NjaGVtYTp0LG1lc3NhZ2VzOmV9LG4saSl7Y29uc3Qgcj1bXTtsZXQgcz0hMTtyZXR1cm4gci5wdXNoKFwiXFxuXFx0XFx0dmFyIG9yaWdWYWx1ZSA9IHZhbHVlO1xcblxcdFwiKSwhMD09PXQuY29udmVydCYmKHM9ITAsci5wdXNoKCdcXG5cXHRcXHRcXHRpZiAodHlwZW9mIHZhbHVlICE9PSBcImJvb2xlYW5cIikge1xcblxcdFxcdFxcdFxcdGlmIChcXG5cXHRcXHRcXHRcXHR2YWx1ZSA9PT0gMVxcblxcdFxcdFxcdFxcdHx8IHZhbHVlID09PSBcInRydWVcIlxcblxcdFxcdFxcdFxcdHx8IHZhbHVlID09PSBcIjFcIlxcblxcdFxcdFxcdFxcdHx8IHZhbHVlID09PSBcIm9uXCJcXG5cXHRcXHRcXHRcXHQpIHtcXG5cXHRcXHRcXHRcXHRcXHR2YWx1ZSA9IHRydWU7XFxuXFx0XFx0XFx0XFx0fSBlbHNlIGlmIChcXG5cXHRcXHRcXHRcXHR2YWx1ZSA9PT0gMFxcblxcdFxcdFxcdFxcdHx8IHZhbHVlID09PSBcImZhbHNlXCJcXG5cXHRcXHRcXHRcXHR8fCB2YWx1ZSA9PT0gXCIwXCJcXG5cXHRcXHRcXHRcXHR8fCB2YWx1ZSA9PT0gXCJvZmZcIlxcblxcdFxcdFxcdFxcdCkge1xcblxcdFxcdFxcdFxcdFxcdHZhbHVlID0gZmFsc2U7XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH1cXG5cXHRcXHQnKSksci5wdXNoKGBcXG5cXHRcXHRpZiAodHlwZW9mIHZhbHVlICE9PSBcImJvb2xlYW5cIikge1xcblxcdFxcdFxcdCR7dGhpcy5tYWtlRXJyb3Ioe3R5cGU6XCJib29sZWFuXCIsYWN0dWFsOlwib3JpZ1ZhbHVlXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdH1cXG5cXHRcXHRcXG5cXHRcXHRyZXR1cm4gdmFsdWU7XFxuXFx0YCkse3Nhbml0aXplZDpzLHNvdXJjZTpyLmpvaW4oXCJcXG5cIil9fSxLPWZ1bmN0aW9uKHtzY2hlbWE6dCxtZXNzYWdlczplLGluZGV4Om59LGkscil7Y29uc3Qgcz1bXSxhPXQuaW5zdGFuY2VPZi5uYW1lP3QuaW5zdGFuY2VPZi5uYW1lOlwiPFVua25vd0NsYXNzPlwiO3JldHVybiByLmN1c3RvbXNbbl0/ci5jdXN0b21zW25dLnNjaGVtYT10OnIuY3VzdG9tc1tuXT17c2NoZW1hOnR9LHMucHVzaChgXFxuXFx0XFx0aWYgKCEodmFsdWUgaW5zdGFuY2VvZiBjb250ZXh0LmN1c3RvbXNbJHtufV0uc2NoZW1hLmluc3RhbmNlT2YpKVxcblxcdFxcdFxcdCR7dGhpcy5tYWtlRXJyb3Ioe3R5cGU6XCJjbGFzc0luc3RhbmNlT2ZcIixhY3R1YWw6XCJ2YWx1ZVwiLGV4cGVjdGVkOlwiJ1wiK2ErXCInXCIsbWVzc2FnZXM6ZX0pfVxcblxcdGApLHMucHVzaChcIlxcblxcdFxcdHJldHVybiB2YWx1ZTtcXG5cXHRcIikse3NvdXJjZTpzLmpvaW4oXCJcXG5cIil9fSxXPWZ1bmN0aW9uKHtzY2hlbWE6dCxtZXNzYWdlczplLGluZGV4Om59LGkscil7Y29uc3Qgcz1bXTtyZXR1cm4gcy5wdXNoKGBcXG5cXHRcXHQke3RoaXMubWFrZUN1c3RvbVZhbGlkYXRvcih7Zm5OYW1lOlwiY2hlY2tcIixwYXRoOmksc2NoZW1hOnQsbWVzc2FnZXM6ZSxjb250ZXh0OnIscnVsZUluZGV4Om59KX1cXG5cXHRcXHRyZXR1cm4gdmFsdWU7XFxuXFx0YCkse3NvdXJjZTpzLmpvaW4oXCJcXG5cIil9fTt2YXIgSj1mdW5jdGlvbih7c2NoZW1hOnQsbWVzc2FnZXM6ZX0sbixpKXtjb25zdCByPXQuY3VycmVuY3lTeW1ib2x8fG51bGwscz10LnRob3VzYW5kU2VwYXJhdG9yfHxcIixcIixhPXQuZGVjaW1hbFNlcGFyYXRvcnx8XCIuXCIsbz10LmN1c3RvbVJlZ2V4O2xldCB1PSF0LnN5bWJvbE9wdGlvbmFsLGw9XCIoPz0uKlxcXFxkKV4oLT9+MXx+MS0/KSgoWzAtOV1cXFxcZHswLDJ9KH4yXFxcXGR7M30pKil8MCk/KFxcXFx+M1xcXFxkezEsMn0pPyRcIi5yZXBsYWNlKC9+MS9nLHI/YFxcXFwke3J9JHt1P1wiXCI6XCI/XCJ9YDpcIlwiKS5yZXBsYWNlKFwifjJcIixzKS5yZXBsYWNlKFwifjNcIixhKTtjb25zdCBjPVtdO3JldHVybiBjLnB1c2goYFxcblxcdFxcdGlmICghdmFsdWUubWF0Y2goJHtvfHxuZXcgUmVnRXhwKGwpfSkpIHtcXG5cXHRcXHRcXHQke3RoaXMubWFrZUVycm9yKHt0eXBlOlwiY3VycmVuY3lcIixhY3R1YWw6XCJ2YWx1ZVwiLG1lc3NhZ2VzOmV9KX1cXG5cXHRcXHRcXHRyZXR1cm4gdmFsdWU7XFxuXFx0XFx0fVxcblxcblxcdFxcdHJldHVybiB2YWx1ZTtcXG5cXHRgKSx7c291cmNlOmMuam9pbihcIlxcblwiKX19LEg9ZnVuY3Rpb24oe3NjaGVtYTp0LG1lc3NhZ2VzOmV9LG4saSl7Y29uc3Qgcj1bXTtsZXQgcz0hMTtyZXR1cm4gci5wdXNoKFwiXFxuXFx0XFx0dmFyIG9yaWdWYWx1ZSA9IHZhbHVlO1xcblxcdFwiKSwhMD09PXQuY29udmVydCYmKHM9ITAsci5wdXNoKFwiXFxuXFx0XFx0XFx0aWYgKCEodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSkge1xcblxcdFxcdFxcdFxcdHZhbHVlID0gbmV3IERhdGUodmFsdWUpO1xcblxcdFxcdFxcdH1cXG5cXHRcXHRcIikpLHIucHVzaChgXFxuXFx0XFx0aWYgKCEodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB8fCBpc05hTih2YWx1ZS5nZXRUaW1lKCkpKVxcblxcdFxcdFxcdCR7dGhpcy5tYWtlRXJyb3Ioe3R5cGU6XCJkYXRlXCIsYWN0dWFsOlwib3JpZ1ZhbHVlXCIsbWVzc2FnZXM6ZX0pfVxcblxcblxcdFxcdHJldHVybiB2YWx1ZTtcXG5cXHRgKSx7c2FuaXRpemVkOnMsc291cmNlOnIuam9pbihcIlxcblwiKX19O2NvbnN0IFU9L14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXF0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvLFo9L15cXFMrQFxcUytcXC5cXFMrJC87dmFyIFE9ZnVuY3Rpb24oe3NjaGVtYTp0LG1lc3NhZ2VzOmV9LG4saSl7Y29uc3Qgcj1bXSxzPVwicHJlY2lzZVwiPT10Lm1vZGU/VTpaO2xldCBhPSExO3JldHVybiByLnB1c2goYFxcblxcdFxcdGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcXG5cXHRcXHRcXHQke3RoaXMubWFrZUVycm9yKHt0eXBlOlwic3RyaW5nXCIsYWN0dWFsOlwidmFsdWVcIixtZXNzYWdlczplfSl9XFxuXFx0XFx0XFx0cmV0dXJuIHZhbHVlO1xcblxcdFxcdH1cXG5cXHRgKSx0LmVtcHR5P3IucHVzaChcIlxcblxcdFxcdFxcdGlmICh2YWx1ZS5sZW5ndGggPT09IDApIHJldHVybiB2YWx1ZTtcXG5cXHRcXHRcIik6ci5wdXNoKGBcXG5cXHRcXHRcXHRpZiAodmFsdWUubGVuZ3RoID09PSAwKSB7XFxuXFx0XFx0XFx0XFx0JHt0aGlzLm1ha2VFcnJvcih7dHlwZTpcImVtYWlsRW1wdHlcIixhY3R1YWw6XCJ2YWx1ZVwiLG1lc3NhZ2VzOmV9KX1cXG5cXHRcXHRcXHRcXHRyZXR1cm4gdmFsdWU7XFxuXFx0XFx0XFx0fVxcblxcdFxcdGApLHQubm9ybWFsaXplJiYoYT0hMCxyLnB1c2goXCJcXG5cXHRcXHRcXHR2YWx1ZSA9IHZhbHVlLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xcblxcdFxcdFwiKSksbnVsbCE9dC5taW4mJnIucHVzaChgXFxuXFx0XFx0XFx0aWYgKHZhbHVlLmxlbmd0aCA8ICR7dC5taW59KSB7XFxuXFx0XFx0XFx0XFx0JHt0aGlzLm1ha2VFcnJvcih7dHlwZTpcImVtYWlsTWluXCIsZXhwZWN0ZWQ6dC5taW4sYWN0dWFsOlwidmFsdWUubGVuZ3RoXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdFxcdH1cXG5cXHRcXHRgKSxudWxsIT10Lm1heCYmci5wdXNoKGBcXG5cXHRcXHRcXHRpZiAodmFsdWUubGVuZ3RoID4gJHt0Lm1heH0pIHtcXG5cXHRcXHRcXHRcXHQke3RoaXMubWFrZUVycm9yKHt0eXBlOlwiZW1haWxNYXhcIixleHBlY3RlZDp0Lm1heCxhY3R1YWw6XCJ2YWx1ZS5sZW5ndGhcIixtZXNzYWdlczplfSl9XFxuXFx0XFx0XFx0fVxcblxcdFxcdGApLHIucHVzaChgXFxuXFx0XFx0aWYgKCEke3MudG9TdHJpbmcoKX0udGVzdCh2YWx1ZSkpIHtcXG5cXHRcXHRcXHQke3RoaXMubWFrZUVycm9yKHt0eXBlOlwiZW1haWxcIixhY3R1YWw6XCJ2YWx1ZVwiLG1lc3NhZ2VzOmV9KX1cXG5cXHRcXHR9XFxuXFxuXFx0XFx0cmV0dXJuIHZhbHVlO1xcblxcdGApLHtzYW5pdGl6ZWQ6YSxzb3VyY2U6ci5qb2luKFwiXFxuXCIpfX0sWD1mdW5jdGlvbih7c2NoZW1hOnQsbWVzc2FnZXM6ZX0sbixpKXtyZXR1cm57c291cmNlOmBcXG5cXHRcXHRcXHRpZiAoJHtKU09OLnN0cmluZ2lmeSh0LnZhbHVlc3x8W10pfS5pbmRleE9mKHZhbHVlKSA9PT0gLTEpXFxuXFx0XFx0XFx0XFx0JHt0aGlzLm1ha2VFcnJvcih7dHlwZTpcImVudW1WYWx1ZVwiLGV4cGVjdGVkOidcIicrdC52YWx1ZXMuam9pbihcIiwgXCIpKydcIicsYWN0dWFsOlwidmFsdWVcIixtZXNzYWdlczplfSl9XFxuXFx0XFx0XFx0XFxuXFx0XFx0XFx0cmV0dXJuIHZhbHVlO1xcblxcdFxcdGB9fSxZPWZ1bmN0aW9uKHtzY2hlbWE6dCxtZXNzYWdlczplfSxuLGkpe2NvbnN0IHI9W107cmV0dXJuIHQuZmllbGQ/KHQuc3RyaWN0P3IucHVzaChgXFxuXFx0XFx0XFx0XFx0aWYgKHZhbHVlICE9PSBwYXJlbnRbXCIke3QuZmllbGR9XCJdKVxcblxcdFxcdFxcdGApOnIucHVzaChgXFxuXFx0XFx0XFx0XFx0aWYgKHZhbHVlICE9IHBhcmVudFtcIiR7dC5maWVsZH1cIl0pXFxuXFx0XFx0XFx0YCksci5wdXNoKGBcXG5cXHRcXHRcXHRcXHQke3RoaXMubWFrZUVycm9yKHt0eXBlOlwiZXF1YWxGaWVsZFwiLGFjdHVhbDpcInZhbHVlXCIsZXhwZWN0ZWQ6SlNPTi5zdHJpbmdpZnkodC5maWVsZCksbWVzc2FnZXM6ZX0pfVxcblxcdFxcdGApKToodC5zdHJpY3Q/ci5wdXNoKGBcXG5cXHRcXHRcXHRcXHRpZiAodmFsdWUgIT09ICR7SlNPTi5zdHJpbmdpZnkodC52YWx1ZSl9KVxcblxcdFxcdFxcdGApOnIucHVzaChgXFxuXFx0XFx0XFx0XFx0aWYgKHZhbHVlICE9ICR7SlNPTi5zdHJpbmdpZnkodC52YWx1ZSl9KVxcblxcdFxcdFxcdGApLHIucHVzaChgXFxuXFx0XFx0XFx0XFx0JHt0aGlzLm1ha2VFcnJvcih7dHlwZTpcImVxdWFsVmFsdWVcIixhY3R1YWw6XCJ2YWx1ZVwiLGV4cGVjdGVkOkpTT04uc3RyaW5naWZ5KHQudmFsdWUpLG1lc3NhZ2VzOmV9KX1cXG5cXHRcXHRgKSksci5wdXNoKFwiXFxuXFx0XFx0cmV0dXJuIHZhbHVlO1xcblxcdFwiKSx7c291cmNlOnIuam9pbihcIlxcblwiKX19LHR0PWZ1bmN0aW9uKHtzY2hlbWE6dCxtZXNzYWdlczplfSxuLGkpe2NvbnN0IHI9W107cmV0dXJuIHIucHVzaChcIlxcblxcdFxcdGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XFxuXFx0XCIpLHQucmVtb3ZlP3IucHVzaChcIlxcblxcdFxcdFxcdHJldHVybiB1bmRlZmluZWQ7XFxuXFx0XFx0XCIpOnIucHVzaChgXFxuXFx0XFx0XFx0JHt0aGlzLm1ha2VFcnJvcih7dHlwZTpcImZvcmJpZGRlblwiLGFjdHVhbDpcInZhbHVlXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdGApLHIucHVzaChcIlxcblxcdFxcdH1cXG5cXG5cXHRcXHRyZXR1cm4gdmFsdWU7XFxuXFx0XCIpLHtzb3VyY2U6ci5qb2luKFwiXFxuXCIpfX0sZXQ9ZnVuY3Rpb24oe3NjaGVtYTp0LG1lc3NhZ2VzOmV9LG4saSl7cmV0dXJue3NvdXJjZTpgXFxuXFx0XFx0XFx0aWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKVxcblxcdFxcdFxcdFxcdCR7dGhpcy5tYWtlRXJyb3Ioe3R5cGU6XCJmdW5jdGlvblwiLGFjdHVhbDpcInZhbHVlXCIsbWVzc2FnZXM6ZX0pfVxcblxcblxcdFxcdFxcdHJldHVybiB2YWx1ZTtcXG5cXHRcXHRgfX0sbnQ9ZnVuY3Rpb24oe3NjaGVtYTp0LG1lc3NhZ2VzOmV9LG4saSl7Y29uc3Qgcj1bXTtyLnB1c2goXCJcXG5cXHRcXHR2YXIgcHJldkVyckxlbiA9IGVycm9ycy5sZW5ndGg7XFxuXFx0XFx0dmFyIGVyckJlZm9yZTtcXG5cXHRcXHR2YXIgaGFzVmFsaWQgPSBmYWxzZTtcXG5cXHRcXHR2YXIgbmV3VmFsID0gdmFsdWU7XFxuXFx0XCIpO2ZvcihsZXQgZT0wO2U8dC5ydWxlcy5sZW5ndGg7ZSsrKXtyLnB1c2goXCJcXG5cXHRcXHRcXHRpZiAoIWhhc1ZhbGlkKSB7XFxuXFx0XFx0XFx0XFx0ZXJyQmVmb3JlID0gZXJyb3JzLmxlbmd0aDtcXG5cXHRcXHRcIik7Y29uc3Qgcz10aGlzLmdldFJ1bGVGcm9tU2NoZW1hKHQucnVsZXNbZV0pO3IucHVzaCh0aGlzLmNvbXBpbGVSdWxlKHMsaSxuLGB2YXIgdG1wVmFsID0gJHtpLmFzeW5jP1wiYXdhaXQgXCI6XCJcIn1jb250ZXh0LmZuWyUlSU5ERVglJV0odmFsdWUsIGZpZWxkLCBwYXJlbnQsIGVycm9ycywgY29udGV4dCk7YCxcInRtcFZhbFwiKSksci5wdXNoKFwiXFxuXFx0XFx0XFx0XFx0aWYgKGVycm9ycy5sZW5ndGggPT0gZXJyQmVmb3JlKSB7XFxuXFx0XFx0XFx0XFx0XFx0aGFzVmFsaWQgPSB0cnVlO1xcblxcdFxcdFxcdFxcdFxcdG5ld1ZhbCA9IHRtcFZhbDtcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fVxcblxcdFxcdFwiKX1yZXR1cm4gci5wdXNoKFwiXFxuXFx0XFx0aWYgKGhhc1ZhbGlkKSB7XFxuXFx0XFx0XFx0ZXJyb3JzLmxlbmd0aCA9IHByZXZFcnJMZW47XFxuXFx0XFx0fVxcblxcblxcdFxcdHJldHVybiBuZXdWYWw7XFxuXFx0XCIpLHtzb3VyY2U6ci5qb2luKFwiXFxuXCIpfX0saXQ9ZnVuY3Rpb24oe3NjaGVtYTp0LG1lc3NhZ2VzOmV9LG4saSl7Y29uc3Qgcj1bXTtyLnB1c2goXCJcXG5cXHRcXHR2YXIgb3JpZ1ZhbHVlID0gdmFsdWU7XFxuXFx0XCIpO2xldCBzPSExO3JldHVybiEwPT09dC5jb252ZXJ0JiYocz0hMCxyLnB1c2goJ1xcblxcdFxcdFxcdGlmICh0eXBlb2YgdmFsdWUgIT09IFwibnVtYmVyXCIpIHtcXG5cXHRcXHRcXHRcXHR2YWx1ZSA9IE51bWJlcih2YWx1ZSk7XFxuXFx0XFx0XFx0fVxcblxcdFxcdCcpKSxyLnB1c2goYFxcblxcdFxcdGlmICh0eXBlb2YgdmFsdWUgIT09IFwibnVtYmVyXCIgfHwgaXNOYU4odmFsdWUpIHx8ICFpc0Zpbml0ZSh2YWx1ZSkpIHtcXG5cXHRcXHRcXHQke3RoaXMubWFrZUVycm9yKHt0eXBlOlwibnVtYmVyXCIsYWN0dWFsOlwib3JpZ1ZhbHVlXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdFxcdHJldHVybiB2YWx1ZTtcXG5cXHRcXHR9XFxuXFx0YCksbnVsbCE9dC5taW4mJnIucHVzaChgXFxuXFx0XFx0XFx0aWYgKHZhbHVlIDwgJHt0Lm1pbn0pIHtcXG5cXHRcXHRcXHRcXHQke3RoaXMubWFrZUVycm9yKHt0eXBlOlwibnVtYmVyTWluXCIsZXhwZWN0ZWQ6dC5taW4sYWN0dWFsOlwib3JpZ1ZhbHVlXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdFxcdH1cXG5cXHRcXHRgKSxudWxsIT10Lm1heCYmci5wdXNoKGBcXG5cXHRcXHRcXHRpZiAodmFsdWUgPiAke3QubWF4fSkge1xcblxcdFxcdFxcdFxcdCR7dGhpcy5tYWtlRXJyb3Ioe3R5cGU6XCJudW1iZXJNYXhcIixleHBlY3RlZDp0Lm1heCxhY3R1YWw6XCJvcmlnVmFsdWVcIixtZXNzYWdlczplfSl9XFxuXFx0XFx0XFx0fVxcblxcdFxcdGApLG51bGwhPXQuZXF1YWwmJnIucHVzaChgXFxuXFx0XFx0XFx0aWYgKHZhbHVlICE9PSAke3QuZXF1YWx9KSB7XFxuXFx0XFx0XFx0XFx0JHt0aGlzLm1ha2VFcnJvcih7dHlwZTpcIm51bWJlckVxdWFsXCIsZXhwZWN0ZWQ6dC5lcXVhbCxhY3R1YWw6XCJvcmlnVmFsdWVcIixtZXNzYWdlczplfSl9XFxuXFx0XFx0XFx0fVxcblxcdFxcdGApLG51bGwhPXQubm90RXF1YWwmJnIucHVzaChgXFxuXFx0XFx0XFx0aWYgKHZhbHVlID09PSAke3Qubm90RXF1YWx9KSB7XFxuXFx0XFx0XFx0XFx0JHt0aGlzLm1ha2VFcnJvcih7dHlwZTpcIm51bWJlck5vdEVxdWFsXCIsZXhwZWN0ZWQ6dC5ub3RFcXVhbCxhY3R1YWw6XCJvcmlnVmFsdWVcIixtZXNzYWdlczplfSl9XFxuXFx0XFx0XFx0fVxcblxcdFxcdGApLCEwPT09dC5pbnRlZ2VyJiZyLnB1c2goYFxcblxcdFxcdFxcdGlmICh2YWx1ZSAlIDEgIT09IDApIHtcXG5cXHRcXHRcXHRcXHQke3RoaXMubWFrZUVycm9yKHt0eXBlOlwibnVtYmVySW50ZWdlclwiLGFjdHVhbDpcIm9yaWdWYWx1ZVwiLG1lc3NhZ2VzOmV9KX1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0YCksITA9PT10LnBvc2l0aXZlJiZyLnB1c2goYFxcblxcdFxcdFxcdGlmICh2YWx1ZSA8PSAwKSB7XFxuXFx0XFx0XFx0XFx0JHt0aGlzLm1ha2VFcnJvcih7dHlwZTpcIm51bWJlclBvc2l0aXZlXCIsYWN0dWFsOlwib3JpZ1ZhbHVlXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdFxcdH1cXG5cXHRcXHRgKSwhMD09PXQubmVnYXRpdmUmJnIucHVzaChgXFxuXFx0XFx0XFx0aWYgKHZhbHVlID49IDApIHtcXG5cXHRcXHRcXHRcXHQke3RoaXMubWFrZUVycm9yKHt0eXBlOlwibnVtYmVyTmVnYXRpdmVcIixhY3R1YWw6XCJvcmlnVmFsdWVcIixtZXNzYWdlczplfSl9XFxuXFx0XFx0XFx0fVxcblxcdFxcdGApLHIucHVzaChcIlxcblxcdFxcdHJldHVybiB2YWx1ZTtcXG5cXHRcIikse3Nhbml0aXplZDpzLHNvdXJjZTpyLmpvaW4oXCJcXG5cIil9fTtjb25zdCBydD0vXltfJGEtekEtWl1bXyRhLXpBLVowLTldKiQvLHN0PS9bXCInXFxcXFxcblxcclxcdTIwMjhcXHUyMDI5XS9nO2Z1bmN0aW9uIGF0KHQpe3JldHVybiB0LnJlcGxhY2Uoc3QsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlJ1wiJzpjYXNlXCInXCI6Y2FzZVwiXFxcXFwiOnJldHVyblwiXFxcXFwiK3Q7Y2FzZVwiXFxuXCI6cmV0dXJuXCJcXFxcblwiO2Nhc2VcIlxcclwiOnJldHVyblwiXFxcXHJcIjtjYXNlXCJcXHUyMDI4XCI6cmV0dXJuXCJcXFxcdTIwMjhcIjtjYXNlXCJcXHUyMDI5XCI6cmV0dXJuXCJcXFxcdTIwMjlcIn19KSl9dmFyIG90PWZ1bmN0aW9uKHtzY2hlbWE6dCxtZXNzYWdlczplfSxuLGkpe2NvbnN0IHI9W107ci5wdXNoKGBcXG5cXHRcXHRpZiAodHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8IHZhbHVlID09PSBudWxsIHx8IEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XFxuXFx0XFx0XFx0JHt0aGlzLm1ha2VFcnJvcih7dHlwZTpcIm9iamVjdFwiLGFjdHVhbDpcInZhbHVlXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdFxcdHJldHVybiB2YWx1ZTtcXG5cXHRcXHR9XFxuXFx0YCk7Y29uc3Qgcz10LnByb3BlcnRpZXN8fHQucHJvcHM7aWYocyl7ci5wdXNoKFwidmFyIHBhcmVudE9iaiA9IHZhbHVlO1wiKSxyLnB1c2goXCJ2YXIgcGFyZW50RmllbGQgPSBmaWVsZDtcIik7Y29uc3QgYT1PYmplY3Qua2V5cyhzKTtmb3IobGV0IHQ9MDt0PGEubGVuZ3RoO3QrKyl7Y29uc3QgZT1hW3RdLG89YXQoZSksdT1ydC50ZXN0KG8pP2AuJHtvfWA6YFsnJHtvfSddYCxsPWBwYXJlbnRPYmoke3V9YCxjPShuP24rXCIuXCI6XCJcIikrZTtyLnB1c2goYFxcbi8vIEZpZWxkOiAke2F0KGMpfWApLHIucHVzaChgZmllbGQgPSBwYXJlbnRGaWVsZCA/IHBhcmVudEZpZWxkICsgXCIke3V9XCIgOiBcIiR7b31cIjtgKSxyLnB1c2goYHZhbHVlID0gJHtsfTtgKTtjb25zdCBoPXRoaXMuZ2V0UnVsZUZyb21TY2hlbWEoc1tlXSksZD1gXFxuXFx0XFx0XFx0XFx0JHtsfSA9ICR7aS5hc3luYz9cImF3YWl0IFwiOlwiXCJ9Y29udGV4dC5mblslJUlOREVYJSVdKHZhbHVlLCBmaWVsZCwgcGFyZW50T2JqLCBlcnJvcnMsIGNvbnRleHQpO1xcblxcdFxcdFxcdGA7ci5wdXNoKHRoaXMuY29tcGlsZVJ1bGUoaCxpLGMsZCxsKSl9aWYodC5zdHJpY3Qpe2NvbnN0IG49T2JqZWN0LmtleXMocyk7ci5wdXNoKGBcXG5cXHRcXHRcXHRcXHRmaWVsZCA9IHBhcmVudEZpZWxkO1xcblxcdFxcdFxcdFxcdHZhciBpbnZhbGlkUHJvcHMgPSBbXTtcXG5cXHRcXHRcXHRcXHR2YXIgcHJvcHMgPSBPYmplY3Qua2V5cyhwYXJlbnRPYmopO1xcblxcblxcdFxcdFxcdFxcdGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcXG5cXHRcXHRcXHRcXHRcXHRpZiAoJHtKU09OLnN0cmluZ2lmeShuKX0uaW5kZXhPZihwcm9wc1tpXSkgPT09IC0xKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0aW52YWxpZFByb3BzLnB1c2gocHJvcHNbaV0pO1xcblxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0aWYgKGludmFsaWRQcm9wcy5sZW5ndGgpIHtcXG5cXHRcXHRcXHRgKSxcInJlbW92ZVwiPT10LnN0cmljdD9yLnB1c2goXCJcXG5cXHRcXHRcXHRcXHRcXHRpbnZhbGlkUHJvcHMuZm9yRWFjaChmdW5jdGlvbihmaWVsZCkge1xcblxcdFxcdFxcdFxcdFxcdFxcdGRlbGV0ZSBwYXJlbnRPYmpbZmllbGRdO1xcblxcdFxcdFxcdFxcdFxcdH0pO1xcblxcdFxcdFxcdFxcdFwiKTpyLnB1c2goYFxcblxcdFxcdFxcdFxcdFxcdCR7dGhpcy5tYWtlRXJyb3Ioe3R5cGU6XCJvYmplY3RTdHJpY3RcIixleHBlY3RlZDonXCInK24uam9pbihcIiwgXCIpKydcIicsYWN0dWFsOlwiaW52YWxpZFByb3BzLmpvaW4oJywgJylcIixtZXNzYWdlczplfSl9XFxuXFx0XFx0XFx0XFx0YCksci5wdXNoKFwiXFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFwiKX19cmV0dXJuIG51bGw9PXQubWluUHJvcHMmJm51bGw9PXQubWF4UHJvcHN8fCh0LnN0cmljdD9yLnB1c2goYFxcblxcdFxcdFxcdFxcdHByb3BzID0gT2JqZWN0LmtleXMoJHtzP1wicGFyZW50T2JqXCI6XCJ2YWx1ZVwifSk7XFxuXFx0XFx0XFx0YCk6ci5wdXNoKGBcXG5cXHRcXHRcXHRcXHR2YXIgcHJvcHMgPSBPYmplY3Qua2V5cygke3M/XCJwYXJlbnRPYmpcIjpcInZhbHVlXCJ9KTtcXG5cXHRcXHRcXHRcXHQke3M/XCJmaWVsZCA9IHBhcmVudEZpZWxkO1wiOlwiXCJ9XFxuXFx0XFx0XFx0YCkpLG51bGwhPXQubWluUHJvcHMmJnIucHVzaChgXFxuXFx0XFx0XFx0aWYgKHByb3BzLmxlbmd0aCA8ICR7dC5taW5Qcm9wc30pIHtcXG5cXHRcXHRcXHRcXHQke3RoaXMubWFrZUVycm9yKHt0eXBlOlwib2JqZWN0TWluUHJvcHNcIixleHBlY3RlZDp0Lm1pblByb3BzLGFjdHVhbDpcInByb3BzLmxlbmd0aFwiLG1lc3NhZ2VzOmV9KX1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0YCksbnVsbCE9dC5tYXhQcm9wcyYmci5wdXNoKGBcXG5cXHRcXHRcXHRpZiAocHJvcHMubGVuZ3RoID4gJHt0Lm1heFByb3BzfSkge1xcblxcdFxcdFxcdFxcdCR7dGhpcy5tYWtlRXJyb3Ioe3R5cGU6XCJvYmplY3RNYXhQcm9wc1wiLGV4cGVjdGVkOnQubWF4UHJvcHMsYWN0dWFsOlwicHJvcHMubGVuZ3RoXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdFxcdH1cXG5cXHRcXHRgKSxzP3IucHVzaChcIlxcblxcdFxcdFxcdHJldHVybiBwYXJlbnRPYmo7XFxuXFx0XFx0XCIpOnIucHVzaChcIlxcblxcdFxcdFxcdHJldHVybiB2YWx1ZTtcXG5cXHRcXHRcIikse3NvdXJjZTpyLmpvaW4oXCJcXG5cIil9fSx1dD1mdW5jdGlvbih7c2NoZW1hOnQsbWVzc2FnZXM6ZSxpbmRleDpufSxpLHIpe2NvbnN0IHM9W107cmV0dXJuIHIuY3VzdG9tc1tuXT9yLmN1c3RvbXNbbl0uc2NoZW1hPXQ6ci5jdXN0b21zW25dPXtzY2hlbWE6dH0scy5wdXNoKGBcXG5cXHRcXHRjb25zdCBPYmplY3RJRCA9IGNvbnRleHQuY3VzdG9tc1ske259XS5zY2hlbWEuT2JqZWN0SUQ7XFxuXFx0XFx0aWYgKCFPYmplY3RJRC5pc1ZhbGlkKHZhbHVlKSkge1xcblxcdFxcdFxcdCR7dGhpcy5tYWtlRXJyb3Ioe3R5cGU6XCJvYmplY3RJRFwiLGFjdHVhbDpcInZhbHVlXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdFxcdHJldHVybjtcXG5cXHRcXHR9XFxuXFx0YCksITA9PT10LmNvbnZlcnQ/cy5wdXNoKFwicmV0dXJuIG5ldyBPYmplY3RJRCh2YWx1ZSlcIik6XCJoZXhTdHJpbmdcIj09PXQuY29udmVydD9zLnB1c2goXCJyZXR1cm4gdmFsdWUudG9TdHJpbmcoKVwiKTpzLnB1c2goXCJyZXR1cm4gdmFsdWVcIikse3NvdXJjZTpzLmpvaW4oXCJcXG5cIil9fTtjb25zdCBsdD0vXi0/WzAtOV1cXGQqKFxcLlxcZCspPyQvLGN0PS9eW2EtekEtWl0rJC8saHQ9L15bYS16QS1aMC05XSskLyxkdD0vXlthLXpBLVowLTlfLV0rJC8scHQ9L15bMC05YS1mQS1GXSskLyxmdD0vXig/OltBLVphLXowLTkrXFxcXC9dezR9KSooPzpbQS1aYS16MC05K1xcXFwvXXsyfT09fFtBLVphLXowLTkrL117M309KT8kLzt2YXIgbXQ9ZnVuY3Rpb24oe3NjaGVtYTp0LG1lc3NhZ2VzOmV9LG4saSl7Y29uc3Qgcj1bXTtsZXQgcz0hMTtpZighMD09PXQuY29udmVydCYmKHM9ITAsci5wdXNoKCdcXG5cXHRcXHRcXHRpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XFxuXFx0XFx0XFx0XFx0dmFsdWUgPSBTdHJpbmcodmFsdWUpO1xcblxcdFxcdFxcdH1cXG5cXHRcXHQnKSksci5wdXNoKGBcXG5cXHRcXHRpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XFxuXFx0XFx0XFx0JHt0aGlzLm1ha2VFcnJvcih7dHlwZTpcInN0cmluZ1wiLGFjdHVhbDpcInZhbHVlXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdFxcdHJldHVybiB2YWx1ZTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0dmFyIG9yaWdWYWx1ZSA9IHZhbHVlO1xcblxcdGApLHQudHJpbSYmKHM9ITAsci5wdXNoKFwiXFxuXFx0XFx0XFx0dmFsdWUgPSB2YWx1ZS50cmltKCk7XFxuXFx0XFx0XCIpKSx0LnRyaW1MZWZ0JiYocz0hMCxyLnB1c2goXCJcXG5cXHRcXHRcXHR2YWx1ZSA9IHZhbHVlLnRyaW1MZWZ0KCk7XFxuXFx0XFx0XCIpKSx0LnRyaW1SaWdodCYmKHM9ITAsci5wdXNoKFwiXFxuXFx0XFx0XFx0dmFsdWUgPSB2YWx1ZS50cmltUmlnaHQoKTtcXG5cXHRcXHRcIikpLHQucGFkU3RhcnQpe3M9ITA7Y29uc3QgZT1udWxsIT10LnBhZENoYXI/dC5wYWRDaGFyOlwiIFwiO3IucHVzaChgXFxuXFx0XFx0XFx0dmFsdWUgPSB2YWx1ZS5wYWRTdGFydCgke3QucGFkU3RhcnR9LCAke0pTT04uc3RyaW5naWZ5KGUpfSk7XFxuXFx0XFx0YCl9aWYodC5wYWRFbmQpe3M9ITA7Y29uc3QgZT1udWxsIT10LnBhZENoYXI/dC5wYWRDaGFyOlwiIFwiO3IucHVzaChgXFxuXFx0XFx0XFx0dmFsdWUgPSB2YWx1ZS5wYWRFbmQoJHt0LnBhZEVuZH0sICR7SlNPTi5zdHJpbmdpZnkoZSl9KTtcXG5cXHRcXHRgKX1pZih0Lmxvd2VyY2FzZSYmKHM9ITAsci5wdXNoKFwiXFxuXFx0XFx0XFx0dmFsdWUgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpO1xcblxcdFxcdFwiKSksdC51cHBlcmNhc2UmJihzPSEwLHIucHVzaChcIlxcblxcdFxcdFxcdHZhbHVlID0gdmFsdWUudG9VcHBlckNhc2UoKTtcXG5cXHRcXHRcIikpLHQubG9jYWxlTG93ZXJjYXNlJiYocz0hMCxyLnB1c2goXCJcXG5cXHRcXHRcXHR2YWx1ZSA9IHZhbHVlLnRvTG9jYWxlTG93ZXJDYXNlKCk7XFxuXFx0XFx0XCIpKSx0LmxvY2FsZVVwcGVyY2FzZSYmKHM9ITAsci5wdXNoKFwiXFxuXFx0XFx0XFx0dmFsdWUgPSB2YWx1ZS50b0xvY2FsZVVwcGVyQ2FzZSgpO1xcblxcdFxcdFwiKSksci5wdXNoKFwiXFxuXFx0XFx0XFx0dmFyIGxlbiA9IHZhbHVlLmxlbmd0aDtcXG5cXHRcIiksITE9PT10LmVtcHR5JiZyLnB1c2goYFxcblxcdFxcdFxcdGlmIChsZW4gPT09IDApIHtcXG5cXHRcXHRcXHRcXHQke3RoaXMubWFrZUVycm9yKHt0eXBlOlwic3RyaW5nRW1wdHlcIixhY3R1YWw6XCJ2YWx1ZVwiLG1lc3NhZ2VzOmV9KX1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0YCksbnVsbCE9dC5taW4mJnIucHVzaChgXFxuXFx0XFx0XFx0aWYgKGxlbiA8ICR7dC5taW59KSB7XFxuXFx0XFx0XFx0XFx0JHt0aGlzLm1ha2VFcnJvcih7dHlwZTpcInN0cmluZ01pblwiLGV4cGVjdGVkOnQubWluLGFjdHVhbDpcImxlblwiLG1lc3NhZ2VzOmV9KX1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0YCksbnVsbCE9dC5tYXgmJnIucHVzaChgXFxuXFx0XFx0XFx0aWYgKGxlbiA+ICR7dC5tYXh9KSB7XFxuXFx0XFx0XFx0XFx0JHt0aGlzLm1ha2VFcnJvcih7dHlwZTpcInN0cmluZ01heFwiLGV4cGVjdGVkOnQubWF4LGFjdHVhbDpcImxlblwiLG1lc3NhZ2VzOmV9KX1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0YCksbnVsbCE9dC5sZW5ndGgmJnIucHVzaChgXFxuXFx0XFx0XFx0aWYgKGxlbiAhPT0gJHt0Lmxlbmd0aH0pIHtcXG5cXHRcXHRcXHRcXHQke3RoaXMubWFrZUVycm9yKHt0eXBlOlwic3RyaW5nTGVuZ3RoXCIsZXhwZWN0ZWQ6dC5sZW5ndGgsYWN0dWFsOlwibGVuXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdFxcdH1cXG5cXHRcXHRgKSxudWxsIT10LnBhdHRlcm4pe2xldCBuPXQucGF0dGVybjtcInN0cmluZ1wiPT10eXBlb2YgdC5wYXR0ZXJuJiYobj1uZXcgUmVnRXhwKHQucGF0dGVybix0LnBhdHRlcm5GbGFncykpO2NvbnN0IGk9YFxcblxcdFxcdFxcdGlmICghJHtuLnRvU3RyaW5nKCl9LnRlc3QodmFsdWUpKVxcblxcdFxcdFxcdFxcdCR7dGhpcy5tYWtlRXJyb3Ioe3R5cGU6XCJzdHJpbmdQYXR0ZXJuXCIsZXhwZWN0ZWQ6YFwiJHtuLnRvU3RyaW5nKCkucmVwbGFjZSgvXCIvZyxcIlxcXFwkJlwiKX1cImAsYWN0dWFsOlwib3JpZ1ZhbHVlXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdGA7ci5wdXNoKGBcXG5cXHRcXHRcXHRpZiAoJHt0LmVtcHR5fSA9PT0gdHJ1ZSAmJiBsZW4gPT09IDApIHtcXG5cXHRcXHRcXHRcXHQvLyBEbyBub3RoaW5nXFxuXFx0XFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRcXHQke2l9XFxuXFx0XFx0XFx0fVxcblxcdFxcdGApfWlmKG51bGwhPXQuY29udGFpbnMmJnIucHVzaChgXFxuXFx0XFx0XFx0aWYgKHZhbHVlLmluZGV4T2YoXCIke3QuY29udGFpbnN9XCIpID09PSAtMSkge1xcblxcdFxcdFxcdFxcdCR7dGhpcy5tYWtlRXJyb3Ioe3R5cGU6XCJzdHJpbmdDb250YWluc1wiLGV4cGVjdGVkOidcIicrdC5jb250YWlucysnXCInLGFjdHVhbDpcIm9yaWdWYWx1ZVwiLG1lc3NhZ2VzOmV9KX1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0YCksbnVsbCE9dC5lbnVtKXtjb25zdCBuPUpTT04uc3RyaW5naWZ5KHQuZW51bSk7ci5wdXNoKGBcXG5cXHRcXHRcXHRpZiAoJHtufS5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcXG5cXHRcXHRcXHRcXHQke3RoaXMubWFrZUVycm9yKHt0eXBlOlwic3RyaW5nRW51bVwiLGV4cGVjdGVkOidcIicrdC5lbnVtLmpvaW4oXCIsIFwiKSsnXCInLGFjdHVhbDpcIm9yaWdWYWx1ZVwiLG1lc3NhZ2VzOmV9KX1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0YCl9cmV0dXJuITA9PT10Lm51bWVyaWMmJnIucHVzaChgXFxuXFx0XFx0XFx0aWYgKCEke2x0LnRvU3RyaW5nKCl9LnRlc3QodmFsdWUpICkge1xcblxcdFxcdFxcdFxcdCR7dGhpcy5tYWtlRXJyb3Ioe3R5cGU6XCJzdHJpbmdOdW1lcmljXCIsYWN0dWFsOlwib3JpZ1ZhbHVlXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdFxcdH1cXG5cXHRcXHRgKSwhMD09PXQuYWxwaGEmJnIucHVzaChgXFxuXFx0XFx0XFx0aWYoISR7Y3QudG9TdHJpbmcoKX0udGVzdCh2YWx1ZSkpIHtcXG5cXHRcXHRcXHRcXHQke3RoaXMubWFrZUVycm9yKHt0eXBlOlwic3RyaW5nQWxwaGFcIixhY3R1YWw6XCJvcmlnVmFsdWVcIixtZXNzYWdlczplfSl9XFxuXFx0XFx0XFx0fVxcblxcdFxcdGApLCEwPT09dC5hbHBoYW51bSYmci5wdXNoKGBcXG5cXHRcXHRcXHRpZighJHtodC50b1N0cmluZygpfS50ZXN0KHZhbHVlKSkge1xcblxcdFxcdFxcdFxcdCR7dGhpcy5tYWtlRXJyb3Ioe3R5cGU6XCJzdHJpbmdBbHBoYW51bVwiLGFjdHVhbDpcIm9yaWdWYWx1ZVwiLG1lc3NhZ2VzOmV9KX1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0YCksITA9PT10LmFscGhhZGFzaCYmci5wdXNoKGBcXG5cXHRcXHRcXHRpZighJHtkdC50b1N0cmluZygpfS50ZXN0KHZhbHVlKSkge1xcblxcdFxcdFxcdFxcdCR7dGhpcy5tYWtlRXJyb3Ioe3R5cGU6XCJzdHJpbmdBbHBoYWRhc2hcIixhY3R1YWw6XCJvcmlnVmFsdWVcIixtZXNzYWdlczplfSl9XFxuXFx0XFx0XFx0fVxcblxcdFxcdGApLCEwPT09dC5oZXgmJnIucHVzaChgXFxuXFx0XFx0XFx0aWYodmFsdWUubGVuZ3RoICUgMiAhPT0gMCB8fCAhJHtwdC50b1N0cmluZygpfS50ZXN0KHZhbHVlKSkge1xcblxcdFxcdFxcdFxcdCR7dGhpcy5tYWtlRXJyb3Ioe3R5cGU6XCJzdHJpbmdIZXhcIixhY3R1YWw6XCJvcmlnVmFsdWVcIixtZXNzYWdlczplfSl9XFxuXFx0XFx0XFx0fVxcblxcdFxcdGApLCEwPT09dC5zaW5nbGVMaW5lJiZyLnB1c2goYFxcblxcdFxcdFxcdGlmKHZhbHVlLmluY2x1ZGVzKFwiXFxcXG5cIikpIHtcXG5cXHRcXHRcXHRcXHQke3RoaXMubWFrZUVycm9yKHt0eXBlOlwic3RyaW5nU2luZ2xlTGluZVwiLG1lc3NhZ2VzOmV9KX1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0YCksITA9PT10LmJhc2U2NCYmci5wdXNoKGBcXG5cXHRcXHRcXHRpZighJHtmdC50b1N0cmluZygpfS50ZXN0KHZhbHVlKSkge1xcblxcdFxcdFxcdFxcdCR7dGhpcy5tYWtlRXJyb3Ioe3R5cGU6XCJzdHJpbmdCYXNlNjRcIixhY3R1YWw6XCJvcmlnVmFsdWVcIixtZXNzYWdlczplfSl9XFxuXFx0XFx0XFx0fVxcblxcdFxcdGApLHIucHVzaChcIlxcblxcdFxcdHJldHVybiB2YWx1ZTtcXG5cXHRcIikse3Nhbml0aXplZDpzLHNvdXJjZTpyLmpvaW4oXCJcXG5cIil9fSx2dD1mdW5jdGlvbih7c2NoZW1hOnQsbWVzc2FnZXM6ZX0sbixpKXtjb25zdCByPVtdO2lmKG51bGwhPXQuaXRlbXMpe2lmKCFBcnJheS5pc0FycmF5KHQuaXRlbXMpKXRocm93IG5ldyBFcnJvcihgSW52YWxpZCAnJHt0LnR5cGV9JyBzY2hlbWEuIFRoZSAnaXRlbXMnIGZpZWxkIG11c3QgYmUgYW4gYXJyYXkuYCk7aWYoMD09PXQuaXRlbXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgSW52YWxpZCAnJHt0LnR5cGV9JyBzY2hlbWEuIFRoZSAnaXRlbXMnIGZpZWxkIG11c3Qgbm90IGJlIGFuIGVtcHR5IGFycmF5LmApfWlmKHIucHVzaChgXFxuXFx0XFx0aWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xcblxcdFxcdFxcdCR7dGhpcy5tYWtlRXJyb3Ioe3R5cGU6XCJ0dXBsZVwiLGFjdHVhbDpcInZhbHVlXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdFxcdHJldHVybiB2YWx1ZTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0dmFyIGxlbiA9IHZhbHVlLmxlbmd0aDtcXG5cXHRgKSwhMT09PXQuZW1wdHkmJnIucHVzaChgXFxuXFx0XFx0XFx0aWYgKGxlbiA9PT0gMCkge1xcblxcdFxcdFxcdFxcdCR7dGhpcy5tYWtlRXJyb3Ioe3R5cGU6XCJ0dXBsZUVtcHR5XCIsYWN0dWFsOlwidmFsdWVcIixtZXNzYWdlczplfSl9XFxuXFx0XFx0XFx0XFx0cmV0dXJuIHZhbHVlO1xcblxcdFxcdFxcdH1cXG5cXHRcXHRgKSxudWxsIT10Lml0ZW1zKXtyLnB1c2goYFxcblxcdFxcdFxcdGlmICgke3QuZW1wdHl9ICE9PSBmYWxzZSAmJiBsZW4gPT09IDApIHtcXG5cXHRcXHRcXHRcXHRyZXR1cm4gdmFsdWU7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdGlmIChsZW4gIT09ICR7dC5pdGVtcy5sZW5ndGh9KSB7XFxuXFx0XFx0XFx0XFx0JHt0aGlzLm1ha2VFcnJvcih7dHlwZTpcInR1cGxlTGVuZ3RoXCIsZXhwZWN0ZWQ6dC5pdGVtcy5sZW5ndGgsYWN0dWFsOlwibGVuXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdFxcdFxcdHJldHVybiB2YWx1ZTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0YCksci5wdXNoKFwiXFxuXFx0XFx0XFx0dmFyIGFyciA9IHZhbHVlO1xcblxcdFxcdFxcdHZhciBwYXJlbnRGaWVsZCA9IGZpZWxkO1xcblxcdFxcdFwiKTtmb3IobGV0IGU9MDtlPHQuaXRlbXMubGVuZ3RoO2UrKyl7ci5wdXNoKGBcXG5cXHRcXHRcXHR2YWx1ZSA9IGFyclske2V9XTtcXG5cXHRcXHRgKTtjb25zdCBzPWAke259WyR7ZX1dYCxhPXRoaXMuZ2V0UnVsZUZyb21TY2hlbWEodC5pdGVtc1tlXSksbz1gXFxuXFx0XFx0XFx0YXJyWyR7ZX1dID0gJHtpLmFzeW5jP1wiYXdhaXQgXCI6XCJcIn1jb250ZXh0LmZuWyUlSU5ERVglJV0oYXJyWyR7ZX1dLCAocGFyZW50RmllbGQgPyBwYXJlbnRGaWVsZCA6IFwiXCIpICsgXCJbXCIgKyAke2V9ICsgXCJdXCIsIHBhcmVudCwgZXJyb3JzLCBjb250ZXh0KTtcXG5cXHRcXHRgO3IucHVzaCh0aGlzLmNvbXBpbGVSdWxlKGEsaSxzLG8sYGFyclske2V9XWApKX1yLnB1c2goXCJcXG5cXHRcXHRyZXR1cm4gYXJyO1xcblxcdFwiKX1lbHNlIHIucHVzaChcIlxcblxcdFxcdHJldHVybiB2YWx1ZTtcXG5cXHRcIik7cmV0dXJue3NvdXJjZTpyLmpvaW4oXCJcXG5cIil9fTtjb25zdCBndD0vXmh0dHBzPzpcXC9cXC9cXFMrLzt2YXIgeXQ9ZnVuY3Rpb24oe3NjaGVtYTp0LG1lc3NhZ2VzOmV9LG4saSl7Y29uc3Qgcj1bXTtyZXR1cm4gci5wdXNoKGBcXG5cXHRcXHRpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XFxuXFx0XFx0XFx0JHt0aGlzLm1ha2VFcnJvcih7dHlwZTpcInN0cmluZ1wiLGFjdHVhbDpcInZhbHVlXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdFxcdHJldHVybiB2YWx1ZTtcXG5cXHRcXHR9XFxuXFx0YCksdC5lbXB0eT9yLnB1c2goXCJcXG5cXHRcXHRcXHRpZiAodmFsdWUubGVuZ3RoID09PSAwKSByZXR1cm4gdmFsdWU7XFxuXFx0XFx0XCIpOnIucHVzaChgXFxuXFx0XFx0XFx0aWYgKHZhbHVlLmxlbmd0aCA9PT0gMCkge1xcblxcdFxcdFxcdFxcdCR7dGhpcy5tYWtlRXJyb3Ioe3R5cGU6XCJ1cmxFbXB0eVwiLGFjdHVhbDpcInZhbHVlXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdFxcdFxcdHJldHVybiB2YWx1ZTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0YCksci5wdXNoKGBcXG5cXHRcXHRpZiAoISR7Z3QudG9TdHJpbmcoKX0udGVzdCh2YWx1ZSkpIHtcXG5cXHRcXHRcXHQke3RoaXMubWFrZUVycm9yKHt0eXBlOlwidXJsXCIsYWN0dWFsOlwidmFsdWVcIixtZXNzYWdlczplfSl9XFxuXFx0XFx0fVxcblxcblxcdFxcdHJldHVybiB2YWx1ZTtcXG5cXHRgKSx7c291cmNlOnIuam9pbihcIlxcblwiKX19O2NvbnN0IGt0PS9eKFswLTlhLWZdezh9LVswLTlhLWZdezR9LVsxLTZdWzAtOWEtZl17M30tWzAtOWEtZl17NH0tWzAtOWEtZl17MTJ9fFswXXs4fS1bMF17NH0tWzBdezR9LVswXXs0fS1bMF17MTJ9KSQvaTt2YXIgYnQ9ZnVuY3Rpb24oe3NjaGVtYTp0LG1lc3NhZ2VzOmV9LG4pe2NvbnN0IGk9W107cmV0dXJuIGkucHVzaChgXFxuXFx0XFx0aWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xcblxcdFxcdFxcdCR7dGhpcy5tYWtlRXJyb3Ioe3R5cGU6XCJzdHJpbmdcIixhY3R1YWw6XCJ2YWx1ZVwiLG1lc3NhZ2VzOmV9KX1cXG5cXHRcXHRcXHRyZXR1cm4gdmFsdWU7XFxuXFx0XFx0fVxcblxcblxcdFxcdHZhciB2YWwgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpO1xcblxcdFxcdGlmICghJHtrdC50b1N0cmluZygpfS50ZXN0KHZhbCkpIHtcXG5cXHRcXHRcXHQke3RoaXMubWFrZUVycm9yKHt0eXBlOlwidXVpZFwiLGFjdHVhbDpcInZhbHVlXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdFxcdHJldHVybiB2YWx1ZTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Y29uc3QgdmVyc2lvbiA9IHZhbC5jaGFyQXQoMTQpIHwgMDtcXG5cXHRgKSxwYXJzZUludCh0LnZlcnNpb24pPDcmJmkucHVzaChgXFxuXFx0XFx0XFx0aWYgKCR7dC52ZXJzaW9ufSAhPT0gdmVyc2lvbikge1xcblxcdFxcdFxcdFxcdCR7dGhpcy5tYWtlRXJyb3Ioe3R5cGU6XCJ1dWlkVmVyc2lvblwiLGV4cGVjdGVkOnQudmVyc2lvbixhY3R1YWw6XCJ2ZXJzaW9uXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdFxcdFxcdHJldHVybiB2YWx1ZTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0YCksaS5wdXNoKGBcXG5cXHRcXHRzd2l0Y2ggKHZlcnNpb24pIHtcXG5cXHRcXHRjYXNlIDA6XFxuXFx0XFx0Y2FzZSAxOlxcblxcdFxcdGNhc2UgMjpcXG5cXHRcXHRjYXNlIDY6XFxuXFx0XFx0XFx0YnJlYWs7XFxuXFx0XFx0Y2FzZSAzOlxcblxcdFxcdGNhc2UgNDpcXG5cXHRcXHRjYXNlIDU6XFxuXFx0XFx0XFx0aWYgKFtcIjhcIiwgXCI5XCIsIFwiYVwiLCBcImJcIl0uaW5kZXhPZih2YWwuY2hhckF0KDE5KSkgPT09IC0xKSB7XFxuXFx0XFx0XFx0XFx0JHt0aGlzLm1ha2VFcnJvcih7dHlwZTpcInV1aWRcIixhY3R1YWw6XCJ2YWx1ZVwiLG1lc3NhZ2VzOmV9KX1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcblxcdFxcdHJldHVybiB2YWx1ZTtcXG5cXHRgKSx7c291cmNlOmkuam9pbihcIlxcblwiKX19O2NvbnN0IHh0PS9eKCgoW2EtZjAtOV1bYS1mMC05XStbLV0pezV9fChbYS1mMC05XVthLWYwLTldK1s6XSl7NX0pKFthLWYwLTldW2EtZjAtOV0pJCl8KF4oW2EtZjAtOV1bYS1mMC05XVthLWYwLTldW2EtZjAtOV0rWy5dKXsyfShbYS1mMC05XVthLWYwLTldW2EtZjAtOV1bYS1mMC05XSkpJC9pO3ZhciBDdD1mdW5jdGlvbih7c2NoZW1hOnQsbWVzc2FnZXM6ZX0sbixpKXtyZXR1cm57c291cmNlOmBcXG5cXHRcXHRcXHRpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XFxuXFx0XFx0XFx0XFx0JHt0aGlzLm1ha2VFcnJvcih7dHlwZTpcInN0cmluZ1wiLGFjdHVhbDpcInZhbHVlXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdFxcdFxcdHJldHVybiB2YWx1ZTtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0dmFyIHYgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpO1xcblxcdFxcdFxcdGlmICghJHt4dC50b1N0cmluZygpfS50ZXN0KHYpKSB7XFxuXFx0XFx0XFx0XFx0JHt0aGlzLm1ha2VFcnJvcih7dHlwZTpcIm1hY1wiLGFjdHVhbDpcInZhbHVlXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXG5cXHRcXHRcXHRyZXR1cm4gdmFsdWU7XFxuXFx0XFx0YH19LEl0PWZ1bmN0aW9uKHtzY2hlbWE6dCxtZXNzYWdlczplfSxuLGkpe3JldHVybntzb3VyY2U6YFxcblxcdFxcdFxcdGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcXG5cXHRcXHRcXHRcXHQke3RoaXMubWFrZUVycm9yKHt0eXBlOlwic3RyaW5nXCIsYWN0dWFsOlwidmFsdWVcIixtZXNzYWdlczplfSl9XFxuXFx0XFx0XFx0XFx0cmV0dXJuIHZhbHVlO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKVxcblxcdFxcdFxcdFxcdHZhbHVlID0gU3RyaW5nKHZhbHVlKTtcXG5cXG5cXHRcXHRcXHR2YWwgPSB2YWx1ZS5yZXBsYWNlKC9cXFxcRCsvZywgXCJcIik7XFxuXFxuXFx0XFx0XFx0dmFyIGFycmF5ID0gWzAsIDIsIDQsIDYsIDgsIDEsIDMsIDUsIDcsIDldO1xcblxcdFxcdFxcdHZhciBsZW4gPSB2YWwgPyB2YWwubGVuZ3RoIDogMCxcXG5cXHRcXHRcXHRcXHRiaXQgPSAxLFxcblxcdFxcdFxcdFxcdHN1bSA9IDA7XFxuXFx0XFx0XFx0d2hpbGUgKGxlbi0tKSB7XFxuXFx0XFx0XFx0XFx0c3VtICs9ICEoYml0IF49IDEpID8gcGFyc2VJbnQodmFsW2xlbl0sIDEwKSA6IGFycmF5W3ZhbFtsZW5dXTtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0aWYgKCEoc3VtICUgMTAgPT09IDAgJiYgc3VtID4gMCkpIHtcXG5cXHRcXHRcXHRcXHQke3RoaXMubWFrZUVycm9yKHt0eXBlOlwibHVoblwiLGFjdHVhbDpcInZhbHVlXCIsbWVzc2FnZXM6ZX0pfVxcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRyZXR1cm4gdmFsdWU7XFxuXFx0XFx0YH19O2xldCB3dCxFdCxBdCxQdDt2YXIgT3Q9ZnVuY3Rpb24odCl7d3R8fCh3dD1SKFwicHJldHRpZXJcIiksRXQ9e3BhcnNlcjpcImJhYmVsXCIsdXNlVGFiczohMSxwcmludFdpZHRoOjEyMCx0cmFpbGluZ0NvbW1hOlwibm9uZVwiLHRhYldpZHRoOjQsc2luZ2xlUXVvdGU6ITEsc2VtaTohMCxicmFja2V0U3BhY2luZzohMH0sQXQ9UihcImNsaS1oaWdobGlnaHRcIiksUHQ9e2xhbmd1YWdlOlwianNcIix0aGVtZTpBdC5mcm9tSnNvbih7a2V5d29yZDpbXCJ3aGl0ZVwiLFwiYm9sZFwiXSxidWlsdF9pbjpcIm1hZ2VudGFcIixsaXRlcmFsOlwiY3lhblwiLG51bWJlcjpcIm1hZ2VudGFcIixyZWdleHA6XCJyZWRcIixzdHJpbmc6W1wieWVsbG93XCIsXCJib2xkXCJdLHN5bWJvbDpcInBsYWluXCIsY2xhc3M6XCJibHVlXCIsYXR0cjpcInBsYWluXCIsZnVuY3Rpb246W1wid2hpdGVcIixcImJvbGRcIl0sdGl0bGU6XCJwbGFpblwiLHBhcmFtczpcImdyZWVuXCIsY29tbWVudDpcImdyZXlcIn0pfSk7Y29uc3QgZT13dC5mb3JtYXQodCxFdCk7cmV0dXJuIEF0LmhpZ2hsaWdodChlLFB0KX07bGV0IFR0O3RyeXtUdD1uZXcgRnVuY3Rpb24oXCJyZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKGFzeW5jIGZ1bmN0aW9uKCl7fSkuY29uc3RydWN0b3JcIikoKX1jYXRjaCh0KXt9Y29uc3QgU3Q9TCxfdD0odCxlLG4pPT57cmV0dXJuIHQucmVwbGFjZShlLG51bGw9PShpPW4pP1wiXCI6XCJmdW5jdGlvblwiPT10eXBlb2YgaS50b1N0cmluZz9pOnR5cGVvZiBpKTt2YXIgaX07dmFyIER0PWNsYXNze2NvbnN0cnVjdG9yKHQpe2lmKHRoaXMub3B0cz17fSx0aGlzLmRlZmF1bHRzPXt9LHRoaXMubWVzc2FnZXM9T2JqZWN0LmFzc2lnbih7fSxGKSx0aGlzLnJ1bGVzPXthbnk6eixhcnJheTpHLGJvb2xlYW46cSxjbGFzczpLLGN1c3RvbTpXLGN1cnJlbmN5OkosZGF0ZTpILGVtYWlsOlEsZW51bTpYLGVxdWFsOlksZm9yYmlkZGVuOnR0LGZ1bmN0aW9uOmV0LG11bHRpOm50LG51bWJlcjppdCxvYmplY3Q6b3Qsb2JqZWN0SUQ6dXQsc3RyaW5nOm10LHR1cGxlOnZ0LHVybDp5dCx1dWlkOmJ0LG1hYzpDdCxsdWhuOkl0fSx0aGlzLmFsaWFzZXM9e30sdGhpcy5jYWNoZT1uZXcgTWFwLHQpe2lmKFN0KHRoaXMub3B0cyx0KSx0LmRlZmF1bHRzJiZTdCh0aGlzLmRlZmF1bHRzLHQuZGVmYXVsdHMpLHQubWVzc2FnZXMpZm9yKGNvbnN0IGUgaW4gdC5tZXNzYWdlcyl0aGlzLmFkZE1lc3NhZ2UoZSx0Lm1lc3NhZ2VzW2VdKTtpZih0LmFsaWFzZXMpZm9yKGNvbnN0IGUgaW4gdC5hbGlhc2VzKXRoaXMuYWxpYXMoZSx0LmFsaWFzZXNbZV0pO2lmKHQuY3VzdG9tUnVsZXMpZm9yKGNvbnN0IGUgaW4gdC5jdXN0b21SdWxlcyl0aGlzLmFkZChlLHQuY3VzdG9tUnVsZXNbZV0pO2lmKHQucGx1Z2lucyl7Y29uc3QgZT10LnBsdWdpbnM7aWYoIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IEVycm9yKFwiUGx1Z2lucyB0eXBlIG11c3QgYmUgYXJyYXlcIik7ZS5mb3JFYWNoKHRoaXMucGx1Z2luLmJpbmQodGhpcykpfWlmKHRoaXMub3B0cy5kZWJ1Zyl7bGV0IHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHR9O1widW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3cmJih0PU90KSx0aGlzLl9mb3JtYXR0ZXI9dH19fXZhbGlkYXRlKHQsZSl7cmV0dXJuIHRoaXMuY29tcGlsZShlKSh0KX13cmFwUmVxdWlyZWRDaGVja1NvdXJjZUNvZGUodCxlLG4saSl7Y29uc3Qgcj1bXTtsZXQgcyxhPSEwPT09dC5zY2hlbWEub3B0aW9uYWx8fFwiZm9yYmlkZGVuXCI9PT10LnNjaGVtYS50eXBlLG89ITA9PT10LnNjaGVtYS5vcHRpb25hbHx8ITA9PT10LnNjaGVtYS5udWxsYWJsZXx8XCJmb3JiaWRkZW5cIj09PXQuc2NoZW1hLnR5cGU7aWYobnVsbCE9dC5zY2hlbWEuZGVmYXVsdCl7bGV0IGU7YT0hMSwhMCE9PXQuc2NoZW1hLm51bGxhYmxlJiYobz0hMSksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5zY2hlbWEuZGVmYXVsdD8obi5jdXN0b21zW3QuaW5kZXhdfHwobi5jdXN0b21zW3QuaW5kZXhdPXt9KSxuLmN1c3RvbXNbdC5pbmRleF0uZGVmYXVsdEZuPXQuc2NoZW1hLmRlZmF1bHQsZT1gY29udGV4dC5jdXN0b21zWyR7dC5pbmRleH1dLmRlZmF1bHRGbigpYCk6ZT1KU09OLnN0cmluZ2lmeSh0LnNjaGVtYS5kZWZhdWx0KSxzPWBcXG5cXHRcXHRcXHRcXHR2YWx1ZSA9ICR7ZX07XFxuXFx0XFx0XFx0XFx0JHtpfSA9IHZhbHVlO1xcblxcdFxcdFxcdGB9ZWxzZSBzPXRoaXMubWFrZUVycm9yKHt0eXBlOlwicmVxdWlyZWRcIixhY3R1YWw6XCJ2YWx1ZVwiLG1lc3NhZ2VzOnQubWVzc2FnZXN9KTtyZXR1cm4gci5wdXNoKGBcXG5cXHRcXHRcXHRpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgeyAke2E/XCJcXG4vLyBhbGxvdyB1bmRlZmluZWRcXG5cIjpzfSB9XFxuXFx0XFx0XFx0ZWxzZSBpZiAodmFsdWUgPT09IG51bGwpIHsgJHtvP1wiXFxuLy8gYWxsb3cgbnVsbFxcblwiOnN9IH1cXG5cXHRcXHRcXHQke2U/YGVsc2UgeyAke2V9IH1gOlwiXCJ9XFxuXFx0XFx0YCksci5qb2luKFwiXFxuXCIpfWNvbXBpbGUodCl7aWYobnVsbD09PXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc2NoZW1hLlwiKTtjb25zdCBlPXRoaXMsbj17aW5kZXg6MCxhc3luYzohMD09PXQuJCRhc3luYyxydWxlczpbXSxmbjpbXSxjdXN0b21zOnt9LHV0aWxzOntyZXBsYWNlOl90fX07aWYodGhpcy5jYWNoZS5jbGVhcigpLGRlbGV0ZSB0LiQkYXN5bmMsbi5hc3luYyYmIVR0KXRocm93IG5ldyBFcnJvcihcIkFzeW5jaHJvbm91cyBtb2RlIGlzIG5vdCBzdXBwb3J0ZWQuXCIpO2lmKCEwIT09dC4kJHJvb3QpaWYoQXJyYXkuaXNBcnJheSh0KSl7dD10aGlzLmdldFJ1bGVGcm9tU2NoZW1hKHQpLnNjaGVtYX1lbHNle2NvbnN0IGU9T2JqZWN0LmFzc2lnbih7fSx0KTt0PXt0eXBlOlwib2JqZWN0XCIsc3RyaWN0OmUuJCRzdHJpY3QscHJvcGVydGllczplfSxkZWxldGUgZS4kJHN0cmljdH1jb25zdCBpPVtcInZhciBlcnJvcnMgPSBbXTtcIixcInZhciBmaWVsZDtcIixcInZhciBwYXJlbnQgPSBudWxsO1wiXSxyPXRoaXMuZ2V0UnVsZUZyb21TY2hlbWEodCk7aS5wdXNoKHRoaXMuY29tcGlsZVJ1bGUocixuLG51bGwsKG4uYXN5bmM/XCJhd2FpdCBcIjpcIlwiKStcImNvbnRleHQuZm5bJSVJTkRFWCUlXSh2YWx1ZSwgZmllbGQsIG51bGwsIGVycm9ycywgY29udGV4dCk7XCIsXCJ2YWx1ZVwiKSksaS5wdXNoKFwiaWYgKGVycm9ycy5sZW5ndGgpIHtcIiksaS5wdXNoKFwiXFxuXFx0XFx0XFx0cmV0dXJuIGVycm9ycy5tYXAoZXJyID0+IHtcXG5cXHRcXHRcXHRcXHRpZiAoZXJyLm1lc3NhZ2UpIHtcXG5cXHRcXHRcXHRcXHRcXHRlcnIubWVzc2FnZSA9IGNvbnRleHQudXRpbHMucmVwbGFjZShlcnIubWVzc2FnZSwgL1xcXFx7ZmllbGRcXFxcfS9nLCBlcnIuZmllbGQpO1xcblxcdFxcdFxcdFxcdFxcdGVyci5tZXNzYWdlID0gY29udGV4dC51dGlscy5yZXBsYWNlKGVyci5tZXNzYWdlLCAvXFxcXHtleHBlY3RlZFxcXFx9L2csIGVyci5leHBlY3RlZCk7XFxuXFx0XFx0XFx0XFx0XFx0ZXJyLm1lc3NhZ2UgPSBjb250ZXh0LnV0aWxzLnJlcGxhY2UoZXJyLm1lc3NhZ2UsIC9cXFxce2FjdHVhbFxcXFx9L2csIGVyci5hY3R1YWwpO1xcblxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRyZXR1cm4gZXJyO1xcblxcdFxcdFxcdH0pO1xcblxcdFxcdFwiKSxpLnB1c2goXCJ9XCIpLGkucHVzaChcInJldHVybiB0cnVlO1wiKTtjb25zdCBzPWkuam9pbihcIlxcblwiKSxhPW5ldyhuLmFzeW5jP1R0OkZ1bmN0aW9uKShcInZhbHVlXCIsXCJjb250ZXh0XCIscyk7dGhpcy5vcHRzLmRlYnVnJiZjb25zb2xlLmxvZyh0aGlzLl9mb3JtYXR0ZXIoXCIvLyBNYWluIGNoZWNrIGZ1bmN0aW9uXFxuXCIrYS50b1N0cmluZygpKSksdGhpcy5jYWNoZS5jbGVhcigpO2NvbnN0IG89ZnVuY3Rpb24odCxpKXtyZXR1cm4gbi5kYXRhPXQsaSYmaS5tZXRhJiYobi5tZXRhPWkubWV0YSksYS5jYWxsKGUsdCxuKX07cmV0dXJuIG8uYXN5bmM9bi5hc3luYyxvfWNvbXBpbGVSdWxlKHQsZSxuLGkscil7Y29uc3Qgcz1bXSxhPXRoaXMuY2FjaGUuZ2V0KHQuc2NoZW1hKTtpZihhKSh0PWEpLmN5Y2xlPSEwLHQuY3ljbGVTdGFjaz1bXSxzLnB1c2godGhpcy53cmFwUmVxdWlyZWRDaGVja1NvdXJjZUNvZGUodCxgXFxuXFx0XFx0XFx0XFx0dmFyIHJ1bGUgPSBjb250ZXh0LnJ1bGVzWyR7dC5pbmRleH1dO1xcblxcdFxcdFxcdFxcdGlmIChydWxlLmN5Y2xlU3RhY2suaW5kZXhPZih2YWx1ZSkgPT09IC0xKSB7XFxuXFx0XFx0XFx0XFx0XFx0cnVsZS5jeWNsZVN0YWNrLnB1c2godmFsdWUpO1xcblxcdFxcdFxcdFxcdFxcdCR7aS5yZXBsYWNlKC8lJUlOREVYJSUvZyx0LmluZGV4KX1cXG5cXHRcXHRcXHRcXHRcXHRydWxlLmN5Y2xlU3RhY2sucG9wKHZhbHVlKTtcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0YCxlLHIpKTtlbHNle3RoaXMuY2FjaGUuc2V0KHQuc2NoZW1hLHQpLHQuaW5kZXg9ZS5pbmRleCxlLnJ1bGVzW2UuaW5kZXhdPXQ7Y29uc3QgYT1udWxsIT1uP246XCIkJHJvb3RcIjtlLmluZGV4Kys7Y29uc3Qgbz10LnJ1bGVGdW5jdGlvbi5jYWxsKHRoaXMsdCxuLGUpO28uc291cmNlPW8uc291cmNlLnJlcGxhY2UoLyUlSU5ERVglJS9nLHQuaW5kZXgpO2NvbnN0IHU9bmV3KGUuYXN5bmM/VHQ6RnVuY3Rpb24pKFwidmFsdWVcIixcImZpZWxkXCIsXCJwYXJlbnRcIixcImVycm9yc1wiLFwiY29udGV4dFwiLG8uc291cmNlKTtlLmZuW3QuaW5kZXhdPXUuYmluZCh0aGlzKSxzLnB1c2godGhpcy53cmFwUmVxdWlyZWRDaGVja1NvdXJjZUNvZGUodCxpLnJlcGxhY2UoLyUlSU5ERVglJS9nLHQuaW5kZXgpLGUscikpLHMucHVzaCh0aGlzLm1ha2VDdXN0b21WYWxpZGF0b3Ioe3ZOYW1lOnIscGF0aDphLHNjaGVtYTp0LnNjaGVtYSxjb250ZXh0OmUsbWVzc2FnZXM6dC5tZXNzYWdlcyxydWxlSW5kZXg6dC5pbmRleH0pKSx0aGlzLm9wdHMuZGVidWcmJmNvbnNvbGUubG9nKHRoaXMuX2Zvcm1hdHRlcihgLy8gQ29udGV4dC5mblske3QuaW5kZXh9XVxcbmArdS50b1N0cmluZygpKSl9cmV0dXJuIHMuam9pbihcIlxcblwiKX1nZXRSdWxlRnJvbVNjaGVtYSh0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl0PXRoaXMucGFyc2VTaG9ydEhhbmQodCk7ZWxzZSBpZihBcnJheS5pc0FycmF5KHQpKXtpZigwPT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNjaGVtYS5cIik7KHQ9e3R5cGU6XCJtdWx0aVwiLHJ1bGVzOnR9KS5ydWxlcy5tYXAoKHQ9PnRoaXMuZ2V0UnVsZUZyb21TY2hlbWEodCkpKS5ldmVyeSgodD0+MT09dC5zY2hlbWEub3B0aW9uYWwpKSYmKHQub3B0aW9uYWw9ITApfWlmKHQuJCR0eXBlKXtjb25zdCBlPXQuJCR0eXBlLG49dGhpcy5nZXRSdWxlRnJvbVNjaGVtYShlKS5zY2hlbWE7ZGVsZXRlIHQuJCR0eXBlO2NvbnN0IGk9T2JqZWN0LmFzc2lnbih7fSx0KTtmb3IoY29uc3QgZSBpbiB0KWRlbGV0ZSB0W2VdO1N0KHQsbix7c2tpcElmRXhpc3Q6ITB9KSx0LnByb3BzPWl9Y29uc3QgZT10aGlzLmFsaWFzZXNbdC50eXBlXTtlJiYoZGVsZXRlIHQudHlwZSx0PVN0KHQsZSx7c2tpcElmRXhpc3Q6ITB9KSk7Y29uc3Qgbj10aGlzLnJ1bGVzW3QudHlwZV07aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCAnXCIrdC50eXBlK1wiJyB0eXBlIGluIHZhbGlkYXRvciBzY2hlbWEuXCIpO3JldHVybnttZXNzYWdlczpPYmplY3QuYXNzaWduKHt9LHRoaXMubWVzc2FnZXMsdC5tZXNzYWdlcyksc2NoZW1hOlN0KHQsdGhpcy5kZWZhdWx0c1t0LnR5cGVdLHtza2lwSWZFeGlzdDohMH0pLHJ1bGVGdW5jdGlvbjpufX1wYXJzZVNob3J0SGFuZCh0KXtjb25zdCBlPXQuc3BsaXQoXCJ8XCIpLm1hcCgodD0+dC50cmltKCkpKTtsZXQgbixpPWVbMF07cmV0dXJuIG49aS5lbmRzV2l0aChcIltdXCIpP3RoaXMuZ2V0UnVsZUZyb21TY2hlbWEoe3R5cGU6XCJhcnJheVwiLGl0ZW1zOmkuc2xpY2UoMCwtMil9KS5zY2hlbWE6e3R5cGU6ZVswXX0sZS5zbGljZSgxKS5tYXAoKHQ9Pntjb25zdCBlPXQuaW5kZXhPZihcIjpcIik7aWYoLTEhPT1lKXtjb25zdCBpPXQuc3Vic3RyKDAsZSkudHJpbSgpO2xldCByPXQuc3Vic3RyKGUrMSkudHJpbSgpO1widHJ1ZVwiPT09cnx8XCJmYWxzZVwiPT09cj9yPVwidHJ1ZVwiPT09cjpOdW1iZXIuaXNOYU4oTnVtYmVyKHIpKXx8KHI9TnVtYmVyKHIpKSxuW2ldPXJ9ZWxzZSB0LnN0YXJ0c1dpdGgoXCJuby1cIik/blt0LnNsaWNlKDMpXT0hMTpuW3RdPSEwfSkpLG59bWFrZUVycm9yKHt0eXBlOnQsZmllbGQ6ZSxleHBlY3RlZDpuLGFjdHVhbDppLG1lc3NhZ2VzOnJ9KXtjb25zdCBzPXt0eXBlOmBcIiR7dH1cImAsbWVzc2FnZTpgXCIke3JbdF19XCJgfTtzLmZpZWxkPWU/YFwiJHtlfVwiYDpcImZpZWxkXCIsbnVsbCE9biYmKHMuZXhwZWN0ZWQ9biksbnVsbCE9aSYmKHMuYWN0dWFsPWkpO3JldHVybmBlcnJvcnMucHVzaCh7ICR7T2JqZWN0LmtleXMocykubWFwKCh0PT5gJHt0fTogJHtzW3RdfWApKS5qb2luKFwiLCBcIil9IH0pO2B9bWFrZUN1c3RvbVZhbGlkYXRvcih7dk5hbWU6dD1cInZhbHVlXCIsZm5OYW1lOmU9XCJjdXN0b21cIixydWxlSW5kZXg6bixwYXRoOmksc2NoZW1hOnIsY29udGV4dDpzLG1lc3NhZ2VzOmF9KXtjb25zdCBvPVwicnVsZVwiK24sdT1cImZuQ3VzdG9tRXJyb3JzXCIrbjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiByW2VdKXtpZihzLmN1c3RvbXNbbl0/KHMuY3VzdG9tc1tuXS5tZXNzYWdlcz1hLHMuY3VzdG9tc1tuXS5zY2hlbWE9cik6cy5jdXN0b21zW25dPXttZXNzYWdlczphLHNjaGVtYTpyfSx0aGlzLm9wdHMudXNlTmV3Q3VzdG9tQ2hlY2tlckZ1bmN0aW9uKXJldHVybmBcXG4gICAgICAgICAgICAgICBcXHRcXHRjb25zdCAke299ID0gY29udGV4dC5jdXN0b21zWyR7bn1dO1xcblxcdFxcdFxcdFxcdFxcdGNvbnN0ICR7dX0gPSBbXTtcXG5cXHRcXHRcXHRcXHRcXHQke3R9ID0gJHtzLmFzeW5jP1wiYXdhaXQgXCI6XCJcIn0ke299LnNjaGVtYS4ke2V9LmNhbGwodGhpcywgJHt0fSwgJHt1fSAsICR7b30uc2NoZW1hLCBcIiR7aX1cIiwgcGFyZW50LCBjb250ZXh0KTtcXG5cXHRcXHRcXHRcXHRcXHRpZiAoQXJyYXkuaXNBcnJheSgke3V9ICkpIHtcXG4gICAgICAgICAgICAgICAgICBcXHRcXHQke3V9IC5mb3JFYWNoKGVyciA9PiBlcnJvcnMucHVzaChPYmplY3QuYXNzaWduKHsgbWVzc2FnZTogJHtvfS5tZXNzYWdlc1tlcnIudHlwZV0sIGZpZWxkIH0sIGVycikpKTtcXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0YDtjb25zdCBsPVwicmVzX1wiK287cmV0dXJuYFxcblxcdFxcdFxcdFxcdGNvbnN0ICR7b30gPSBjb250ZXh0LmN1c3RvbXNbJHtufV07XFxuXFx0XFx0XFx0XFx0Y29uc3QgJHtsfSA9ICR7cy5hc3luYz9cImF3YWl0IFwiOlwiXCJ9JHtvfS5zY2hlbWEuJHtlfS5jYWxsKHRoaXMsICR7dH0sICR7b30uc2NoZW1hLCBcIiR7aX1cIiwgcGFyZW50LCBjb250ZXh0KTtcXG5cXHRcXHRcXHRcXHRpZiAoQXJyYXkuaXNBcnJheSgke2x9KSkge1xcblxcdFxcdFxcdFxcdFxcdCR7bH0uZm9yRWFjaChlcnIgPT4gZXJyb3JzLnB1c2goT2JqZWN0LmFzc2lnbih7IG1lc3NhZ2U6ICR7b30ubWVzc2FnZXNbZXJyLnR5cGVdLCBmaWVsZCB9LCBlcnIpKSk7XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdGB9cmV0dXJuXCJcIn1hZGQodCxlKXt0aGlzLnJ1bGVzW3RdPWV9YWRkTWVzc2FnZSh0LGUpe3RoaXMubWVzc2FnZXNbdF09ZX1hbGlhcyh0LGUpe2lmKHRoaXMucnVsZXNbdF0pdGhyb3cgbmV3IEVycm9yKFwiQWxpYXMgbmFtZSBtdXN0IG5vdCBiZSBhIHJ1bGUgbmFtZVwiKTt0aGlzLmFsaWFzZXNbdF09ZX1wbHVnaW4odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJQbHVnaW4gZm4gdHlwZSBtdXN0IGJlIGZ1bmN0aW9uXCIpO3JldHVybiB0KHRoaXMpfX0sTXQ9Lyh7eyAqfCAqfX0pL2c7ZnVuY3Rpb24gVnQodCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxuPU9iamVjdC5rZXlzKHQpLmpvaW4oXCJ8XCIpO2lmKFwiXCI9PT1uKXJldHVybiExO3ZhciBpPVwiKD88IVthLXosQS1aXzAtOV0pKFwiLmNvbmNhdChuLFwiKSgoKFxcXFwuW2EtekEtWl9dW2EtekEtWjAtOV9dKil8KFxcXFxbWzAtOV0qXFxcXF0pKSopKD8hW2EteixBLVpfMC05XSlcIik7cmV0dXJuIGU/aTpuZXcgUmVnRXhwKGksXCJnXCIpfXZhciAkdD0ve3soKD8hfX0pLikqfX0vZyxOdD0vKD88PSAqbWMtaWYgKj0gKlwiICopW15cIl0qKD89XCIpL2csanQ9LycuKicvZyxCdD0vXiAqKFswLTkuXSt8KCgoPzwhXFxcXCknKShbXiddfFxcXFwnKSooKD88IVxcXFwpJykpKSggKlxcKyAqKCgoPzwhXFxcXCknKShbXiddfFxcXFwnKSooKD88IVxcXFwpJyl8WzAtOS5dKykpKiAqJC9nLFJ0PS9eKCAqKFswLTkuXSt8KCgoPzwhXFxcXCknKShbXiddfFxcXFwnKSooKD88IVxcXFwpJykpKSggKlxcKyAqKCgoPzwhXFxcXCknKShbXiddfFxcXFwnKSooKD88IVxcXFwpJyl8WzAtOS5dKykpKiAqKSg9PXw9PT0pKCAqKFswLTkuXSt8KCgoPzwhXFxcXCknKShbXiddfFxcXFwnKSooKD88IVxcXFwpJykpKSggKlxcKyAqKCgoPzwhXFxcXCknKShbXiddfFxcXFwnKSooKD88IVxcXFwpJyl8WzAtOS5dKykpKiAqKSQvZyxMdD1mdW5jdGlvbih0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0saT1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106aixyPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTp3aW5kb3c7aWkocixpKXx8KHJbaV09e30pO2Zvcih2YXIgcz1yW2ldLGE9dC5zcGxpdChcIi5cIiksbz0wO288YS5sZW5ndGgtMTtvKyspaWkocyxhW29dKXx8KHNbYVtvXV09e30pLHM9c1thW29dXTtyZXR1cm4hKGlpKHMsYVthLmxlbmd0aC0xXSkmJiFuKSYmKHNbYVthLmxlbmd0aC0xXV09ZSwhMCl9LEZ0PWZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpqLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOndpbmRvdztcIlwiIT09ZSYmKHQ9ZStcIi5cIit0KTtmb3IodmFyIGkscj1uLHM9dC5yZXBsYWNlQWxsKC9cXF0vZyxcIlwiKS5yZXBsYWNlQWxsKC9cXFsvZyxcIi5cIikuc3BsaXQoXCIuXCIpLGE9MDthPHMubGVuZ3RoO2ErKyl7aWYoIWlpKHIsc1thXSkpcmV0dXJuO2k9cltzW2FdXSxyPXJbc1thXV19cmV0dXJuIGl9LHp0PVwiSU5VTUJFUlwiLEd0PVwiSU9QMVwiLHF0PVwiSU9QMlwiLEt0PVwiSU9QM1wiLFd0PVwiSVZBUlwiLEp0PVwiSVZBUk5BTUVcIixIdD1cIklGVU5DQUxMXCIsVXQ9XCJJRlVOREVGXCIsWnQ9XCJJRVhQUlwiLFF0PVwiSUVYUFJFVkFMXCIsWHQ9XCJJTUVNQkVSXCIsWXQ9XCJJRU5EU1RBVEVNRU5UXCIsdGU9XCJJQVJSQVlcIjtmdW5jdGlvbiBlZSh0LGUpe3RoaXMudHlwZT10LHRoaXMudmFsdWU9bnVsbCE9ZT9lOjB9ZnVuY3Rpb24gbmUodCl7cmV0dXJuIG5ldyBlZShHdCx0KX1mdW5jdGlvbiBpZSh0KXtyZXR1cm4gbmV3IGVlKHF0LHQpfWZ1bmN0aW9uIHJlKHQpe3JldHVybiBuZXcgZWUoS3QsdCl9ZnVuY3Rpb24gc2UodCxlLG4saSxyKXtmb3IodmFyIHMsYSxvLHUsbD1bXSxjPVtdLGg9MDtoPHQubGVuZ3RoO2grKyl7dmFyIGQ9dFtoXSxwPWQudHlwZTtpZihwPT09enR8fHA9PT1KdClBcnJheS5pc0FycmF5KGQudmFsdWUpP2wucHVzaC5hcHBseShsLHNlKGQudmFsdWUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGVlKHp0LHQpfSkpLmNvbmNhdChuZXcgZWUodGUsZC52YWx1ZS5sZW5ndGgpKSxlLG4saSxyKSk6bC5wdXNoKGQpO2Vsc2UgaWYocD09PVd0JiZyLmhhc093blByb3BlcnR5KGQudmFsdWUpKWQ9bmV3IGVlKHp0LHJbZC52YWx1ZV0pLGwucHVzaChkKTtlbHNlIGlmKHA9PT1xdCYmbC5sZW5ndGg+MSlhPWwucG9wKCkscz1sLnBvcCgpLHU9bltkLnZhbHVlXSxkPW5ldyBlZSh6dCx1KHMudmFsdWUsYS52YWx1ZSkpLGwucHVzaChkKTtlbHNlIGlmKHA9PT1LdCYmbC5sZW5ndGg+MilvPWwucG9wKCksYT1sLnBvcCgpLHM9bC5wb3AoKSxcIj9cIj09PWQudmFsdWU/bC5wdXNoKHMudmFsdWU/YS52YWx1ZTpvLnZhbHVlKToodT1pW2QudmFsdWVdLGQ9bmV3IGVlKHp0LHUocy52YWx1ZSxhLnZhbHVlLG8udmFsdWUpKSxsLnB1c2goZCkpO2Vsc2UgaWYocD09PUd0JiZsLmxlbmd0aD4wKXM9bC5wb3AoKSx1PWVbZC52YWx1ZV0sZD1uZXcgZWUoenQsdShzLnZhbHVlKSksbC5wdXNoKGQpO2Vsc2UgaWYocD09PVp0KXtmb3IoO2wubGVuZ3RoPjA7KWMucHVzaChsLnNoaWZ0KCkpO2MucHVzaChuZXcgZWUoWnQsc2UoZC52YWx1ZSxlLG4saSxyKSkpfWVsc2UgaWYocD09PVh0JiZsLmxlbmd0aD4wKXM9bC5wb3AoKSxsLnB1c2gobmV3IGVlKHp0LHMudmFsdWVbZC52YWx1ZV0pKTtlbHNle2Zvcig7bC5sZW5ndGg+MDspYy5wdXNoKGwuc2hpZnQoKSk7Yy5wdXNoKGQpfX1mb3IoO2wubGVuZ3RoPjA7KWMucHVzaChsLnNoaWZ0KCkpO3JldHVybiBjfWZ1bmN0aW9uIGFlKHQsZSxuKXtmb3IodmFyIGk9W10scj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgcz10W3JdLGE9cy50eXBlO2lmKGE9PT1XdCYmcy52YWx1ZT09PWUpZm9yKHZhciBvPTA7bzxuLnRva2Vucy5sZW5ndGg7bysrKXt2YXIgdSxsPW4udG9rZW5zW29dO3U9bC50eXBlPT09R3Q/bmUobC52YWx1ZSk6bC50eXBlPT09cXQ/aWUobC52YWx1ZSk6bC50eXBlPT09S3Q/cmUobC52YWx1ZSk6bmV3IGVlKGwudHlwZSxsLnZhbHVlKSxpLnB1c2godSl9ZWxzZSBhPT09WnQ/aS5wdXNoKG5ldyBlZShadCxhZShzLnZhbHVlLGUsbikpKTppLnB1c2gocyl9cmV0dXJuIGl9ZnVuY3Rpb24gb2UodCxlLG4pe3ZhciBpLHIscyxhLG8sdSxsPVtdO2lmKGxlKHQpKXJldHVybiBjZSh0LG4pO2Zvcih2YXIgYz10Lmxlbmd0aCxoPTA7aDxjO2grKyl7dmFyIGQ9dFtoXSxwPWQudHlwZTtpZihwPT09enR8fHA9PT1KdClsLnB1c2goZC52YWx1ZSk7ZWxzZSBpZihwPT09cXQpcj1sLnBvcCgpLGk9bC5wb3AoKSxcImFuZFwiPT09ZC52YWx1ZT9sLnB1c2goISFpJiYhIW9lKHIsZSxuKSk6XCJvclwiPT09ZC52YWx1ZT9sLnB1c2goISFpfHwhIW9lKHIsZSxuKSk6XCI9XCI9PT1kLnZhbHVlPyhhPWUuYmluYXJ5T3BzW2QudmFsdWVdLGwucHVzaChhKGksb2UocixlLG4pLG4pKSk6KGE9ZS5iaW5hcnlPcHNbZC52YWx1ZV0sbC5wdXNoKGEoY2UoaSxuKSxjZShyLG4pKSkpO2Vsc2UgaWYocD09PUt0KXM9bC5wb3AoKSxyPWwucG9wKCksaT1sLnBvcCgpLFwiP1wiPT09ZC52YWx1ZT9sLnB1c2gob2UoaT9yOnMsZSxuKSk6KGE9ZS50ZXJuYXJ5T3BzW2QudmFsdWVdLGwucHVzaChhKGNlKGksbiksY2UocixuKSxjZShzLG4pKSkpO2Vsc2UgaWYocD09PVd0KWlmKGQudmFsdWUgaW4gZS5mdW5jdGlvbnMpbC5wdXNoKGUuZnVuY3Rpb25zW2QudmFsdWVdKTtlbHNlIGlmKGQudmFsdWUgaW4gZS51bmFyeU9wcyYmZS5wYXJzZXIuaXNPcGVyYXRvckVuYWJsZWQoZC52YWx1ZSkpbC5wdXNoKGUudW5hcnlPcHNbZC52YWx1ZV0pO2Vsc2V7dmFyIGY9bltkLnZhbHVlXTtpZih2b2lkIDA9PT1mKXRocm93IG5ldyBFcnJvcihcInVuZGVmaW5lZCB2YXJpYWJsZTogXCIrZC52YWx1ZSk7bC5wdXNoKGYpfWVsc2UgaWYocD09PUd0KWk9bC5wb3AoKSxhPWUudW5hcnlPcHNbZC52YWx1ZV0sbC5wdXNoKGEoY2UoaSxuKSkpO2Vsc2UgaWYocD09PUh0KXtmb3IodT1kLnZhbHVlLG89W107dS0tID4wOylvLnVuc2hpZnQoY2UobC5wb3AoKSxuKSk7aWYoIShhPWwucG9wKCkpLmFwcGx5fHwhYS5jYWxsKXRocm93IG5ldyBFcnJvcihhK1wiIGlzIG5vdCBhIGZ1bmN0aW9uXCIpO2wucHVzaChhLmFwcGx5KHZvaWQgMCxvKSl9ZWxzZSBpZihwPT09VXQpbC5wdXNoKGZ1bmN0aW9uKCl7Zm9yKHZhciB0PWwucG9wKCksaT1bXSxyPWQudmFsdWU7ci0tID4wOylpLnVuc2hpZnQobC5wb3AoKSk7dmFyIHM9bC5wb3AoKSxhPWZ1bmN0aW9uKCl7Zm9yKHZhciByPU9iamVjdC5hc3NpZ24oe30sbikscz0wLGE9aS5sZW5ndGg7czxhO3MrKylyW2lbc11dPWFyZ3VtZW50c1tzXTtyZXR1cm4gb2UodCxlLHIpfTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJuYW1lXCIse3ZhbHVlOnMsd3JpdGFibGU6ITF9KSxuW3NdPWEsYX0oKSk7ZWxzZSBpZihwPT09WnQpbC5wdXNoKHVlKGQsZSkpO2Vsc2UgaWYocD09PVF0KWwucHVzaChkKTtlbHNlIGlmKHA9PT1YdClpPWwucG9wKCksbC5wdXNoKGlbZC52YWx1ZV0pO2Vsc2UgaWYocD09PVl0KWwucG9wKCk7ZWxzZXtpZihwIT09dGUpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBFeHByZXNzaW9uXCIpO2Zvcih1PWQudmFsdWUsbz1bXTt1LS0gPjA7KW8udW5zaGlmdChsLnBvcCgpKTtsLnB1c2gobyl9fWlmKGwubGVuZ3RoPjEpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBFeHByZXNzaW9uIChwYXJpdHkpXCIpO3JldHVybiAwPT09bFswXT8wOmNlKGxbMF0sbil9ZnVuY3Rpb24gdWUodCxlLG4pe3JldHVybiBsZSh0KT90Ont0eXBlOlF0LHZhbHVlOmZ1bmN0aW9uKG4pe3JldHVybiBvZSh0LnZhbHVlLGUsbil9fX1mdW5jdGlvbiBsZSh0KXtyZXR1cm4gdCYmdC50eXBlPT09UXR9ZnVuY3Rpb24gY2UodCxlKXtyZXR1cm4gbGUodCk/dC52YWx1ZShlKTp0fWZ1bmN0aW9uIGhlKHQsZSl7Zm9yKHZhciBuLGkscixzLGEsbyx1PVtdLGw9MDtsPHQubGVuZ3RoO2wrKyl7dmFyIGM9dFtsXSxoPWMudHlwZTtpZihoPT09enQpXCJudW1iZXJcIj09dHlwZW9mIGMudmFsdWUmJmMudmFsdWU8MD91LnB1c2goXCIoXCIrYy52YWx1ZStcIilcIik6QXJyYXkuaXNBcnJheShjLnZhbHVlKT91LnB1c2goXCJbXCIrYy52YWx1ZS5tYXAoZGUpLmpvaW4oXCIsIFwiKStcIl1cIik6dS5wdXNoKGRlKGMudmFsdWUpKTtlbHNlIGlmKGg9PT1xdClpPXUucG9wKCksbj11LnBvcCgpLHM9Yy52YWx1ZSxlP1wiXlwiPT09cz91LnB1c2goXCJNYXRoLnBvdyhcIituK1wiLCBcIitpK1wiKVwiKTpcImFuZFwiPT09cz91LnB1c2goXCIoISFcIituK1wiICYmICEhXCIraStcIilcIik6XCJvclwiPT09cz91LnB1c2goXCIoISFcIituK1wiIHx8ICEhXCIraStcIilcIik6XCJ8fFwiPT09cz91LnB1c2goXCIoZnVuY3Rpb24oYSxiKXsgcmV0dXJuIEFycmF5LmlzQXJyYXkoYSkgJiYgQXJyYXkuaXNBcnJheShiKSA/IGEuY29uY2F0KGIpIDogU3RyaW5nKGEpICsgU3RyaW5nKGIpOyB9KChcIituK1wiKSwoXCIraStcIikpKVwiKTpcIj09XCI9PT1zP3UucHVzaChcIihcIituK1wiID09PSBcIitpK1wiKVwiKTpcIiE9XCI9PT1zP3UucHVzaChcIihcIituK1wiICE9PSBcIitpK1wiKVwiKTpcIltcIj09PXM/dS5wdXNoKG4rXCJbKFwiK2krXCIpIHwgMF1cIik6dS5wdXNoKFwiKFwiK24rXCIgXCIrcytcIiBcIitpK1wiKVwiKTpcIltcIj09PXM/dS5wdXNoKG4rXCJbXCIraStcIl1cIik6dS5wdXNoKFwiKFwiK24rXCIgXCIrcytcIiBcIitpK1wiKVwiKTtlbHNlIGlmKGg9PT1LdCl7aWYocj11LnBvcCgpLGk9dS5wb3AoKSxuPXUucG9wKCksXCI/XCIhPT0ocz1jLnZhbHVlKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIEV4cHJlc3Npb25cIik7dS5wdXNoKFwiKFwiK24rXCIgPyBcIitpK1wiIDogXCIrcitcIilcIil9ZWxzZSBpZihoPT09V3R8fGg9PT1KdCl1LnB1c2goYy52YWx1ZSk7ZWxzZSBpZihoPT09R3Qpbj11LnBvcCgpLFwiLVwiPT09KHM9Yy52YWx1ZSl8fFwiK1wiPT09cz91LnB1c2goXCIoXCIrcytuK1wiKVwiKTplP1wibm90XCI9PT1zP3UucHVzaChcIighXCIrbitcIilcIik6XCIhXCI9PT1zP3UucHVzaChcImZhYyhcIituK1wiKVwiKTp1LnB1c2gocytcIihcIituK1wiKVwiKTpcIiFcIj09PXM/dS5wdXNoKFwiKFwiK24rXCIhKVwiKTp1LnB1c2goXCIoXCIrcytcIiBcIituK1wiKVwiKTtlbHNlIGlmKGg9PT1IdCl7Zm9yKG89Yy52YWx1ZSxhPVtdO28tLSA+MDspYS51bnNoaWZ0KHUucG9wKCkpO3M9dS5wb3AoKSx1LnB1c2gocytcIihcIithLmpvaW4oXCIsIFwiKStcIilcIil9ZWxzZSBpZihoPT09VXQpe2ZvcihpPXUucG9wKCksbz1jLnZhbHVlLGE9W107by0tID4wOylhLnVuc2hpZnQodS5wb3AoKSk7bj11LnBvcCgpLGU/dS5wdXNoKFwiKFwiK24rXCIgPSBmdW5jdGlvbihcIithLmpvaW4oXCIsIFwiKStcIikgeyByZXR1cm4gXCIraStcIiB9KVwiKTp1LnB1c2goXCIoXCIrbitcIihcIithLmpvaW4oXCIsIFwiKStcIikgPSBcIitpK1wiKVwiKX1lbHNlIGlmKGg9PT1YdCluPXUucG9wKCksdS5wdXNoKG4rXCIuXCIrYy52YWx1ZSk7ZWxzZSBpZihoPT09dGUpe2ZvcihvPWMudmFsdWUsYT1bXTtvLS0gPjA7KWEudW5zaGlmdCh1LnBvcCgpKTt1LnB1c2goXCJbXCIrYS5qb2luKFwiLCBcIikrXCJdXCIpfWVsc2UgaWYoaD09PVp0KXUucHVzaChcIihcIitoZShjLnZhbHVlLGUpK1wiKVwiKTtlbHNlIGlmKGghPT1ZdCl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIEV4cHJlc3Npb25cIil9cmV0dXJuIHUubGVuZ3RoPjEmJih1PWU/W3Uuam9pbihcIixcIildOlt1LmpvaW4oXCI7XCIpXSksU3RyaW5nKHVbMF0pfWZ1bmN0aW9uIGRlKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P0pTT04uc3RyaW5naWZ5KHQpLnJlcGxhY2UoL1xcdTIwMjgvZyxcIlxcXFx1MjAyOFwiKS5yZXBsYWNlKC9cXHUyMDI5L2csXCJcXFxcdTIwMjlcIik6dH1mdW5jdGlvbiBwZSh0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKHRbbl09PT1lKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIGZlKHQsZSxuKXtmb3IodmFyIGk9ISEobj1ufHx7fSkud2l0aE1lbWJlcnMscj1udWxsLHM9MDtzPHQubGVuZ3RoO3MrKyl7dmFyIGE9dFtzXTthLnR5cGU9PT1XdHx8YS50eXBlPT09SnQ/aXx8cGUoZSxhLnZhbHVlKT9udWxsIT09cj8ocGUoZSxyKXx8ZS5wdXNoKHIpLHI9YS52YWx1ZSk6cj1hLnZhbHVlOmUucHVzaChhLnZhbHVlKTphLnR5cGU9PT1YdCYmaSYmbnVsbCE9PXI/cis9XCIuXCIrYS52YWx1ZTphLnR5cGU9PT1adD9mZShhLnZhbHVlLGUsbik6bnVsbCE9PXImJihwZShlLHIpfHxlLnB1c2gocikscj1udWxsKX1udWxsPT09cnx8cGUoZSxyKXx8ZS5wdXNoKHIpfWZ1bmN0aW9uIG1lKHQsZSl7dGhpcy50b2tlbnM9dCx0aGlzLnBhcnNlcj1lLHRoaXMudW5hcnlPcHM9ZS51bmFyeU9wcyx0aGlzLmJpbmFyeU9wcz1lLmJpbmFyeU9wcyx0aGlzLnRlcm5hcnlPcHM9ZS50ZXJuYXJ5T3BzLHRoaXMuZnVuY3Rpb25zPWUuZnVuY3Rpb25zfWVlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgenQ6Y2FzZSBHdDpjYXNlIHF0OmNhc2UgS3Q6Y2FzZSBXdDpjYXNlIEp0OmNhc2UgWXQ6cmV0dXJuIHRoaXMudmFsdWU7Y2FzZSBIdDpyZXR1cm5cIkNBTEwgXCIrdGhpcy52YWx1ZTtjYXNlIFV0OnJldHVyblwiREVGIFwiK3RoaXMudmFsdWU7Y2FzZSB0ZTpyZXR1cm5cIkFSUkFZIFwiK3RoaXMudmFsdWU7Y2FzZSBYdDpyZXR1cm5cIi5cIit0aGlzLnZhbHVlO2RlZmF1bHQ6cmV0dXJuXCJJbnZhbGlkIEluc3RydWN0aW9uXCJ9fSxtZS5wcm90b3R5cGUuc2ltcGxpZnk9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dHx8e30sbmV3IG1lKHNlKHRoaXMudG9rZW5zLHRoaXMudW5hcnlPcHMsdGhpcy5iaW5hcnlPcHMsdGhpcy50ZXJuYXJ5T3BzLHQpLHRoaXMucGFyc2VyKX0sbWUucHJvdG90eXBlLnN1YnN0aXR1dGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIG1lfHwoZT10aGlzLnBhcnNlci5wYXJzZShTdHJpbmcoZSkpKSxuZXcgbWUoYWUodGhpcy50b2tlbnMsdCxlKSx0aGlzLnBhcnNlcil9LG1lLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdD10fHx7fSxvZSh0aGlzLnRva2Vucyx0aGlzLHQpfSxtZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gaGUodGhpcy50b2tlbnMsITEpfSxtZS5wcm90b3R5cGUuc3ltYm9scz1mdW5jdGlvbih0KXt0PXR8fHt9O3ZhciBlPVtdO3JldHVybiBmZSh0aGlzLnRva2VucyxlLHQpLGV9LG1lLnByb3RvdHlwZS52YXJpYWJsZXM9ZnVuY3Rpb24odCl7dD10fHx7fTt2YXIgZT1bXTtmZSh0aGlzLnRva2VucyxlLHQpO3ZhciBuPXRoaXMuZnVuY3Rpb25zO3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuISh0IGluIG4pfSkpfSxtZS5wcm90b3R5cGUudG9KU0Z1bmN0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxpPW5ldyBGdW5jdGlvbih0LFwid2l0aCh0aGlzLmZ1bmN0aW9ucykgd2l0aCAodGhpcy50ZXJuYXJ5T3BzKSB3aXRoICh0aGlzLmJpbmFyeU9wcykgd2l0aCAodGhpcy51bmFyeU9wcykgeyByZXR1cm4gXCIraGUodGhpcy5zaW1wbGlmeShlKS50b2tlbnMsITApK1wiOyB9XCIpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBpLmFwcGx5KG4sYXJndW1lbnRzKX19O3ZhciB2ZT1cIlRFT0ZcIixnZT1cIlRPUFwiLHllPVwiVE5VTUJFUlwiLGtlPVwiVFNUUklOR1wiLGJlPVwiVFBBUkVOXCIseGU9XCJUQlJBQ0tFVFwiLENlPVwiVENPTU1BXCIsSWU9XCJUTkFNRVwiLHdlPVwiVFNFTUlDT0xPTlwiO2Z1bmN0aW9uIEVlKHQsZSxuKXt0aGlzLnR5cGU9dCx0aGlzLnZhbHVlPWUsdGhpcy5pbmRleD1ufWZ1bmN0aW9uIEFlKHQsZSl7dGhpcy5wb3M9MCx0aGlzLmN1cnJlbnQ9bnVsbCx0aGlzLnVuYXJ5T3BzPXQudW5hcnlPcHMsdGhpcy5iaW5hcnlPcHM9dC5iaW5hcnlPcHMsdGhpcy50ZXJuYXJ5T3BzPXQudGVybmFyeU9wcyx0aGlzLmNvbnN0cz10LmNvbnN0cyx0aGlzLmV4cHJlc3Npb249ZSx0aGlzLnNhdmVkUG9zaXRpb249MCx0aGlzLnNhdmVkQ3VycmVudD1udWxsLHRoaXMub3B0aW9ucz10Lm9wdGlvbnMsdGhpcy5wYXJzZXI9dH1FZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlK1wiOiBcIit0aGlzLnZhbHVlfSxBZS5wcm90b3R5cGUubmV3VG9rZW49ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcgRWUodCxlLG51bGwhPW4/bjp0aGlzLnBvcyl9LEFlLnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKCl7dGhpcy5zYXZlZFBvc2l0aW9uPXRoaXMucG9zLHRoaXMuc2F2ZWRDdXJyZW50PXRoaXMuY3VycmVudH0sQWUucHJvdG90eXBlLnJlc3RvcmU9ZnVuY3Rpb24oKXt0aGlzLnBvcz10aGlzLnNhdmVkUG9zaXRpb24sdGhpcy5jdXJyZW50PXRoaXMuc2F2ZWRDdXJyZW50fSxBZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBvcz49dGhpcy5leHByZXNzaW9uLmxlbmd0aD90aGlzLm5ld1Rva2VuKHZlLFwiRU9GXCIpOnRoaXMuaXNXaGl0ZXNwYWNlKCl8fHRoaXMuaXNDb21tZW50KCk/dGhpcy5uZXh0KCk6dGhpcy5pc1JhZGl4SW50ZWdlcigpfHx0aGlzLmlzTnVtYmVyKCl8fHRoaXMuaXNPcGVyYXRvcigpfHx0aGlzLmlzU3RyaW5nKCl8fHRoaXMuaXNQYXJlbigpfHx0aGlzLmlzQnJhY2tldCgpfHx0aGlzLmlzQ29tbWEoKXx8dGhpcy5pc1NlbWljb2xvbigpfHx0aGlzLmlzTmFtZWRPcCgpfHx0aGlzLmlzQ29uc3QoKXx8dGhpcy5pc05hbWUoKT90aGlzLmN1cnJlbnQ6dm9pZCB0aGlzLnBhcnNlRXJyb3IoJ1Vua25vd24gY2hhcmFjdGVyIFwiJyt0aGlzLmV4cHJlc3Npb24uY2hhckF0KHRoaXMucG9zKSsnXCInKX0sQWUucHJvdG90eXBlLmlzU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9ITEsZT10aGlzLnBvcyxuPXRoaXMuZXhwcmVzc2lvbi5jaGFyQXQoZSk7aWYoXCInXCI9PT1ufHwnXCInPT09bilmb3IodmFyIGk9dGhpcy5leHByZXNzaW9uLmluZGV4T2YobixlKzEpO2k+PTAmJnRoaXMucG9zPHRoaXMuZXhwcmVzc2lvbi5sZW5ndGg7KXtpZih0aGlzLnBvcz1pKzEsXCJcXFxcXCIhPT10aGlzLmV4cHJlc3Npb24uY2hhckF0KGktMSkpe3ZhciByPXRoaXMuZXhwcmVzc2lvbi5zdWJzdHJpbmcoZSsxLGkpO3RoaXMuY3VycmVudD10aGlzLm5ld1Rva2VuKGtlLHRoaXMudW5lc2NhcGUociksZSksdD0hMDticmVha31pPXRoaXMuZXhwcmVzc2lvbi5pbmRleE9mKG4saSsxKX1yZXR1cm4gdH0sQWUucHJvdG90eXBlLmlzUGFyZW49ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmV4cHJlc3Npb24uY2hhckF0KHRoaXMucG9zKTtyZXR1cm4oXCIoXCI9PT10fHxcIilcIj09PXQpJiYodGhpcy5jdXJyZW50PXRoaXMubmV3VG9rZW4oYmUsdCksdGhpcy5wb3MrKywhMCl9LEFlLnByb3RvdHlwZS5pc0JyYWNrZXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmV4cHJlc3Npb24uY2hhckF0KHRoaXMucG9zKTtyZXR1cm4hKFwiW1wiIT09dCYmXCJdXCIhPT10fHwhdGhpcy5pc09wZXJhdG9yRW5hYmxlZChcIltcIikpJiYodGhpcy5jdXJyZW50PXRoaXMubmV3VG9rZW4oeGUsdCksdGhpcy5wb3MrKywhMCl9LEFlLnByb3RvdHlwZS5pc0NvbW1hPWZ1bmN0aW9uKCl7cmV0dXJuXCIsXCI9PT10aGlzLmV4cHJlc3Npb24uY2hhckF0KHRoaXMucG9zKSYmKHRoaXMuY3VycmVudD10aGlzLm5ld1Rva2VuKENlLFwiLFwiKSx0aGlzLnBvcysrLCEwKX0sQWUucHJvdG90eXBlLmlzU2VtaWNvbG9uPWZ1bmN0aW9uKCl7cmV0dXJuXCI7XCI9PT10aGlzLmV4cHJlc3Npb24uY2hhckF0KHRoaXMucG9zKSYmKHRoaXMuY3VycmVudD10aGlzLm5ld1Rva2VuKHdlLFwiO1wiKSx0aGlzLnBvcysrLCEwKX0sQWUucHJvdG90eXBlLmlzQ29uc3Q9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5wb3MsZT10O2U8dGhpcy5leHByZXNzaW9uLmxlbmd0aDtlKyspe3ZhciBuPXRoaXMuZXhwcmVzc2lvbi5jaGFyQXQoZSk7aWYobi50b1VwcGVyQ2FzZSgpPT09bi50b0xvd2VyQ2FzZSgpJiYoZT09PXRoaXMucG9zfHxcIl9cIiE9PW4mJlwiLlwiIT09biYmKG48XCIwXCJ8fG4+XCI5XCIpKSlicmVha31pZihlPnQpe3ZhciBpPXRoaXMuZXhwcmVzc2lvbi5zdWJzdHJpbmcodCxlKTtpZihpIGluIHRoaXMuY29uc3RzKXJldHVybiB0aGlzLmN1cnJlbnQ9dGhpcy5uZXdUb2tlbih5ZSx0aGlzLmNvbnN0c1tpXSksdGhpcy5wb3MrPWkubGVuZ3RoLCEwfXJldHVybiExfSxBZS5wcm90b3R5cGUuaXNOYW1lZE9wPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMucG9zLGU9dDtlPHRoaXMuZXhwcmVzc2lvbi5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLmV4cHJlc3Npb24uY2hhckF0KGUpO2lmKG4udG9VcHBlckNhc2UoKT09PW4udG9Mb3dlckNhc2UoKSYmKGU9PT10aGlzLnBvc3x8XCJfXCIhPT1uJiYobjxcIjBcInx8bj5cIjlcIikpKWJyZWFrfWlmKGU+dCl7dmFyIGk9dGhpcy5leHByZXNzaW9uLnN1YnN0cmluZyh0LGUpO2lmKHRoaXMuaXNPcGVyYXRvckVuYWJsZWQoaSkmJihpIGluIHRoaXMuYmluYXJ5T3BzfHxpIGluIHRoaXMudW5hcnlPcHN8fGkgaW4gdGhpcy50ZXJuYXJ5T3BzKSlyZXR1cm4gdGhpcy5jdXJyZW50PXRoaXMubmV3VG9rZW4oZ2UsaSksdGhpcy5wb3MrPWkubGVuZ3RoLCEwfXJldHVybiExfSxBZS5wcm90b3R5cGUuaXNOYW1lPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMucG9zLGU9dCxuPSExO2U8dGhpcy5leHByZXNzaW9uLmxlbmd0aDtlKyspe3ZhciBpPXRoaXMuZXhwcmVzc2lvbi5jaGFyQXQoZSk7aWYoaS50b1VwcGVyQ2FzZSgpPT09aS50b0xvd2VyQ2FzZSgpKXtpZihlPT09dGhpcy5wb3MmJihcIiRcIj09PWl8fFwiX1wiPT09aSkpe1wiX1wiPT09aSYmKG49ITApO2NvbnRpbnVlfWlmKGU9PT10aGlzLnBvc3x8IW58fFwiX1wiIT09aSYmKGk8XCIwXCJ8fGk+XCI5XCIpKWJyZWFrfWVsc2Ugbj0hMH1pZihuKXt2YXIgcj10aGlzLmV4cHJlc3Npb24uc3Vic3RyaW5nKHQsZSk7cmV0dXJuIHRoaXMuY3VycmVudD10aGlzLm5ld1Rva2VuKEllLHIpLHRoaXMucG9zKz1yLmxlbmd0aCwhMH1yZXR1cm4hMX0sQWUucHJvdG90eXBlLmlzV2hpdGVzcGFjZT1mdW5jdGlvbigpe2Zvcih2YXIgdD0hMSxlPXRoaXMuZXhwcmVzc2lvbi5jaGFyQXQodGhpcy5wb3MpOyEoXCIgXCIhPT1lJiZcIlxcdFwiIT09ZSYmXCJcXG5cIiE9PWUmJlwiXFxyXCIhPT1lfHwodD0hMCx0aGlzLnBvcysrLHRoaXMucG9zPj10aGlzLmV4cHJlc3Npb24ubGVuZ3RoKSk7KWU9dGhpcy5leHByZXNzaW9uLmNoYXJBdCh0aGlzLnBvcyk7cmV0dXJuIHR9O3ZhciBQZT0vXlswLTlhLWZdezR9JC9pO2Z1bmN0aW9uIE9lKHQsZSxuKXt0aGlzLnBhcnNlcj10LHRoaXMudG9rZW5zPWUsdGhpcy5jdXJyZW50PW51bGwsdGhpcy5uZXh0VG9rZW49bnVsbCx0aGlzLm5leHQoKSx0aGlzLnNhdmVkQ3VycmVudD1udWxsLHRoaXMuc2F2ZWROZXh0VG9rZW49bnVsbCx0aGlzLmFsbG93TWVtYmVyQWNjZXNzPSExIT09bi5hbGxvd01lbWJlckFjY2Vzc31BZS5wcm90b3R5cGUudW5lc2NhcGU9ZnVuY3Rpb24odCl7dmFyIGU9dC5pbmRleE9mKFwiXFxcXFwiKTtpZihlPDApcmV0dXJuIHQ7Zm9yKHZhciBuPXQuc3Vic3RyaW5nKDAsZSk7ZT49MDspe3ZhciBpPXQuY2hhckF0KCsrZSk7c3dpdGNoKGkpe2Nhc2VcIidcIjpuKz1cIidcIjticmVhaztjYXNlJ1wiJzpuKz0nXCInO2JyZWFrO2Nhc2VcIlxcXFxcIjpuKz1cIlxcXFxcIjticmVhaztjYXNlXCIvXCI6bis9XCIvXCI7YnJlYWs7Y2FzZVwiYlwiOm4rPVwiXFxiXCI7YnJlYWs7Y2FzZVwiZlwiOm4rPVwiXFxmXCI7YnJlYWs7Y2FzZVwiblwiOm4rPVwiXFxuXCI7YnJlYWs7Y2FzZVwiclwiOm4rPVwiXFxyXCI7YnJlYWs7Y2FzZVwidFwiOm4rPVwiXFx0XCI7YnJlYWs7Y2FzZVwidVwiOnZhciByPXQuc3Vic3RyaW5nKGUrMSxlKzUpO1BlLnRlc3Qocil8fHRoaXMucGFyc2VFcnJvcihcIklsbGVnYWwgZXNjYXBlIHNlcXVlbmNlOiBcXFxcdVwiK3IpLG4rPVN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQociwxNikpLGUrPTQ7YnJlYWs7ZGVmYXVsdDp0aHJvdyB0aGlzLnBhcnNlRXJyb3IoJ0lsbGVnYWwgZXNjYXBlIHNlcXVlbmNlOiBcIlxcXFwnK2krJ1wiJyl9KytlO3ZhciBzPXQuaW5kZXhPZihcIlxcXFxcIixlKTtuKz10LnN1YnN0cmluZyhlLHM8MD90Lmxlbmd0aDpzKSxlPXN9cmV0dXJuIG59LEFlLnByb3RvdHlwZS5pc0NvbW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIj09PXRoaXMuZXhwcmVzc2lvbi5jaGFyQXQodGhpcy5wb3MpJiZcIipcIj09PXRoaXMuZXhwcmVzc2lvbi5jaGFyQXQodGhpcy5wb3MrMSkmJih0aGlzLnBvcz10aGlzLmV4cHJlc3Npb24uaW5kZXhPZihcIiovXCIsdGhpcy5wb3MpKzIsMT09PXRoaXMucG9zJiYodGhpcy5wb3M9dGhpcy5leHByZXNzaW9uLmxlbmd0aCksITApfSxBZS5wcm90b3R5cGUuaXNSYWRpeEludGVnZXI9ZnVuY3Rpb24oKXt2YXIgdCxlLG49dGhpcy5wb3M7aWYobj49dGhpcy5leHByZXNzaW9uLmxlbmd0aC0yfHxcIjBcIiE9PXRoaXMuZXhwcmVzc2lvbi5jaGFyQXQobikpcmV0dXJuITE7aWYoKytuLFwieFwiPT09dGhpcy5leHByZXNzaW9uLmNoYXJBdChuKSl0PTE2LGU9L15bMC05YS1mXSQvaSwrK247ZWxzZXtpZihcImJcIiE9PXRoaXMuZXhwcmVzc2lvbi5jaGFyQXQobikpcmV0dXJuITE7dD0yLGU9L15bMDFdJC9pLCsrbn1mb3IodmFyIGk9ITEscj1uO248dGhpcy5leHByZXNzaW9uLmxlbmd0aDspe3ZhciBzPXRoaXMuZXhwcmVzc2lvbi5jaGFyQXQobik7aWYoIWUudGVzdChzKSlicmVhaztuKyssaT0hMH1yZXR1cm4gaSYmKHRoaXMuY3VycmVudD10aGlzLm5ld1Rva2VuKHllLHBhcnNlSW50KHRoaXMuZXhwcmVzc2lvbi5zdWJzdHJpbmcocixuKSx0KSksdGhpcy5wb3M9biksaX0sQWUucHJvdG90eXBlLmlzTnVtYmVyPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LGU9ITEsbj10aGlzLnBvcyxpPW4scj1uLHM9ITEsYT0hMTtuPHRoaXMuZXhwcmVzc2lvbi5sZW5ndGgmJigodD10aGlzLmV4cHJlc3Npb24uY2hhckF0KG4pKT49XCIwXCImJnQ8PVwiOVwifHwhcyYmXCIuXCI9PT10KTspXCIuXCI9PT10P3M9ITA6YT0hMCxuKyssZT1hO2lmKGUmJihyPW4pLFwiZVwiPT09dHx8XCJFXCI9PT10KXtuKys7Zm9yKHZhciBvPSEwLHU9ITE7bjx0aGlzLmV4cHJlc3Npb24ubGVuZ3RoOyl7aWYodD10aGlzLmV4cHJlc3Npb24uY2hhckF0KG4pLCFvfHxcIitcIiE9PXQmJlwiLVwiIT09dCl7aWYoISh0Pj1cIjBcIiYmdDw9XCI5XCIpKWJyZWFrO3U9ITAsbz0hMX1lbHNlIG89ITE7bisrfXV8fChuPXIpfXJldHVybiBlPyh0aGlzLmN1cnJlbnQ9dGhpcy5uZXdUb2tlbih5ZSxwYXJzZUZsb2F0KHRoaXMuZXhwcmVzc2lvbi5zdWJzdHJpbmcoaSxuKSkpLHRoaXMucG9zPW4pOnRoaXMucG9zPXIsZX0sQWUucHJvdG90eXBlLmlzT3BlcmF0b3I9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBvcyxlPXRoaXMuZXhwcmVzc2lvbi5jaGFyQXQodGhpcy5wb3MpO2lmKFwiK1wiPT09ZXx8XCItXCI9PT1lfHxcIipcIj09PWV8fFwiL1wiPT09ZXx8XCIlXCI9PT1lfHxcIl5cIj09PWV8fFwiP1wiPT09ZXx8XCI6XCI9PT1lfHxcIi5cIj09PWUpdGhpcy5jdXJyZW50PXRoaXMubmV3VG9rZW4oZ2UsZSk7ZWxzZSBpZihcIuKImVwiPT09ZXx8XCLigKJcIj09PWUpdGhpcy5jdXJyZW50PXRoaXMubmV3VG9rZW4oZ2UsXCIqXCIpO2Vsc2UgaWYoXCI+XCI9PT1lKVwiPVwiPT09dGhpcy5leHByZXNzaW9uLmNoYXJBdCh0aGlzLnBvcysxKT8odGhpcy5jdXJyZW50PXRoaXMubmV3VG9rZW4oZ2UsXCI+PVwiKSx0aGlzLnBvcysrKTp0aGlzLmN1cnJlbnQ9dGhpcy5uZXdUb2tlbihnZSxcIj5cIik7ZWxzZSBpZihcIjxcIj09PWUpXCI9XCI9PT10aGlzLmV4cHJlc3Npb24uY2hhckF0KHRoaXMucG9zKzEpPyh0aGlzLmN1cnJlbnQ9dGhpcy5uZXdUb2tlbihnZSxcIjw9XCIpLHRoaXMucG9zKyspOnRoaXMuY3VycmVudD10aGlzLm5ld1Rva2VuKGdlLFwiPFwiKTtlbHNlIGlmKFwifFwiPT09ZSl7aWYoXCJ8XCIhPT10aGlzLmV4cHJlc3Npb24uY2hhckF0KHRoaXMucG9zKzEpKXJldHVybiExO3RoaXMuY3VycmVudD10aGlzLm5ld1Rva2VuKGdlLFwifHxcIiksdGhpcy5wb3MrK31lbHNlIGlmKFwiPVwiPT09ZSlcIj1cIj09PXRoaXMuZXhwcmVzc2lvbi5jaGFyQXQodGhpcy5wb3MrMSk/KHRoaXMuY3VycmVudD10aGlzLm5ld1Rva2VuKGdlLFwiPT1cIiksdGhpcy5wb3MrKyk6dGhpcy5jdXJyZW50PXRoaXMubmV3VG9rZW4oZ2UsZSk7ZWxzZXtpZihcIiFcIiE9PWUpcmV0dXJuITE7XCI9XCI9PT10aGlzLmV4cHJlc3Npb24uY2hhckF0KHRoaXMucG9zKzEpPyh0aGlzLmN1cnJlbnQ9dGhpcy5uZXdUb2tlbihnZSxcIiE9XCIpLHRoaXMucG9zKyspOnRoaXMuY3VycmVudD10aGlzLm5ld1Rva2VuKGdlLGUpfXJldHVybiB0aGlzLnBvcysrLCEhdGhpcy5pc09wZXJhdG9yRW5hYmxlZCh0aGlzLmN1cnJlbnQudmFsdWUpfHwodGhpcy5wb3M9dCwhMSl9LEFlLnByb3RvdHlwZS5pc09wZXJhdG9yRW5hYmxlZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wYXJzZXIuaXNPcGVyYXRvckVuYWJsZWQodCl9LEFlLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcz1mdW5jdGlvbigpe3ZhciB0LGU9MCxuPS0xO2Rve2UrKyx0PXRoaXMucG9zLW4sbj10aGlzLmV4cHJlc3Npb24uaW5kZXhPZihcIlxcblwiLG4rMSl9d2hpbGUobj49MCYmbjx0aGlzLnBvcyk7cmV0dXJue2xpbmU6ZSxjb2x1bW46dH19LEFlLnByb3RvdHlwZS5wYXJzZUVycm9yPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0Q29vcmRpbmF0ZXMoKTt0aHJvdyBuZXcgRXJyb3IoXCJwYXJzZSBlcnJvciBbXCIrZS5saW5lK1wiOlwiK2UuY29sdW1uK1wiXTogXCIrdCl9LE9lLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudD10aGlzLm5leHRUb2tlbix0aGlzLm5leHRUb2tlbj10aGlzLnRva2Vucy5uZXh0KCl9LE9lLnByb3RvdHlwZS50b2tlbk1hdGNoZXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZXx8KEFycmF5LmlzQXJyYXkoZSk/cGUoZSx0LnZhbHVlKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2UodCk6dC52YWx1ZT09PWUpfSxPZS5wcm90b3R5cGUuc2F2ZT1mdW5jdGlvbigpe3RoaXMuc2F2ZWRDdXJyZW50PXRoaXMuY3VycmVudCx0aGlzLnNhdmVkTmV4dFRva2VuPXRoaXMubmV4dFRva2VuLHRoaXMudG9rZW5zLnNhdmUoKX0sT2UucHJvdG90eXBlLnJlc3RvcmU9ZnVuY3Rpb24oKXt0aGlzLnRva2Vucy5yZXN0b3JlKCksdGhpcy5jdXJyZW50PXRoaXMuc2F2ZWRDdXJyZW50LHRoaXMubmV4dFRva2VuPXRoaXMuc2F2ZWROZXh0VG9rZW59LE9lLnByb3RvdHlwZS5hY2NlcHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4hKHRoaXMubmV4dFRva2VuLnR5cGUhPT10fHwhdGhpcy50b2tlbk1hdGNoZXModGhpcy5uZXh0VG9rZW4sZSkpJiYodGhpcy5uZXh0KCksITApfSxPZS5wcm90b3R5cGUuZXhwZWN0PWZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuYWNjZXB0KHQsZSkpe3ZhciBuPXRoaXMudG9rZW5zLmdldENvb3JkaW5hdGVzKCk7dGhyb3cgbmV3IEVycm9yKFwicGFyc2UgZXJyb3IgW1wiK24ubGluZStcIjpcIituLmNvbHVtbitcIl06IEV4cGVjdGVkIFwiKyhlfHx0KSl9fSxPZS5wcm90b3R5cGUucGFyc2VBdG9tPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudG9rZW5zLnVuYXJ5T3BzO2lmKHRoaXMuYWNjZXB0KEllKXx8dGhpcy5hY2NlcHQoZ2UsKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlIGluIGV9KSkpdC5wdXNoKG5ldyBlZShXdCx0aGlzLmN1cnJlbnQudmFsdWUpKTtlbHNlIGlmKHRoaXMuYWNjZXB0KHllKSl0LnB1c2gobmV3IGVlKHp0LHRoaXMuY3VycmVudC52YWx1ZSkpO2Vsc2UgaWYodGhpcy5hY2NlcHQoa2UpKXQucHVzaChuZXcgZWUoenQsdGhpcy5jdXJyZW50LnZhbHVlKSk7ZWxzZSBpZih0aGlzLmFjY2VwdChiZSxcIihcIikpdGhpcy5wYXJzZUV4cHJlc3Npb24odCksdGhpcy5leHBlY3QoYmUsXCIpXCIpO2Vsc2V7aWYoIXRoaXMuYWNjZXB0KHhlLFwiW1wiKSl0aHJvdyBuZXcgRXJyb3IoXCJ1bmV4cGVjdGVkIFwiK3RoaXMubmV4dFRva2VuKTtpZih0aGlzLmFjY2VwdCh4ZSxcIl1cIikpdC5wdXNoKG5ldyBlZSh0ZSwwKSk7ZWxzZXt2YXIgbj10aGlzLnBhcnNlQXJyYXlMaXN0KHQpO3QucHVzaChuZXcgZWUodGUsbikpfX19LE9lLnByb3RvdHlwZS5wYXJzZUV4cHJlc3Npb249ZnVuY3Rpb24odCl7dmFyIGU9W107dGhpcy5wYXJzZVVudGlsRW5kU3RhdGVtZW50KHQsZSl8fCh0aGlzLnBhcnNlVmFyaWFibGVBc3NpZ25tZW50RXhwcmVzc2lvbihlKSx0aGlzLnBhcnNlVW50aWxFbmRTdGF0ZW1lbnQodCxlKXx8dGhpcy5wdXNoRXhwcmVzc2lvbih0LGUpKX0sT2UucHJvdG90eXBlLnB1c2hFeHByZXNzaW9uPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTAsaT1lLmxlbmd0aDtuPGk7bisrKXQucHVzaChlW25dKX0sT2UucHJvdG90eXBlLnBhcnNlVW50aWxFbmRTdGF0ZW1lbnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4hIXRoaXMuYWNjZXB0KHdlKSYmKCF0aGlzLm5leHRUb2tlbnx8dGhpcy5uZXh0VG9rZW4udHlwZT09PXZlfHx0aGlzLm5leHRUb2tlbi50eXBlPT09YmUmJlwiKVwiPT09dGhpcy5uZXh0VG9rZW4udmFsdWV8fGUucHVzaChuZXcgZWUoWXQpKSx0aGlzLm5leHRUb2tlbi50eXBlIT09dmUmJnRoaXMucGFyc2VFeHByZXNzaW9uKGUpLHQucHVzaChuZXcgZWUoWnQsZSkpLCEwKX0sT2UucHJvdG90eXBlLnBhcnNlQXJyYXlMaXN0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wOyF0aGlzLmFjY2VwdCh4ZSxcIl1cIik7KWZvcih0aGlzLnBhcnNlRXhwcmVzc2lvbih0KSwrK2U7dGhpcy5hY2NlcHQoQ2UpOyl0aGlzLnBhcnNlRXhwcmVzc2lvbih0KSwrK2U7cmV0dXJuIGV9LE9lLnByb3RvdHlwZS5wYXJzZVZhcmlhYmxlQXNzaWdubWVudEV4cHJlc3Npb249ZnVuY3Rpb24odCl7Zm9yKHRoaXMucGFyc2VDb25kaXRpb25hbEV4cHJlc3Npb24odCk7dGhpcy5hY2NlcHQoZ2UsXCI9XCIpOyl7dmFyIGU9dC5wb3AoKSxuPVtdLGk9dC5sZW5ndGgtMTtpZihlLnR5cGUhPT1IdCl7aWYoZS50eXBlIT09V3QmJmUudHlwZSE9PVh0KXRocm93IG5ldyBFcnJvcihcImV4cGVjdGVkIHZhcmlhYmxlIGZvciBhc3NpZ25tZW50XCIpO3RoaXMucGFyc2VWYXJpYWJsZUFzc2lnbm1lbnRFeHByZXNzaW9uKG4pLHQucHVzaChuZXcgZWUoSnQsZS52YWx1ZSkpLHQucHVzaChuZXcgZWUoWnQsbikpLHQucHVzaChpZShcIj1cIikpfWVsc2V7aWYoIXRoaXMudG9rZW5zLmlzT3BlcmF0b3JFbmFibGVkKFwiKCk9XCIpKXRocm93IG5ldyBFcnJvcihcImZ1bmN0aW9uIGRlZmluaXRpb24gaXMgbm90IHBlcm1pdHRlZFwiKTtmb3IodmFyIHI9MCxzPWUudmFsdWUrMTtyPHM7cisrKXt2YXIgYT1pLXI7dFthXS50eXBlPT09V3QmJih0W2FdPW5ldyBlZShKdCx0W2FdLnZhbHVlKSl9dGhpcy5wYXJzZVZhcmlhYmxlQXNzaWdubWVudEV4cHJlc3Npb24obiksdC5wdXNoKG5ldyBlZShadCxuKSksdC5wdXNoKG5ldyBlZShVdCxlLnZhbHVlKSl9fX0sT2UucHJvdG90eXBlLnBhcnNlQ29uZGl0aW9uYWxFeHByZXNzaW9uPWZ1bmN0aW9uKHQpe2Zvcih0aGlzLnBhcnNlT3JFeHByZXNzaW9uKHQpO3RoaXMuYWNjZXB0KGdlLFwiP1wiKTspe3ZhciBlPVtdLG49W107dGhpcy5wYXJzZUNvbmRpdGlvbmFsRXhwcmVzc2lvbihlKSx0aGlzLmV4cGVjdChnZSxcIjpcIiksdGhpcy5wYXJzZUNvbmRpdGlvbmFsRXhwcmVzc2lvbihuKSx0LnB1c2gobmV3IGVlKFp0LGUpKSx0LnB1c2gobmV3IGVlKFp0LG4pKSx0LnB1c2gocmUoXCI/XCIpKX19LE9lLnByb3RvdHlwZS5wYXJzZU9yRXhwcmVzc2lvbj1mdW5jdGlvbih0KXtmb3IodGhpcy5wYXJzZUFuZEV4cHJlc3Npb24odCk7dGhpcy5hY2NlcHQoZ2UsXCJvclwiKTspe3ZhciBlPVtdO3RoaXMucGFyc2VBbmRFeHByZXNzaW9uKGUpLHQucHVzaChuZXcgZWUoWnQsZSkpLHQucHVzaChpZShcIm9yXCIpKX19LE9lLnByb3RvdHlwZS5wYXJzZUFuZEV4cHJlc3Npb249ZnVuY3Rpb24odCl7Zm9yKHRoaXMucGFyc2VDb21wYXJpc29uKHQpO3RoaXMuYWNjZXB0KGdlLFwiYW5kXCIpOyl7dmFyIGU9W107dGhpcy5wYXJzZUNvbXBhcmlzb24oZSksdC5wdXNoKG5ldyBlZShadCxlKSksdC5wdXNoKGllKFwiYW5kXCIpKX19O3ZhciBUZT1bXCI9PVwiLFwiIT1cIixcIjxcIixcIjw9XCIsXCI+PVwiLFwiPlwiLFwiaW5cIl07T2UucHJvdG90eXBlLnBhcnNlQ29tcGFyaXNvbj1mdW5jdGlvbih0KXtmb3IodGhpcy5wYXJzZUFkZFN1Yih0KTt0aGlzLmFjY2VwdChnZSxUZSk7KXt2YXIgZT10aGlzLmN1cnJlbnQ7dGhpcy5wYXJzZUFkZFN1Yih0KSx0LnB1c2goaWUoZS52YWx1ZSkpfX07dmFyIFNlPVtcIitcIixcIi1cIixcInx8XCJdO09lLnByb3RvdHlwZS5wYXJzZUFkZFN1Yj1mdW5jdGlvbih0KXtmb3IodGhpcy5wYXJzZVRlcm0odCk7dGhpcy5hY2NlcHQoZ2UsU2UpOyl7dmFyIGU9dGhpcy5jdXJyZW50O3RoaXMucGFyc2VUZXJtKHQpLHQucHVzaChpZShlLnZhbHVlKSl9fTt2YXIgX2U9W1wiKlwiLFwiL1wiLFwiJVwiXTtmdW5jdGlvbiBEZSh0LGUpe3JldHVybiBOdW1iZXIodCkrTnVtYmVyKGUpfWZ1bmN0aW9uIE1lKHQsZSl7cmV0dXJuIHQtZX1mdW5jdGlvbiBWZSh0LGUpe3JldHVybiB0KmV9ZnVuY3Rpb24gJGUodCxlKXtyZXR1cm4gdC9lfWZ1bmN0aW9uIE5lKHQsZSl7cmV0dXJuIHQlZX1mdW5jdGlvbiBqZSh0LGUpe3JldHVybiBBcnJheS5pc0FycmF5KHQpJiZBcnJheS5pc0FycmF5KGUpP3QuY29uY2F0KGUpOlwiXCIrdCtlfWZ1bmN0aW9uIEJlKHQsZSl7cmV0dXJuIHQ9PT1lfWZ1bmN0aW9uIFJlKHQsZSl7cmV0dXJuIHQhPT1lfWZ1bmN0aW9uIExlKHQsZSl7cmV0dXJuIHQ+ZX1mdW5jdGlvbiBGZSh0LGUpe3JldHVybiB0PGV9ZnVuY3Rpb24gemUodCxlKXtyZXR1cm4gdD49ZX1mdW5jdGlvbiBHZSh0LGUpe3JldHVybiB0PD1lfWZ1bmN0aW9uIHFlKHQsZSl7cmV0dXJuIEJvb2xlYW4odCYmZSl9ZnVuY3Rpb24gS2UodCxlKXtyZXR1cm4gQm9vbGVhbih0fHxlKX1mdW5jdGlvbiBXZSh0LGUpe3JldHVybiBwZShlLHQpfWZ1bmN0aW9uIEplKHQpe3JldHVybihNYXRoLmV4cCh0KS1NYXRoLmV4cCgtdCkpLzJ9ZnVuY3Rpb24gSGUodCl7cmV0dXJuKE1hdGguZXhwKHQpK01hdGguZXhwKC10KSkvMn1mdW5jdGlvbiBVZSh0KXtyZXR1cm4gdD09PTEvMD8xOnQ9PT0tMS8wPy0xOihNYXRoLmV4cCh0KS1NYXRoLmV4cCgtdCkpLyhNYXRoLmV4cCh0KStNYXRoLmV4cCgtdCkpfWZ1bmN0aW9uIFplKHQpe3JldHVybiB0PT09LTEvMD90Ok1hdGgubG9nKHQrTWF0aC5zcXJ0KHQqdCsxKSl9ZnVuY3Rpb24gUWUodCl7cmV0dXJuIE1hdGgubG9nKHQrTWF0aC5zcXJ0KHQqdC0xKSl9ZnVuY3Rpb24gWGUodCl7cmV0dXJuIE1hdGgubG9nKCgxK3QpLygxLXQpKS8yfWZ1bmN0aW9uIFllKHQpe3JldHVybiBNYXRoLmxvZyh0KSpNYXRoLkxPRzEwRX1mdW5jdGlvbiB0bih0KXtyZXR1cm4tdH1mdW5jdGlvbiBlbih0KXtyZXR1cm4hdH1mdW5jdGlvbiBubih0KXtyZXR1cm4gdDwwP01hdGguY2VpbCh0KTpNYXRoLmZsb29yKHQpfWZ1bmN0aW9uIHJuKHQpe3JldHVybiBNYXRoLnJhbmRvbSgpKih0fHwxKX1mdW5jdGlvbiBzbih0KXtyZXR1cm4gb24odCsxKX1PZS5wcm90b3R5cGUucGFyc2VUZXJtPWZ1bmN0aW9uKHQpe2Zvcih0aGlzLnBhcnNlRmFjdG9yKHQpO3RoaXMuYWNjZXB0KGdlLF9lKTspe3ZhciBlPXRoaXMuY3VycmVudDt0aGlzLnBhcnNlRmFjdG9yKHQpLHQucHVzaChpZShlLnZhbHVlKSl9fSxPZS5wcm90b3R5cGUucGFyc2VGYWN0b3I9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy50b2tlbnMudW5hcnlPcHM7aWYodGhpcy5zYXZlKCksdGhpcy5hY2NlcHQoZ2UsKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlIGluIGV9KSkpe2lmKFwiLVwiIT09dGhpcy5jdXJyZW50LnZhbHVlJiZcIitcIiE9PXRoaXMuY3VycmVudC52YWx1ZSl7aWYodGhpcy5uZXh0VG9rZW4udHlwZT09PWJlJiZcIihcIj09PXRoaXMubmV4dFRva2VuLnZhbHVlKXJldHVybiB0aGlzLnJlc3RvcmUoKSx2b2lkIHRoaXMucGFyc2VFeHBvbmVudGlhbCh0KTtpZih0aGlzLm5leHRUb2tlbi50eXBlPT09d2V8fHRoaXMubmV4dFRva2VuLnR5cGU9PT1DZXx8dGhpcy5uZXh0VG9rZW4udHlwZT09PXZlfHx0aGlzLm5leHRUb2tlbi50eXBlPT09YmUmJlwiKVwiPT09dGhpcy5uZXh0VG9rZW4udmFsdWUpcmV0dXJuIHRoaXMucmVzdG9yZSgpLHZvaWQgdGhpcy5wYXJzZUF0b20odCl9dmFyIG49dGhpcy5jdXJyZW50O3RoaXMucGFyc2VGYWN0b3IodCksdC5wdXNoKG5lKG4udmFsdWUpKX1lbHNlIHRoaXMucGFyc2VFeHBvbmVudGlhbCh0KX0sT2UucHJvdG90eXBlLnBhcnNlRXhwb25lbnRpYWw9ZnVuY3Rpb24odCl7Zm9yKHRoaXMucGFyc2VQb3N0Zml4RXhwcmVzc2lvbih0KTt0aGlzLmFjY2VwdChnZSxcIl5cIik7KXRoaXMucGFyc2VGYWN0b3IodCksdC5wdXNoKGllKFwiXlwiKSl9LE9lLnByb3RvdHlwZS5wYXJzZVBvc3RmaXhFeHByZXNzaW9uPWZ1bmN0aW9uKHQpe2Zvcih0aGlzLnBhcnNlRnVuY3Rpb25DYWxsKHQpO3RoaXMuYWNjZXB0KGdlLFwiIVwiKTspdC5wdXNoKG5lKFwiIVwiKSl9LE9lLnByb3RvdHlwZS5wYXJzZUZ1bmN0aW9uQ2FsbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnRva2Vucy51bmFyeU9wcztpZih0aGlzLmFjY2VwdChnZSwoZnVuY3Rpb24odCl7cmV0dXJuIHQudmFsdWUgaW4gZX0pKSl7dmFyIG49dGhpcy5jdXJyZW50O3RoaXMucGFyc2VBdG9tKHQpLHQucHVzaChuZShuLnZhbHVlKSl9ZWxzZSBmb3IodGhpcy5wYXJzZU1lbWJlckV4cHJlc3Npb24odCk7dGhpcy5hY2NlcHQoYmUsXCIoXCIpOylpZih0aGlzLmFjY2VwdChiZSxcIilcIikpdC5wdXNoKG5ldyBlZShIdCwwKSk7ZWxzZXt2YXIgaT10aGlzLnBhcnNlQXJndW1lbnRMaXN0KHQpO3QucHVzaChuZXcgZWUoSHQsaSkpfX0sT2UucHJvdG90eXBlLnBhcnNlQXJndW1lbnRMaXN0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wOyF0aGlzLmFjY2VwdChiZSxcIilcIik7KWZvcih0aGlzLnBhcnNlRXhwcmVzc2lvbih0KSwrK2U7dGhpcy5hY2NlcHQoQ2UpOyl0aGlzLnBhcnNlRXhwcmVzc2lvbih0KSwrK2U7cmV0dXJuIGV9LE9lLnByb3RvdHlwZS5wYXJzZU1lbWJlckV4cHJlc3Npb249ZnVuY3Rpb24odCl7Zm9yKHRoaXMucGFyc2VBdG9tKHQpO3RoaXMuYWNjZXB0KGdlLFwiLlwiKXx8dGhpcy5hY2NlcHQoeGUsXCJbXCIpOyl7dmFyIGU9dGhpcy5jdXJyZW50O2lmKFwiLlwiPT09ZS52YWx1ZSl7aWYoIXRoaXMuYWxsb3dNZW1iZXJBY2Nlc3MpdGhyb3cgbmV3IEVycm9yKCd1bmV4cGVjdGVkIFwiLlwiLCBtZW1iZXIgYWNjZXNzIGlzIG5vdCBwZXJtaXR0ZWQnKTt0aGlzLmV4cGVjdChJZSksdC5wdXNoKG5ldyBlZShYdCx0aGlzLmN1cnJlbnQudmFsdWUpKX1lbHNle2lmKFwiW1wiIT09ZS52YWx1ZSl0aHJvdyBuZXcgRXJyb3IoXCJ1bmV4cGVjdGVkIHN5bWJvbDogXCIrZS52YWx1ZSk7aWYoIXRoaXMudG9rZW5zLmlzT3BlcmF0b3JFbmFibGVkKFwiW1wiKSl0aHJvdyBuZXcgRXJyb3IoJ3VuZXhwZWN0ZWQgXCJbXVwiLCBhcnJheXMgYXJlIGRpc2FibGVkJyk7dGhpcy5wYXJzZUV4cHJlc3Npb24odCksdGhpcy5leHBlY3QoeGUsXCJdXCIpLHQucHVzaChpZShcIltcIikpfX19O3ZhciBhbj1bLjk5OTk5OTk5OTk5OTk5NzEsNTcuMTU2MjM1NjY1ODYyOTIsLTU5LjU5Nzk2MDM1NTQ3NTQ5LDE0LjEzNjA5Nzk3NDc0MTc0NiwtLjQ5MTkxMzgxNjA5NzYyMDIsMzM5OTQ2NDk5ODQ4MTE4OWUtMjAsNDY1MjM2Mjg5MjcwNDg1OGUtMjAsLTk4Mzc0NDc1MzA0ODc5NTZlLTIwLC4wMDAxNTgwODg3MDMyMjQ5MTI1LC0uMDAwMjEwMjY0NDQxNzI0MTA0ODgsLjAwMDIxNzQzOTYxODExNTIxMjY1LC0uMDAwMTY0MzE4MTA2NTM2NzYzOSw4NDQxODIyMzk4Mzg1Mjc1ZS0yMCwtMjYxOTA4Mzg0MDE1ODE0MDhlLTIxLDM2ODk5MTgyNjU5NTMxNjI1ZS0yMl07ZnVuY3Rpb24gb24odCl7dmFyIGUsbjtpZihmdW5jdGlvbih0KXtyZXR1cm4gaXNGaW5pdGUodCkmJnQ9PT1NYXRoLnJvdW5kKHQpfSh0KSl7aWYodDw9MClyZXR1cm4gaXNGaW5pdGUodCk/MS8wOk5hTjtpZih0PjE3MSlyZXR1cm4gMS8wO2Zvcih2YXIgaT10LTIscj10LTE7aT4xOylyKj1pLGktLTtyZXR1cm4gMD09PXImJihyPTEpLHJ9aWYodDwuNSlyZXR1cm4gTWF0aC5QSS8oTWF0aC5zaW4oTWF0aC5QSSp0KSpvbigxLXQpKTtpZih0Pj0xNzEuMzUpcmV0dXJuIDEvMDtpZih0Pjg1KXt2YXIgcz10KnQsYT1zKnQsbz1hKnQsdT1vKnQ7cmV0dXJuIE1hdGguc3FydCgyKk1hdGguUEkvdCkqTWF0aC5wb3codC9NYXRoLkUsdCkqKDErMS8oMTIqdCkrMS8oMjg4KnMpLTEzOS8oNTE4NDAqYSktNTcxLygyNDg4MzIwKm8pKzE2Mzg3OS8oMjA5MDE4ODgwKnUpKzUyNDY4MTkvKDc1MjQ2Nzk2ODAwKnUqdCkpfS0tdCxuPWFuWzBdO2Zvcih2YXIgbD0xO2w8YW4ubGVuZ3RoOysrbCluKz1hbltsXS8odCtsKTtyZXR1cm4gZT10KzQuNzQyMTg3NSsuNSxNYXRoLnNxcnQoMipNYXRoLlBJKSpNYXRoLnBvdyhlLHQrLjUpKk1hdGguZXhwKC1lKSpufWZ1bmN0aW9uIHVuKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP3QubGVuZ3RoOlN0cmluZyh0KS5sZW5ndGh9ZnVuY3Rpb24gbG4oKXtmb3IodmFyIHQ9MCxlPTAsbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspe3ZhciBpLHI9TWF0aC5hYnMoYXJndW1lbnRzW25dKTtlPHI/KHQ9dCooaT1lL3IpKmkrMSxlPXIpOnQrPXI+MD8oaT1yL2UpKmk6cn1yZXR1cm4gZT09PTEvMD8xLzA6ZSpNYXRoLnNxcnQodCl9ZnVuY3Rpb24gY24odCxlLG4pe3JldHVybiB0P2U6bn1mdW5jdGlvbiBobih0LGUpe3JldHVybiB2b2lkIDA9PT1lfHwwPT0rZT9NYXRoLnJvdW5kKHQpOih0PSt0LGU9LStlLGlzTmFOKHQpfHxcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wP05hTjoodD10LnRvU3RyaW5nKCkuc3BsaXQoXCJlXCIpLCsoKHQ9KHQ9TWF0aC5yb3VuZCgrKHRbMF0rXCJlXCIrKHRbMV0/K3RbMV0tZTotZSkpKSkudG9TdHJpbmcoKS5zcGxpdChcImVcIikpWzBdK1wiZVwiKyh0WzFdPyt0WzFdK2U6ZSkpKSl9ZnVuY3Rpb24gZG4odCxlLG4pe3JldHVybiBuJiYoblt0XT1lKSxlfWZ1bmN0aW9uIHBuKHQsZSl7cmV0dXJuIHRbMHxlXX1mdW5jdGlvbiBmbih0KXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGgmJkFycmF5LmlzQXJyYXkodCk/TWF0aC5tYXguYXBwbHkoTWF0aCx0KTpNYXRoLm1heC5hcHBseShNYXRoLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbW4odCl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoJiZBcnJheS5pc0FycmF5KHQpP01hdGgubWluLmFwcGx5KE1hdGgsdCk6TWF0aC5taW4uYXBwbHkoTWF0aCxhcmd1bWVudHMpfWZ1bmN0aW9uIHZuKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJGaXJzdCBhcmd1bWVudCB0byBtYXAgaXMgbm90IGEgZnVuY3Rpb25cIik7aWYoIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IEVycm9yKFwiU2Vjb25kIGFyZ3VtZW50IHRvIG1hcCBpcyBub3QgYW4gYXJyYXlcIik7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlLG4pe3JldHVybiB0KGUsbil9KSl9ZnVuY3Rpb24gZ24odCxlLG4pe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKFwiRmlyc3QgYXJndW1lbnQgdG8gZm9sZCBpcyBub3QgYSBmdW5jdGlvblwiKTtpZighQXJyYXkuaXNBcnJheShuKSl0aHJvdyBuZXcgRXJyb3IoXCJTZWNvbmQgYXJndW1lbnQgdG8gZm9sZCBpcyBub3QgYW4gYXJyYXlcIik7cmV0dXJuIG4ucmVkdWNlKChmdW5jdGlvbihlLG4saSl7cmV0dXJuIHQoZSxuLGkpfSksZSl9ZnVuY3Rpb24geW4odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcihcIkZpcnN0IGFyZ3VtZW50IHRvIGZpbHRlciBpcyBub3QgYSBmdW5jdGlvblwiKTtpZighQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgRXJyb3IoXCJTZWNvbmQgYXJndW1lbnQgdG8gZmlsdGVyIGlzIG5vdCBhbiBhcnJheVwiKTtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQoZSxuKX0pKX1mdW5jdGlvbiBrbih0LGUpe2lmKCFBcnJheS5pc0FycmF5KGUpJiZcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJTZWNvbmQgYXJndW1lbnQgdG8gaW5kZXhPZiBpcyBub3QgYSBzdHJpbmcgb3IgYXJyYXlcIik7cmV0dXJuIGUuaW5kZXhPZih0KX1mdW5jdGlvbiBibih0LGUpe2lmKCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBFcnJvcihcIlNlY29uZCBhcmd1bWVudCB0byBqb2luIGlzIG5vdCBhbiBhcnJheVwiKTtyZXR1cm4gZS5qb2luKHQpfWZ1bmN0aW9uIHhuKHQpe3JldHVybih0PjApLSh0PDApfHwrdH12YXIgQ249MS8zO2Z1bmN0aW9uIEluKHQpe3JldHVybiB0PDA/LU1hdGgucG93KC10LENuKTpNYXRoLnBvdyh0LENuKX1mdW5jdGlvbiB3bih0KXtyZXR1cm4gTWF0aC5leHAodCktMX1mdW5jdGlvbiBFbih0KXtyZXR1cm4gTWF0aC5sb2coMSt0KX1mdW5jdGlvbiBBbih0KXtyZXR1cm4gTWF0aC5sb2codCkvTWF0aC5MTjJ9ZnVuY3Rpb24gUG4odCl7dGhpcy5vcHRpb25zPXR8fHt9LHRoaXMudW5hcnlPcHM9e3NpbjpNYXRoLnNpbixjb3M6TWF0aC5jb3MsdGFuOk1hdGgudGFuLGFzaW46TWF0aC5hc2luLGFjb3M6TWF0aC5hY29zLGF0YW46TWF0aC5hdGFuLHNpbmg6TWF0aC5zaW5ofHxKZSxjb3NoOk1hdGguY29zaHx8SGUsdGFuaDpNYXRoLnRhbmh8fFVlLGFzaW5oOk1hdGguYXNpbmh8fFplLGFjb3NoOk1hdGguYWNvc2h8fFFlLGF0YW5oOk1hdGguYXRhbmh8fFhlLHNxcnQ6TWF0aC5zcXJ0LGNicnQ6TWF0aC5jYnJ0fHxJbixsb2c6TWF0aC5sb2csbG9nMjpNYXRoLmxvZzJ8fEFuLGxuOk1hdGgubG9nLGxnOk1hdGgubG9nMTB8fFllLGxvZzEwOk1hdGgubG9nMTB8fFllLGV4cG0xOk1hdGguZXhwbTF8fHduLGxvZzFwOk1hdGgubG9nMXB8fEVuLGFiczpNYXRoLmFicyxjZWlsOk1hdGguY2VpbCxmbG9vcjpNYXRoLmZsb29yLHJvdW5kOk1hdGgucm91bmQsdHJ1bmM6TWF0aC50cnVuY3x8bm4sXCItXCI6dG4sXCIrXCI6TnVtYmVyLGV4cDpNYXRoLmV4cCxub3Q6ZW4sbGVuZ3RoOnVuLFwiIVwiOnNuLHNpZ246TWF0aC5zaWdufHx4bn0sdGhpcy5iaW5hcnlPcHM9e1wiK1wiOkRlLFwiLVwiOk1lLFwiKlwiOlZlLFwiL1wiOiRlLFwiJVwiOk5lLFwiXlwiOk1hdGgucG93LFwifHxcIjpqZSxcIj09XCI6QmUsXCIhPVwiOlJlLFwiPlwiOkxlLFwiPFwiOkZlLFwiPj1cIjp6ZSxcIjw9XCI6R2UsYW5kOnFlLG9yOktlLGluOldlLFwiPVwiOmRuLFwiW1wiOnBufSx0aGlzLnRlcm5hcnlPcHM9e1wiP1wiOmNufSx0aGlzLmZ1bmN0aW9ucz17cmFuZG9tOnJuLGZhYzpzbixtaW46bW4sbWF4OmZuLGh5cG90Ok1hdGguaHlwb3R8fGxuLHB5dDpNYXRoLmh5cG90fHxsbixwb3c6TWF0aC5wb3csYXRhbjI6TWF0aC5hdGFuMixpZjpjbixnYW1tYTpvbixyb3VuZFRvOmhuLG1hcDp2bixmb2xkOmduLGZpbHRlcjp5bixpbmRleE9mOmtuLGpvaW46Ym59LHRoaXMuY29uc3RzPXtFOk1hdGguRSxQSTpNYXRoLlBJLHRydWU6ITAsZmFsc2U6ITF9fVBuLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0KXt2YXIgZT1bXSxuPW5ldyBPZSh0aGlzLG5ldyBBZSh0aGlzLHQpLHthbGxvd01lbWJlckFjY2Vzczp0aGlzLm9wdGlvbnMuYWxsb3dNZW1iZXJBY2Nlc3N9KTtyZXR1cm4gbi5wYXJzZUV4cHJlc3Npb24oZSksbi5leHBlY3QodmUsXCJFT0ZcIiksbmV3IG1lKGUsdGhpcyl9LFBuLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnBhcnNlKHQpLmV2YWx1YXRlKGUpfTt2YXIgT249bmV3IFBuO1BuLnBhcnNlPWZ1bmN0aW9uKHQpe3JldHVybiBPbi5wYXJzZSh0KX0sUG4uZXZhbHVhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gT24ucGFyc2UodCkuZXZhbHVhdGUoZSl9O3ZhciBUbj17XCIrXCI6XCJhZGRcIixcIi1cIjpcInN1YnRyYWN0XCIsXCIqXCI6XCJtdWx0aXBseVwiLFwiL1wiOlwiZGl2aWRlXCIsXCIlXCI6XCJyZW1haW5kZXJcIixcIl5cIjpcInBvd2VyXCIsXCIhXCI6XCJmYWN0b3JpYWxcIixcIjxcIjpcImNvbXBhcmlzb25cIixcIj5cIjpcImNvbXBhcmlzb25cIixcIjw9XCI6XCJjb21wYXJpc29uXCIsXCI+PVwiOlwiY29tcGFyaXNvblwiLFwiPT1cIjpcImNvbXBhcmlzb25cIixcIiE9XCI6XCJjb21wYXJpc29uXCIsXCJ8fFwiOlwiY29uY2F0ZW5hdGVcIixhbmQ6XCJsb2dpY2FsXCIsb3I6XCJsb2dpY2FsXCIsbm90OlwibG9naWNhbFwiLFwiP1wiOlwiY29uZGl0aW9uYWxcIixcIjpcIjpcImNvbmRpdGlvbmFsXCIsXCI9XCI6XCJhc3NpZ25tZW50XCIsXCJbXCI6XCJhcnJheVwiLFwiKCk9XCI6XCJmbmRlZlwifTtQbi5wcm90b3R5cGUuaXNPcGVyYXRvckVuYWJsZWQ9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCl7cmV0dXJuIFRuLmhhc093blByb3BlcnR5KHQpP1RuW3RdOnR9KHQpLG49dGhpcy5vcHRpb25zLm9wZXJhdG9yc3x8e307cmV0dXJuIShlIGluIG4pfHwhIW5bZV19O3ZhciBTbj1uZXcgU2V0KFtcInNldFZhbHVlXCIsXCJfZ2V0RnJvbVByb3h5XCIsXCJfX2NyZWF0ZVBhdGhQcm94aWVzXCIsXCJoYXNPd25Qcm9wZXJ0eVwiLFwicHVzaFZhbHVlXCIsXCJyZW1vdmVQYXRoS2V5XCIsXCJyZW1vdmVLZXlcIixcInJlc3RvcmVLZXlcIixcImdldEtleXNcIixcImV4cG9ydEZsYXR0ZW5lZFwiLFwiaXNBcnJheVwiLFwicHVzaFwiLFwic29ydEJ5XCIsXCJmaW5kSW5kZXhcIl0pO2Z1bmN0aW9uIF9uKHQpe3ZhciBlPXt9LG49bmV3IFNldCxpPUFycmF5LmlzQXJyYXkodCkscj1pP3QubGVuZ3RoOjAscz1udWxsO3JldHVybiBuZXcgUHJveHkodCx7Z2V0OmZ1bmN0aW9uKGEsbyl7cmV0dXJuXCJsZW5ndGhcIj09PW8mJmk/cjpTbi5oYXMobyk/dGhpc1tvXTpuLmhhcyhvKT92b2lkIDA6KGkmJm51bGwhPT1zJiYobz1zW29dKSxpaShlLG8pP2Vbb106dFtvXSl9LGlzQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sX2dldEZyb21Qcm94eTpmdW5jdGlvbih0KXtyZXR1cm4gaWkoZSx0KT9lW3RdOnZvaWQgMH0sc2V0OnZpLHNvcnRCeTpmdW5jdGlvbih0KXtpZihzPW51bGwsIWkpcmV0dXJuITE7cz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1bXSxpPTA7aTx0Lmxlbmd0aDtpKyspbi5wdXNoKFt0W2ldLGldKTtuLnNvcnQoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIHRbMF1bZV08blswXVtlXT8tMToxfSkpO3ZhciByPVtdO2Zvcih2YXIgcyBpbiBuKXIucHVzaChuW3NdWzFdKTtyZXR1cm4gcn0odGhpcyx0KX0sX19jcmVhdGVQYXRoUHJveGllczpmdW5jdGlvbihuKXtmb3IodmFyIHI9ZSxhPXQsbz0wO288bi5sZW5ndGgtMTtvKyspe3ZhciB1PWkmJm51bGwhPT1zP3NbbltvXV06bltvXTtpZigwPT09bz92b2lkIDA9PT1yW3VdOnZvaWQgMD09PXIuX2dldEZyb21Qcm94eSh1KSl7dmFyIGw9X24odm9pZCAwIT09YSYmYVt1XXx8e30pOzA9PT1vP3JbdV09bDpyLnNldFZhbHVlKHUsbCl9cj1yW3VdLGE9dm9pZCAwIT09YT9hW3VdOnt9fXJldHVybntjdXJyZW50T2JqZWN0OnIsY3VycmVudFJlYWxPYmVjdDphfX0sZmluZEluZGV4OmZ1bmN0aW9uKHQpe2lmKCFpKXJldHVybiBudWxsO2Zvcih2YXIgZT0wO2U8cjtlKyspaWYodCh0aGlzW2VdKSlyZXR1cm4gZTtyZXR1cm4gbnVsbH0sc2V0VmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT10LnNwbGl0KFwiLlwiKSxyPXRoaXMuX19jcmVhdGVQYXRoUHJveGllcyhpKS5jdXJyZW50T2JqZWN0LHM9ZTtyZXR1cm4gZWkoZSkmJihzPV9uKGUpKSwxPT09aS5sZW5ndGg/KHJbaVtpLmxlbmd0aC0xXV09cyxuLmRlbGV0ZShzKSk6KHIuc2V0VmFsdWUoaVtpLmxlbmd0aC0xXSxzKSxyLnJlc3RvcmVLZXkoaVtpLmxlbmd0aC0xXSkpLCEwfSxwdXNoVmFsdWU6ZnVuY3Rpb24oZSxuKXt2YXIgaT1lLnNwbGl0KFwiLlwiKSxyPXRoaXMuX19jcmVhdGVQYXRoUHJveGllcyhpKSxzPXIuY3VycmVudE9iamVjdDtpZih2b2lkIDA9PT1yLmN1cnJlbnRSZWFsT2JlY3QpcmV0dXJuITE7dmFyIGE9aVtpLmxlbmd0aC0xXSxvPXNbYV0sdT10W2FdO2lmKFwiXCI9PT1lJiYobz10aGlzLHU9dCksMSE9PWkubGVuZ3RoKXJldHVybiBzLnB1c2hWYWx1ZShhLG4pO3ZhciBsPSExO2lmKHZvaWQgMCE9PW8pe2lmKGw9ITAsIW8uaXNBcnJheSgpKXJldHVybiExfWVsc2UgaWYoIUFycmF5LmlzQXJyYXkodSkpcmV0dXJuITE7aWYoIWwpe3ZhciBjPV9uKHUpO3NbYV09YyxvPXNbYV19cmV0dXJuIG8ucHVzaChuKSwhMH0scHVzaDpmdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMuaXNBcnJheSgpJiYoZVtyXT1laSh0KT9fbih0KTp0LHIrPTEsITApfSxyZW1vdmVQYXRoS2V5OmZ1bmN0aW9uKHQpe3ZhciBlPXQuc3BsaXQoXCIuXCIpO3JldHVybiB0aGlzLl9fY3JlYXRlUGF0aFByb3hpZXMoZSkuY3VycmVudE9iamVjdC5yZW1vdmVLZXkoZVtlLmxlbmd0aC0xXSksITB9LHJlbW92ZUtleTpmdW5jdGlvbih0KXtuLmFkZCh0KX0scmVzdG9yZUtleTpmdW5jdGlvbih0KXtuLmRlbGV0ZSh0KX0saGFzT3duUHJvcGVydHk6ZnVuY3Rpb24odCl7cmV0dXJuIShuLmhhcyh0KXx8dm9pZCAwPT09dGhpc1t0XSl9LGdldEtleXM6ZnVuY3Rpb24oKXt2YXIgcjtpZihpKXJldHVybltdO3ZhciBzPU9iamVjdC5rZXlzKHQpO3JldHVybihyPXMpLnB1c2guYXBwbHkocixrKE9iamVjdC5rZXlzKGUpKSkscz1zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIW4uaGFzKHQpfSkpfSxleHBvcnRGbGF0dGVuZWQ6ZnVuY3Rpb24oKXt2YXIgbjtpZihpKWlmKG49W10sbnVsbCE9PXMpZm9yKHZhciByPTA7cjxzLmxlbmd0aDtyKyspe3ZhciBhPXNbcl07aWYoaWkoZSxhKSl7dmFyIG89ZVthXTtpZihlaShvKSl0cnl7bltyXT1lW2FdLmV4cG9ydEZsYXR0ZW5lZCgpfWNhdGNoKHQpe25bcl09b31lbHNlIG5bcl09b31lbHNlIG5bcl09dFthXX1lbHNle249ayh0KTtmb3IodmFyIHU9MCxsPU9iamVjdC5lbnRyaWVzKGUpO3U8bC5sZW5ndGg7dSsrKXt2YXIgYz15KGxbdV0sMiksaD1jWzBdLGQ9Y1sxXTtpZihlaShkKSl0cnl7bltoXT1lW2hdLmV4cG9ydEZsYXR0ZW5lZCgpfWNhdGNoKHQpe25baF09ZH1lbHNlIG5baF09ZH19ZWxzZXtuPXt9O2Zvcih2YXIgcD10aGlzLmdldEtleXMoKSxmPTA7ZjxwLmxlbmd0aDtmKyspe3ZhciBtPXBbZl07dm9pZCAwIT09ZVttXT9uW21dPWVpKGVbbV0pP2VbbV0uZXhwb3J0RmxhdHRlbmVkKCk6ZVttXTpuW21dPXRbbV19fXJldHVybiBufX0pfXZhciBEbj1uZXcgUG47ZnVuY3Rpb24gTW4odCl7Zm9yKHZhciBlPXQuc3BsaXQoLyAqXFwrICovKSxuPTA7bjxlLmxlbmd0aDtuKyspZVtuXT1lW25dLnRyaW0oKSxlW25dLm1hdGNoKGp0KSYmKGVbbl09ZVtuXS5zdWJzdHJpbmcoMSxlW25dLmxlbmd0aC0xKSk7cmV0dXJuIGUuam9pbihcIlwiKX1mdW5jdGlvbiBWbih0LGUsbil7ZnVuY3Rpb24gaSh0KXt2YXIgaT10Lm1hdGNoKE10KSxyPXQucmVwbGFjZUFsbChNdCxcIlwiKSxzPVZ0KGUuaXRlbXMpLGE9ZnVuY3Rpb24odCl7aWYoIWVpKHQpKXJldHVybiExO3ZhciBlPU9iamVjdC5rZXlzKHQpLmpvaW4oXCJ8XCIpO2lmKFwiXCI9PT1lKXJldHVybiExO3ZhciBuPVwiKD88IVthLXosQS1aXzAtOV0pKFwiLmNvbmNhdChlLFwiKSg/IVthLXosQS1aXzAtOS5cXFxcW10pXCIpO3JldHVybiBuZXcgUmVnRXhwKG4sXCJnXCIpfShlLmtleXMpO2lmKCExIT09cyYmKHI9ci5yZXBsYWNlQWxsKHMsKGZ1bmN0aW9uKHQpe2lmKFwiaW5pdFBhcmFtc1wiPT09dHx8XCJhdHRyc1wiPT09dClyZXR1cm5cInVuZGVmaW5lZFwiO3ZhciBpPUZ0KHQsXCJcIixlLml0ZW1zKTtyZXR1cm4gdGkoaSkmJihpPVwiJ1wiLmNvbmNhdChuP3hpKGkpOmksXCInXCIpKSxpfSkpKSwhMSE9PWEmJihyPXIucmVwbGFjZUFsbChhLChmdW5jdGlvbih0KXt2YXIgaT1lLmtleXNbdF07cmV0dXJuIHRpKGkpJiYoaT1cIidcIi5jb25jYXQobj94aShpKTppLFwiJ1wiKSksaX0pKSksci5tYXRjaChSdCkpe3ZhciBvPXIuc3BsaXQoLz09PXw9PS8pO3JldHVybiBvWzBdPU1uKG9bMF0pLG9bMV09TW4ob1sxXSksKG9bMF09PT1vWzFdKS50b1N0cmluZygpfXRyeXt2YXIgdT1Ebi5wYXJzZShyKSxsPU9iamVjdC5hc3NpZ24oe30sZS5rZXlzLGUuaXRlbXMpLGM9dS5ldmFsdWF0ZShsKTtpZih2b2lkIDAhPT1jJiYhaXNOYU4oYykpcmV0dXJuIGN9Y2F0Y2godCl7fWlmKHIubWF0Y2goQnQpKXJldHVybiBNbihyKTt2YXIgaD0vPT09fD09fD49fD58PD18PHwhPT18IT0vZyxkPXIuc3BsaXQoaCk7aWYoMj09PWQubGVuZ3RoKXt2YXIgcD1yLm1hdGNoKGgpWzBdO3RyeXt2YXIgZj1Ebi5wYXJzZShkWzBdKSxtPURuLnBhcnNlKGRbMV0pLHY9T2JqZWN0LmFzc2lnbih7fSxlLmtleXMsZS5pdGVtcyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtzd2l0Y2gobil7Y2FzZVwiPT1cIjpjYXNlXCI9PT1cIjpyZXR1cm4gdD09PWU7Y2FzZVwiIT1cIjpjYXNlXCIhPT1cIjpyZXR1cm4gdCE9PWU7Y2FzZVwiPlwiOnJldHVybiB0PmU7Y2FzZVwiPj1cIjpyZXR1cm4gdD49ZTtjYXNlXCI8XCI6cmV0dXJuIHQ8ZTtjYXNlXCI8PVwiOnJldHVybiB0PD1lO2RlZmF1bHQ6cmV0dXJuIHlpLmVycm9yKFwiTm90IHN1cHBvcnRlZCBvcGVyYXRvciBcIituKSwhMX19KGYuZXZhbHVhdGUodiksbS5ldmFsdWF0ZSh2KSxwKS50b1N0cmluZygpfWNhdGNoKHQpe319cmV0dXJuIG51bGwhPT1pP1wie3tcIi5jb25jYXQocixcIn19XCIpOnJ9cmV0dXJuIHQucmVwbGFjZUFsbCgkdCxpKS5yZXBsYWNlQWxsKE50LGkpfWZ1bmN0aW9uICRuKHQpe3ZhciBlLG49RSh0LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbWMtaWZdXCIpKTt0cnl7Zm9yKG4ucygpOyEoZT1uLm4oKSkuZG9uZTspe3ZhciBpPWUudmFsdWUscj1pLmdldEF0dHJpYnV0ZShcIm1jLWlmXCIpO1widHJ1ZVwiPT09cj9pLnJlbW92ZUF0dHJpYnV0ZShcIm1jLWlmXCIpOlwiZmFsc2VcIj09PXImJmkucmVtb3ZlKCl9fWNhdGNoKHQpe24uZSh0KX1maW5hbGx5e24uZigpfX1mdW5jdGlvbiBObih0LGUpe2lmKCF0Lmhhc0F0dHJpYnV0ZShcIm1jLWZvclwiKXx8IXQuaGFzQXR0cmlidXRlKFwibWMtb2ZcIikpcmV0dXJuIHlpLndhcm5pbmcoXCJFaXRoZXIgbWMtZm9yIGFuZCBtYy1vZiBpcyBtaXNzaW5nIGZyb20gZWxlbWVudFwiKSwhMTtpZighdC5nZXRBdHRyaWJ1dGUoXCJtYy1mb3JcIikubWF0Y2goL14gKlthLXpBLVpfXVswLTlhLXpBLVpfXSogKiwgKlthLXpBLVpfXVswLTlhLXpBLVpfXSogKiQvKSlyZXR1cm4geWkud2FybmluZyhcIm1jLWZvciBhdHRyaWJ1dGUgaXMgbm90IGEgdmFsaWQgZXhwcmVzc2lvblwiKSwhMTt2YXIgbj1mdW5jdGlvbih0KXt2YXIgZT1cIl4gKlwiLmNvbmNhdChWdCh0LCEwKSxcIiAqJFwiKTtyZXR1cm4gbmV3IFJlZ0V4cChlLFwiZ1wiKX0oZSksaT10LmdldEF0dHJpYnV0ZShcIm1jLW9mXCIpLm1hdGNoKG4pO2lmKDEhPT0obnVsbD09aT92b2lkIDA6aS5sZW5ndGgpKXJldHVybiB5aS53YXJuaW5nKFwibWMtb2YgYXR0cmlidXRlIGlzIG5vdCBhIHZhbGlkIGV4cHJlc3Npb25cIiksITE7dmFyIHI9RnQoaVswXS50cmltKCksXCJcIixlKTtyZXR1cm4gdm9pZCAwPT09cj8oeWkud2FybmluZyhcIm1jLW9mIHZhbHVlIGlzIHVuZGVmaW5lZFwiKSwhMSk6ZWkocik/cjooeWkud2FybmluZyhcIm1jLW9mIHZhbHVlIHNob3VsZCBiZSBlaXRoZXIgYW4gb2JqZWN0IG9yIGFuIGFycmF5XCIpLCExKX1mdW5jdGlvbiBqbih0KXt2YXIgZT1bXSxuPV9uKHQucGFyYW1zKTtmb3IodmFyIGkgaW4gdC5pdGVtcyluLnNldFZhbHVlKFwia2V5cy5cIi5jb25jYXQodC5rZXlzLmtleSksaSksbi5zZXRWYWx1ZShcIml0ZW1zLlwiLmNvbmNhdCh0LmtleXMuaXRlbSksdC5pdGVtc1tpXSksZS5wdXNoKFJuKHQudGVtcGxhdGUsbi5leHBvcnRGbGF0dGVuZWQoKSwhMCkpO3JldHVybiBlfWZ1bmN0aW9uIEJuKHQsZSl7dmFyIG4saT1FKHQucXVlcnlTZWxlY3RvckFsbChcIlttYy1mb3JdXCIpKTt0cnl7Zm9yKGkucygpOyEobj1pLm4oKSkuZG9uZTspe3ZhciByPW4udmFsdWUscz1ObihyLGUuaXRlbXMpO2lmKCExIT09cyYmZWkocykpe3ZhciBhPXIuZ2V0QXR0cmlidXRlKFwibWMtZm9yXCIpLnNwbGl0KFwiLFwiKSxvPXtrZXk6YVswXS50cmltKCksaXRlbTphWzFdLnRyaW0oKX07ci5yZW1vdmVBdHRyaWJ1dGUoXCJtYy1mb3JcIiksci5yZW1vdmVBdHRyaWJ1dGUoXCJtYy1vZlwiKTt2YXIgdT1qbih7dGVtcGxhdGU6ci5vdXRlckhUTUwsa2V5czpvLHBhcmFtczplLGl0ZW1zOnN9KTtpZigwIT09dS5sZW5ndGgpe2Zvcih2YXIgbD1yLGM9MDtjPHUubGVuZ3RoO2MrKyl7dmFyIGg9bC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh1W2NdLGwubmV4dFNpYmxpbmcpO2w9aH1yLnJlbW92ZSgpfWVsc2Ugci5yZW1vdmUoKX1lbHNlIHIucmVtb3ZlKCl9fWNhdGNoKHQpe2kuZSh0KX1maW5hbGx5e2kuZigpfX1mdW5jdGlvbiBSbih0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl07aWYodD1Wbih0PXQucmVwbGFjZSgvXlxccyt8XFxzKyQvZyxcIlwiKSxlLG4pLCFuKXJldHVybiB0O3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIGkuaW5uZXJIVE1MPXQsJG4oaSksQm4oaSxlKSwxIT09aS5jaGlsZEVsZW1lbnRDb3VudD8oY29uc29sZS5lcnJvcihcInBhcnNlciBvbmx5IGFjY2VwdHMgY2xvc2UgRE9NIHRyZWVzIChhbHdheXMgY29udGFpbmVkIG9uIGEgc2luZ2xlIGVsZW1lbnQpLiBUaGUgcm9vdCBlbGVtZW50IGNhbiBub3QgaGF2ZSBtYy1mb3IgYXBwbGllZCB0byBpdC4gUmV0dXJuaW5nIGVtcHR5IGRpdlwiKSxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTppLmZpcnN0Q2hpbGR9dmFyIExuPWZ1bmN0aW9uKHQpe3Q9dC5yZXBsYWNlKC8gL2csXCJcIik7dmFyIGU9L1xcKChbXlxcKFxcKV18XFwoKFteXFwoXFwpXXxcXCgoW15cXChcXCldfFxcKChbXlxcKFxcKV0pKlxcKSkqXFwpKSpcXCkpKlxcKS8uZXhlYyh0KTtpZih2b2lkIDA9PT1lKXJldHVybntyZXN1bHQ6ITF9O3ZhciBuPXQuc3BsaXQoXCIpXCIpO3JldHVybntyZXN1bHQ6ITAsdW5pdDpuW24ubGVuZ3RoLTFdLGV4cHJlc3Npb246ZVswXX19LEZuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtyKHRoaXMsdCksdGhpcy5leHByZXNzaW9uUHJvcHM9ZX1yZXR1cm4gYSh0LFt7a2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9TG4odGhpcy5leHByZXNzaW9uUHJvcHMuZXhwcmVzc2lvbiksbj1cIihcIi5jb25jYXQoZS5leHByZXNzaW9uLFwiKlwiKS5jb25jYXQodCxcIilcIik7cmV0dXJuXCJcIi5jb25jYXQoQi5tYXRoRXhwUHJlZmFjZSxcIihcIikuY29uY2F0KG4sXCIpXCIpLmNvbmNhdCh0aGlzLmV4cHJlc3Npb25Qcm9wcy51bml0KX19LHtrZXk6XCJjYWxjdWxhdGVWYWx1ZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbixpPXQubGVuZ3RoLHI9W10scz0obyhuPXt9LEIudG90YWxFbGVtZW50cyxpKSxvKG4sQi5pbml0UGFyYW1zLGUpLG4pLGE9MDthPGk7YSsrKXtzW0IuZWxlbWVudEluZGV4XT1hO3ZhciB1PXRoaXMuZXhwcmVzc2lvblByb3BzLmV4cHJlc3Npb24uc3Vic3RyaW5nKDEsdGhpcy5leHByZXNzaW9uUHJvcHMuZXhwcmVzc2lvbi5sZW5ndGgtMSksbD1SbihcInt7XCIuY29uY2F0KHUsXCJ9fVwiKSx7aXRlbXM6c30pO2lmKG51bGw9PT1sLm1hdGNoKCR0KSl7dmFyIGM9XCJcIi5jb25jYXQobCkuY29uY2F0KHRoaXMuZXhwcmVzc2lvblByb3BzLnVuaXQpO3IucHVzaChZbihjKT8xKmM6Yyl9ZWxzZSB5aS5lcnJvcihcIlwiLmNvbmNhdCh0aGlzLmV4cHJlc3Npb25Qcm9wcy5leHByZXNzaW9uLFwiIGNhbiBub3QgZnVsbHkgcGFyc2VkLiBBdCBsZWFzdCBvbmUgb2YgdGhlIHByb3ZpZGVkIHBhcmFtZXRlcnMgc2VlbSBub3QgdG8gYmUgdmFsaWQuIFJldHVybmluZyAwXCIpKSxyLnB1c2goMCl9cmV0dXJuIHJ9fV0pLHR9KCksem49e2xpbmVhcjpmdW5jdGlvbih0KXtyZXR1cm4gdH0sZWFzZUluUXVhZDpmdW5jdGlvbih0KXtyZXR1cm4gdCp0fSxlYXNlT3V0UXVhZDpmdW5jdGlvbih0KXtyZXR1cm4gdCooMi10KX0sZWFzZUluT3V0UXVhZDpmdW5jdGlvbih0KXtyZXR1cm4gdDwuNT8yKnQqdDooNC0yKnQpKnQtMX0sZWFzZUluQ3ViaWM6ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCp0fSxlYXNlT3V0Q3ViaWM6ZnVuY3Rpb24odCl7cmV0dXJuLS10KnQqdCsxfSxlYXNlSW5PdXRDdWJpYzpmdW5jdGlvbih0KXtyZXR1cm4gdDwuNT80KnQqdCp0Oih0LTEpKigyKnQtMikqKDIqdC0yKSsxfSxlYXNlSW5RdWFydDpmdW5jdGlvbih0KXtyZXR1cm4gdCp0KnQqdH0sZWFzZU91dFF1YXJ0OmZ1bmN0aW9uKHQpe3JldHVybiAxLSAtLXQqdCp0KnR9LGVhc2VJbk91dFF1YXJ0OmZ1bmN0aW9uKHQpe3JldHVybiB0PC41PzgqdCp0KnQqdDoxLTgqLS10KnQqdCp0fSxlYXNlSW5RdWludDpmdW5jdGlvbih0KXtyZXR1cm4gdCp0KnQqdCp0fSxlYXNlT3V0UXVpbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIDErLS10KnQqdCp0KnR9LGVhc2VJbk91dFF1aW50OmZ1bmN0aW9uKHQpe3JldHVybiB0PC41PzE2KnQqdCp0KnQqdDoxKzE2Ki0tdCp0KnQqdCp0fSxlYXNlSW5TaW5lOmZ1bmN0aW9uKHQpe3JldHVybi0xKk1hdGguY29zKHQqKE1hdGguUEkvMikpKzF9LGVhc2VPdXRTaW5lOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNpbih0KihNYXRoLlBJLzIpKX0sZWFzZUluT3V0U2luZTpmdW5jdGlvbih0KXtyZXR1cm4tLjUqKE1hdGguY29zKE1hdGguUEkqdCktMSl9LGVhc2VJbkV4cG86ZnVuY3Rpb24odCl7cmV0dXJuIDA9PXQ/MToxKk1hdGgucG93KDIsMTAqKHQtMSkpfSxlYXNlT3V0RXhwbzpmdW5jdGlvbih0KXtyZXR1cm4gMT09dD8xOjEqKDEtTWF0aC5wb3coMiwtMTAqdCkpfSxlYXNlSW5PdXRFeHBvOmZ1bmN0aW9uKHQpe3JldHVybiAwPT10fHwxPT10P3Q6KHQvPS41KTwxPy41Kk1hdGgucG93KDIsMTAqKHQtMSkpOi41KigyLU1hdGgucG93KDIsLTEwKi0tdCkpfSxlYXNlSW5DaXJjOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xP3Q6LShNYXRoLnNxcnQoMS0odC89MSkqdCktMSl9LGVhc2VPdXRDaXJjOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQoMS0odD10LzEtMSkqdCl9LGVhc2VJbk91dENpcmM6ZnVuY3Rpb24odCl7cmV0dXJuKHQvPS41KTwxPy0uNSooTWF0aC5zcXJ0KDEtdCp0KS0xKTouNSooTWF0aC5zcXJ0KDEtKHQtPTIpKnQpKzEpfSxlYXNlSW5FbGFzdGljOmZ1bmN0aW9uKHQpe2lmKDA9PXR8fDE9PXQpcmV0dXJuIHQ7dmFyIGU9LjMvKDIqTWF0aC5QSSkqTWF0aC5hc2luKDEpO3JldHVybi1NYXRoLnBvdygyLDEwKih0LT0xKSkqTWF0aC5zaW4oKDEqdC1lKSooMipNYXRoLlBJKS8uMyl9LGVhc2VPdXRFbGFzdGljOmZ1bmN0aW9uKHQpe2lmKDA9PXR8fDE9PXQpcmV0dXJuIHQ7dmFyIGU9LjMvKDIqTWF0aC5QSSkqTWF0aC5hc2luKDEpO3JldHVybiBNYXRoLnBvdygyLC0xMCp0KSpNYXRoLnNpbigodC1lKSooMipNYXRoLlBJKS8uMykrMX0sZWFzZUluT3V0RWxhc3RpYzpmdW5jdGlvbih0KXtpZigwPT10fHwxPT10KXJldHVybiB0O3ZhciBlPS4zKjEuNSxuPWUvKDIqTWF0aC5QSSkqTWF0aC5hc2luKDEpO3JldHVybiB0PDE/TWF0aC5wb3coMiwxMCoodC09MSkpKk1hdGguc2luKCh0LW4pKigyKk1hdGguUEkpL2UpKi0uNTpNYXRoLnBvdygyLC0xMCoodC09MSkpKk1hdGguc2luKCh0LW4pKigyKk1hdGguUEkpL2UpKi41KzF9LGVhc2VJbkJhY2s6ZnVuY3Rpb24odCl7dmFyIGU9MS43MDE1ODtyZXR1cm4gdCp0KigoZSsxKSp0LWUpfSxlYXNlT3V0QmFjazpmdW5jdGlvbih0KXt2YXIgZT0xLjcwMTU4O3JldHVybih0LT0tMSkqdCooKGUrMSkqdCtlKSsxfSxlYXNlSW5PdXRCYWNrOmZ1bmN0aW9uKHQpe3ZhciBlPTEuNzAxNTg7cmV0dXJuKHQvPS41KTwxP3QqdCooKDErKGUqPTEuNTI1KSkqdC1lKSouNTouNSooKHQtPTIpKnQqKCgxKyhlKj0xLjUyNSkpKnQrZSkrMil9LGVhc2VJbkJvdW5jZTpmdW5jdGlvbih0KXtyZXR1cm4gMS16bi5lYXNlT3V0Qm91bmNlKDEtdCl9LGVhc2VPdXRCb3VuY2U6ZnVuY3Rpb24odCl7cmV0dXJuIHQ8MS8yLjc1PzcuNTYyNSp0KnQqMTp0PDIvMi43NT83LjU2MjUqKHQtPTEuNS8yLjc1KSp0Ky43NTp0PDIuNS8yLjc1PzcuNTYyNSoodC09Mi4yNS8yLjc1KSp0Ky45Mzc1OjcuNTYyNSoodC09Mi42MjUvMi43NSkqdCsuOTg0Mzc1fSxlYXNlSW5PdXRCb3VuY2U6ZnVuY3Rpb24odCl7cmV0dXJuIHQ8LjU/LjUqem4uZWFzZUluQm91bmNlKDIqdCk6LjUqKHpuLmVhc2VPdXRCb3VuY2UoMip0LTEpKzEpfX07ZnVuY3Rpb24gR24odCl7dD10LnJlcGxhY2UoLyAvZyxcIlwiKTtyZXR1cm4vXkBzdGFnZ2VyXFwoKFtfQS16MC05LiUtXSs/KCxbX0EtejAtOS4lLV0rKT8oLFtfQS16MC05LiUtXSspPygsW19BLXowLTkuJS1dKyk/KCxbX0EtejAtOS4lLV0rKT8oLFtfQS16MC05LiUtXSspKVxcKSQvLnRlc3QodCl9dmFyIHFuPWZ1bmN0aW9uKHQpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07aWYodD10LnJlcGxhY2UoLyAvZyxcIlwiKSxlJiYhR24odCkpcmV0dXJuITE7dmFyIG49Ly4qXFwoKC4qKVxcKS4qLyxpPW4uZXhlYyh0KVsxXSxyPWkuc3BsaXQoXCIsXCIpO3JldHVybntzdGFydDpyWzBdLGVuZDpyWzFdLHN0YXJ0RnJhY3Rpb246MSpyWzJdfHwwLGVhc2luZzpyWzNdfHxcImxpbmVhclwiLG1vZGU6cls0XXx8XCJsaW5lYXJcIixyZXZlcnNlOlwidHJ1ZVwiPT09cls1XX19O3ZhciBLbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7cih0aGlzLHQpLHRoaXMuc3RhZ2dlclByb3BzPWV9cmV0dXJuIGEodCxbe2tleTpcInJlc2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YWdnZXJQcm9wcy5mcm9tKj10LHRoaXMuc3RhZ2dlclByb3BzLnRvKj10LCEwPT09dGhpcy5zdGFnZ2VyUHJvcHMuaW50ZWdlciYmKHRoaXMuc3RhZ2dlclByb3BzLmZyb209TWF0aC5yb3VuZCh0aGlzLnN0YWdnZXJQcm9wcy5mcm9tKSx0aGlzLnN0YWdnZXJQcm9wcy50bz1NYXRoLnJvdW5kKHRoaXMuc3RhZ2dlclByb3BzLnRvKSksXCJAc3RhZ2dlcihcIi5jb25jYXQodGhpcy5zdGFnZ2VyUHJvcHMuZnJvbSkuY29uY2F0KHRoaXMuc3RhZ2dlclByb3BzLnVuaXQsXCIsIFwiKS5jb25jYXQodGhpcy5zdGFnZ2VyUHJvcHMudG8pLmNvbmNhdCh0aGlzLnN0YWdnZXJQcm9wcy51bml0LFwiLCBcIikuY29uY2F0KHRoaXMuc3RhZ2dlclByb3BzLmZyYWN0aW9ufHwwLFwiLCBcIikuY29uY2F0KHRoaXMuc3RhZ2dlclByb3BzLmVhc2luZ3x8XCJsaW5lYXJcIixcIiwgXCIpLmNvbmNhdCh0aGlzLnN0YWdnZXJQcm9wcy5tb2RlfHxcImxpbmVhclwiLFwiLCBcIikuY29uY2F0KHRoaXMuc3RhZ2dlclByb3BzLnJldmVyc2V8fCExLFwiKVwiKX19LHtrZXk6XCJjYWxjdWxhdGVWYWx1ZXNcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGUsbixpLHIscz1mdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpcImxpbmVhclwiLGk9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXSxyPVtdO2lmKFwibGluZWFyXCI9PT1uKWZvcih2YXIgcz0wO3M8dDtzKyspe3ZhciBhPXMvKHQtMSksbz1hPGU/YSsxLWUrMS8odC0xKTphLWU7aSYmKG89MS1vKSxyLnB1c2gobyl9ZWxzZSBpZihcIm9tbmlcIj09PW4pZm9yKHZhciB1PTEtZSxsPTA7bDx0O2wrKyl7dmFyIGM9TWF0aC5hYnMobC8odC0xKS1lKS91O2kmJihjPTEtYyksci5wdXNoKGMpfXJldHVybiByfSh0Lmxlbmd0aCx0aGlzLnN0YWdnZXJQcm9wcy5mcmFjdGlvbix0aGlzLnN0YWdnZXJQcm9wcy5tb2RlLHRoaXMuc3RhZ2dlclByb3BzLnJldmVyc2UpLGE9W10sbz0wO288cy5sZW5ndGg7bysrKXt2YXIgdT0oZT10aGlzLnN0YWdnZXJQcm9wcy5mcm9tLG49dGhpcy5zdGFnZ2VyUHJvcHMudG8saT1zW29dLChyPXRoaXMuc3RhZ2dlclByb3BzLmVhc2luZyl8fChyPVwibGluZWFyXCIpLHpuW3JdKGkpKihuLWUpK2UpOyEwPT09dGhpcy5zdGFnZ2VyUHJvcHMuaW50ZWdlciYmKHU9TWF0aC5yb3VuZCh1KSksXCJtZWFzdXJlbWVudFwiPT09dGhpcy5zdGFnZ2VyUHJvcHMudHlwZSYmKHUrPXRoaXMuc3RhZ2dlclByb3BzLnVuaXQpLGEucHVzaCh1KX1yZXR1cm4gYX19XSksdH0oKSxXbj1HbixKbj1uZXcgUmVnRXhwKC9eIyhbXFxkYS1mXXszfSl7MSwyfSR8XiMoW1xcZGEtZl17NH0pezEsMn0kfChyZ2J8aHNsKWE/XFwoKFxccyotP1xcZCslP1xccyosKXsyfShcXHMqLT9cXGQrJT9cXHMqLD9cXHMqXFwpPykoLFxccyooMD9cXC5cXGQrKT98MSk/XFwpLyxcImdpXCIpLEhuPW5ldyBSZWdFeHAoL15bLStdP1xcZCskLyksVW49bmV3IER0KHttZXNzYWdlczp7Y29sb3I6XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIG11c3QgYmUgYW4gYSB2YWxpZCBjb2xvciEgQWN0dWFsOiB7YWN0dWFsfVwiLG1lYXN1cmVtZW50OlwiVGhlICd7ZmllbGR9JyBtdXN0IGJlIGEgbWVhc3VyZW1lbnQgd2l0aCBzcGVjcyB0aGF0IGFyZSBub3QgbWV0LiBZb3UndmUgZWl0aGVyIHByb3ZpZGVkIHdyb25nIHZhbHVlL3VuaXRzIG9yIGFuIGludmFsaWQgQCBleHByZXNzaW9uLiBBY3R1YWw6IHthY3R1YWx9XCJ9fSk7VW4uYWRkKFwiYW1vdW50XCIsKGZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LnNjaGVtYSxpPWZ1bmN0aW9uKHQsbil7cmV0dXJuIGUubWFrZUVycm9yKHt0eXBlOlwiYW1vdW50XCIsYWN0dWFsOnQsbWVzc2FnZXM6e2Ftb3VudDpufX0pfTtyZXR1cm57c291cmNlOlwiXFxuICAgICAgbGV0IHN0YXJ0VW5pdHMsIGVuZFVuaXRzLCBzdGFydE51bWJlclBhcnQsIGVuZE51bWJlclBhcnQ7XFxuICAgICAgY29uc3Qgc3RhZ2dlclZhbGlkYXRpb24gPSBcIi5jb25jYXQoV24sXCI7XFxuICAgICAgY29uc3Qgc3RhZ2dlckFuYWx5c2VyID0gXCIpLmNvbmNhdChxbiwnO1xcbiAgICAgIGNvbnN0IGVhc2luZ0tleXMgPSBcIicpLmNvbmNhdChPYmplY3Qua2V5cyh6bikuam9pbihcIixcIiksXCJcXFwiLnNwbGl0KCcsJyk7XFxuICAgICAgY29uc3QgdmFsaWRhdGVFeHByZXNzaW9uID0gXCIpLmNvbmNhdChMbixcIjtcXG4gICAgICBjb25zdCBhdHRyaWJ1dGVSZWdleHAgPSAvXlwiKS5jb25jYXQoQi5hdHRpYnV0ZVZhbHVlLFwiXFxcXChbX0EtejAtOS1dKlxcXFwpJC87XFxuICAgICAgY29uc3QgcGF0dGVyblJlZ2V4cCA9IC9eXCIpLmNvbmNhdChCLnBhdHRlcm5WYWx1ZSxcIlxcXFwoKFtfQS16MC05LiUtXSs/KCxbX0EtejAtOS4lLV0rKSo/KVxcXFwpJC87XFxuICAgICAgY29uc3QgZXh0cmFjdFBhcmVudGhlc2lzQXR0cnNBc0FycmF5ID0gXCIpLmNvbmNhdChjaSxcIjtcXG4gICAgICBjb25zdCBpc051bWVyaWMgPSBcIikuY29uY2F0KFluLFwiXFxuXFxuICAgICAgaWYodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB2YWx1ZSBpbnN0YW5jZW9mIFN0cmluZyl7XFxuICAgICAgICBpZih2YWx1ZS50cmltKCkuc3RhcnRzV2l0aCgnXCIpLmNvbmNhdChCLnN0YWdnZXJQcmVmYWNlLFwiJykpe1xcbiAgICAgICAgICBjb25zdCBzdGFnZ2VyVmFsaWQgPSBzdGFnZ2VyVmFsaWRhdGlvbih2YWx1ZSk7XFxuICAgICAgICAgIGlmKHN0YWdnZXJWYWxpZCA9PT0gZmFsc2Upe1xcbiAgICAgICAgICAgIFwiKS5jb25jYXQoaShcInZhbHVlXCIsXCJUaGUgXCIrQi5zdGFnZ2VyUHJlZmFjZStcIiBleHByZXNzaW9uIGlzIGludmFsaWRcIiksXCI7XFxuICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgIGNvbnN0IGFuYWx5c2lzID0gc3RhZ2dlckFuYWx5c2VyKHZhbHVlLCBmYWxzZSk7XFxuICAgICAgICAgICAgaWYoIWlzTnVtZXJpYyhhbmFseXNpcy5zdGFydCkpe1xcbiAgICAgICAgICAgICAgXCIpLmNvbmNhdChpKFwiYW5hbHlzaXMuc3RhcnRcIixcIlRoZSBwcm92aWRlZCBzdGFydCBcIitCLnN0YWdnZXJQcmVmYWNlK1wiIHZhbHVlIGlzIGludmFsaWRcIiksXCI7XFxuICAgICAgICAgICAgICByZXR1cm47XFxuICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgIHN0YXJ0TnVtYmVyUGFydCA9IGFuYWx5c2lzLnN0YXJ0KjE7XFxuICAgICAgICAgICAgICBpZihcIikuY29uY2F0KGlpKG4sXCJtaW5cIiksXCIpe1xcbiAgICAgICAgICAgICAgICBpZihcIikuY29uY2F0KG4ubWluLFwiID4gYW5hbHlzaXMuc3RhcnQpe1xcbiAgICAgICAgICAgICAgICAgXCIpLmNvbmNhdChpKFwiYW5hbHlzaXMuc3RhcnRcIixcIlRoZSBwcm92aWRlZCBzdGFydCBcIitCLnN0YWdnZXJQcmVmYWNlK1wiIHZhbHVlIGlzIHNtYWxsZXIgdGhhbiB0aGUgbWluaW11bSBhY2NlcHRlZCB2YWx1ZSAoXCIrbi5taW4rXCIpXCIpLFwiO1xcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgaWYoXCIpLmNvbmNhdChpaShuLFwibWF4XCIpLFwiKXtcXG4gICAgICAgICAgICAgICAgaWYoXCIpLmNvbmNhdChuLm1heCxcIiA8IGFuYWx5c2lzLnN0YXJ0KXtcXG4gICAgICAgICAgICAgICAgICBcIikuY29uY2F0KGkoXCJhbmFseXNpcy5zdGFydFwiLFwiVGhlIHByb3ZpZGVkIHN0YXJ0IFwiK0Iuc3RhZ2dlclByZWZhY2UrXCIgdmFsdWUgaXMgYmlnZ2VyIHRoYW4gdGhlIG1heGltdW0gYWNjZXB0ZWQgdmFsdWUgKFwiK24ubWF4K1wiKVwiKSxcIjtcXG4gICAgICAgICAgICAgICAgICByZXR1cm47XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICBpZihcIikuY29uY2F0KGlpKG4sXCJpbnRlZ2VyXCIpLFwiKXtcXG4gICAgICAgICAgICAgICAgaWYoIWFuYWx5c2lzLnN0YXJ0Lm1hdGNoKFwiKS5jb25jYXQoSG4sXCIpKXtcXG4gICAgICAgICAgICAgICAgICBcIikuY29uY2F0KGkoXCJhbmFseXNpcy5zdGFydFwiLFwiVGhlIHByb3ZpZGVkIHN0YXJ0IFwiK0Iuc3RhZ2dlclByZWZhY2UrXCIgdmFsdWUgaXMgbm90IGFuIGludGVnZXJcIiksXCI7XFxuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIGlmKCFpc051bWVyaWMoYW5hbHlzaXMuZW5kKSl7XFxuICAgICAgICAgICAgICBcIikuY29uY2F0KGkoXCJhbmFseXNpcy5lbmRcIixcIlRoZSBwcm92aWRlZCBlbmQgXCIrQi5zdGFnZ2VyUHJlZmFjZStcIiB2YWx1ZSBpcyBpbnZhbGlkXCIpLFwiO1xcbiAgICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICBlbmROdW1iZXJQYXJ0ID0gYW5hbHlzaXMuZW5kKjE7XFxuICAgICAgICAgICAgICBpZihcIikuY29uY2F0KGlpKG4sXCJtaW5cIiksXCIpe1xcbiAgICAgICAgICAgICAgICBpZihcIikuY29uY2F0KG4ubWluLFwiID4gYW5hbHlzaXMuZW5kKXtcXG4gICAgICAgICAgICAgICAgICBcIikuY29uY2F0KGkoXCJhbmFseXNpcy5lbmRcIixcIlRoZSBwcm92aWRlZCBlbmQgXCIrQi5zdGFnZ2VyUHJlZmFjZStcIiB2YWx1ZSBpcyBzbWFsbGVyIHRoYW4gdGhlIG1pbmltdW0gYWNjZXB0ZWQgdmFsdWUgKFwiK24ubWluK1wiKVwiKSxcIjtcXG4gICAgICAgICAgICAgICAgICByZXR1cm47XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgIGlmKFwiKS5jb25jYXQoaWkobixcIm1heFwiKSxcIil7XFxuICAgICAgICAgICAgICAgIGlmKFwiKS5jb25jYXQobi5tYXgsXCIgPCBhbmFseXNpcy5lbmQpe1xcbiAgICAgICAgICAgICAgICAgIFwiKS5jb25jYXQoaShcImFuYWx5c2lzLmVuZFwiLFwiVGhlIHByb3ZpZGVkIGVuZCBcIitCLnN0YWdnZXJQcmVmYWNlK1wiIHZhbHVlIGlzIGJpZ2dlciB0aGFuIHRoZSBtYXhpbXVtIGFjY2VwdGVkIHZhbHVlIChcIituLm1heCtcIilcIiksXCI7XFxuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgaWYoXCIpLmNvbmNhdChpaShuLFwiaW50ZWdlclwiKSxcIil7XFxuICAgICAgICAgICAgICAgIGlmKCFhbmFseXNpcy5lbmQubWF0Y2goXCIpLmNvbmNhdChIbixcIikpe1xcbiAgICAgICAgICAgICAgICAgIFwiKS5jb25jYXQoaShcImFuYWx5c2lzLmVuZFwiLFwiVGhlIHByb3ZpZGVkIGVuZCBcIitCLnN0YWdnZXJQcmVmYWNlK1wiIHZhbHVlIGlzIG5vdCBhbiBpbnRlZ2VyXCIpLFwiO1xcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICBpZihhbmFseXNpcy5zdGFydEZyYWN0aW9uIDwgMCB8fCBhbmFseXNpcy5zdGFydEZyYWN0aW9uID4gMSl7XFxuICAgICAgICAgICAgICBcIikuY29uY2F0KGkoXCJhbmFseXNpcy5zdGFydEZyYWN0aW9uXCIsXCJUaGUgXCIrQi5zdGFnZ2VyUHJlZmFjZStcIiBmcmFjdGlvbiBtdXN0IGJlIGEgbnVtYmVyID49MCBhbmQgPD0xXCIpLFwiO1xcbiAgICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICBpZihlYXNpbmdLZXlzLmluZGV4T2YoYW5hbHlzaXMuZWFzaW5nKSA8IDApe1xcbiAgICAgICAgICAgICAgXCIpLmNvbmNhdChpKFwiYW5hbHlzaXMuc3RhcnRGcmFjdGlvblwiLFwiVGhlIHByb3ZpZGVkIFwiK0Iuc3RhZ2dlclByZWZhY2UrXCIgZWFzaW5nIGlzIG5vdCByZWNvZ25pc2VkIGJ5IHRoZSBzeXN0ZW1cIiksXCI7XFxuICAgICAgICAgICAgICByZXR1cm47XFxuICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIGlmKGFuYWx5c2lzLm1vZGUgIT09ICdsaW5lYXInICYmIGFuYWx5c2lzLm1vZGUgIT09ICdvbW5pJyl7XFxuICAgICAgICAgICAgICBcIikuY29uY2F0KGkoXCJhbmFseXNpcy5tb2RlXCIsQi5zdGFnZ2VyUHJlZmFjZStcIiBtb2RlIGNhbiBvbmx5IGJlIGVpdGhlciBsaW5lYXIgb3Igb21uaVwiKSxcIjtcXG4gICAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgaWYoYW5hbHlzaXMucmV2ZXJzZSAhPT0gdHJ1ZSAmJiBhbmFseXNpcy5yZXZlcnNlICE9PSBmYWxzZSl7XFxuICAgICAgICAgICAgICBcIikuY29uY2F0KGkoXCJhbmFseXNpcy5yZXZlcnNlXCIsQi5zdGFnZ2VyUHJlZmFjZStcIiByZXZlcnNlIG5lZWRzIHRvIGJlIGVpdGhlciB0cnVlIG9yIGZhbHNlXCIpLFwiO1xcbiAgICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XFxuICAgICAgICAgIH1cXG4gICAgICAgIH0gZWxzZSBpZih2YWx1ZS50cmltKCkuc3RhcnRzV2l0aCgnXCIpLmNvbmNhdChCLnBhdHRlcm5WYWx1ZSxcIicpKXtcXG4gICAgICAgICAgaWYoIXBhdHRlcm5SZWdleHAudGVzdCh2YWx1ZS5yZXBsYWNlKC8gL2csICcnKSkpe1xcbiAgICAgICAgICAgIFwiKS5jb25jYXQoaShcInZhbHVlXCIsXCJUaGUgXCIrQi5wYXR0ZXJuVmFsdWUrXCIgZXhwcmVzc2lvbiBpcyBpbnZhbGlkXCIpLFwiO1xcbiAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgfVxcbiAgICAgICAgICBjb25zdCBwYXR0ZXJuVmFsdWVzID0gZXh0cmFjdFBhcmVudGhlc2lzQXR0cnNBc0FycmF5KHZhbHVlKTtcXG4gICAgICAgICAgZm9yKGxldCBpPTA7IGk8cGF0dGVyblZhbHVlcy5sZW5ndGg7IGkrKyl7XFxuICAgICAgICAgICAgY29uc3QgdmFsVG9DaGVjayA9IHBhdHRlcm5WYWx1ZXNbaV07XFxuICAgICAgICAgICAgaWYoIWlzTnVtZXJpYyh2YWxUb0NoZWNrKSl7XFxuICAgICAgICAgICAgICBcIikuY29uY2F0KGkoXCJ2YWxUb0NoZWNrXCIsXCJUaGUgcHJvdmlkZWQgdmFsdWUgaXMgbm90IGEgbnVtYmVyXCIpLFwiO1xcbiAgICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICBpZihcIikuY29uY2F0KGlpKG4sXCJtaW5cIiksXCIpe1xcbiAgICAgICAgICAgICAgICBpZihcIikuY29uY2F0KG4ubWluLFwiID4gdmFsVG9DaGVjayl7XFxuICAgICAgICAgICAgICAgICAgXCIpLmNvbmNhdChpKFwidmFsVG9DaGVja1wiLFwiVGhlIHByb3ZpZGVkIHZhbHVlIGlzIHNtYWxsZXIgdGhhbiB0aGUgbWluaW11bSBhY2NlcHRlZCB2YWx1ZSAoXCIrbi5taW4rXCIpXCIpLFwiO1xcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgaWYoXCIpLmNvbmNhdChpaShuLFwibWF4XCIpLFwiKXtcXG4gICAgICAgICAgICAgICAgaWYoXCIpLmNvbmNhdChuLm1heCxcIiA8IHZhbFRvQ2hlY2spe1xcbiAgICAgICAgICAgICAgICAgIFwiKS5jb25jYXQoaShcInZhbFRvQ2hlY2tcIixcIlRoZSBwcm92aWRlZCBzdGFydCB2YWx1ZSBpcyBiaWdnZXIgdGhhbiB0aGUgbWF4aW11bSBhY2NlcHRlZCB2YWx1ZSAoXCIrbi5tYXgrXCIpXCIpLFwiO1xcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgIGlmKFwiKS5jb25jYXQoaWkobixcImludGVnZXJcIiksXCIpe1xcbiAgICAgICAgICAgICAgICBpZighdmFsVG9DaGVjay5tYXRjaChcIikuY29uY2F0KEhuLFwiKSl7XFxuICAgICAgICAgICAgICAgICAgXCIpLmNvbmNhdChpKFwidmFsVG9DaGVja1wiLFwiVGhlIHByb3ZpZGVkIHZhbHVlIGlzIG5vdCBhbiBpbnRlZ2VyXCIpLFwiO1xcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gdmFsdWU7XFxuICAgICAgfSAgZWxzZSBpZih2YWx1ZS50cmltKCkuc3RhcnRzV2l0aCgnXCIpLmNvbmNhdChCLmF0dGlidXRlVmFsdWUsXCInKSl7XFxuICAgICAgICAgIGlmKCFhdHRyaWJ1dGVSZWdleHAudGVzdCh2YWx1ZSkpe1xcbiAgICAgICAgICAgIFwiKS5jb25jYXQoaShcInZhbHVlXCIsXCJUaGUgXCIrQi5hdHRpYnV0ZVZhbHVlK1wiIGV4cHJlc3Npb24gaXMgaW52YWxpZFwiKSxcIjtcXG4gICAgICAgICAgICByZXR1cm47XFxuICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xcbiAgICAgICAgfSBlbHNlIGlmKHZhbHVlLnRyaW0oKS5zdGFydHNXaXRoKCdcIikuY29uY2F0KEIubWF0aEV4cFByZWZhY2UsXCInKSl7XFxuICAgICAgICAgIGNvbnN0IHZhbGlkaXR5ID0gdmFsaWRhdGVFeHByZXNzaW9uKHZhbHVlKTtcXG4gICAgICAgICAgaWYodmFsaWRpdHkucmVzdWx0ID09PSBmYWxzZSl7XFxuICAgICAgICAgICAgXCIpLmNvbmNhdChpKFwidmFsdWVcIixcIlRoZSBcIitCLmV4cHJlc3Npb25QcmVmYWNlK1wiIGV4cHJlc3Npb24gaXMgaW52YWxpZFwiKSwnO1xcbiAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgfVxcbiAgICAgICAgICBpZih2YWxpZGl0eS51bml0ICE9PSBcIlwiKXtcXG4gICAgICAgICAgICAnKS5jb25jYXQoaShcInZhbHVlXCIsXCJUaGUgXCIrQi5leHByZXNzaW9uUHJlZmFjZStcIiBleHByZXNzaW9uIGluY2x1ZGVzIHVuaXRzXCIpLFwiO1xcbiAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgfVxcblxcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XFxuICAgICAgICB9XFxuICAgICAgfVxcblxcblxcbiAgICAgIGlmKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpe1xcbiAgICAgICAgXCIpLmNvbmNhdChpKFwidmFsdWVcIixcIlRoZSBwcm92aWRlZCB2YWx1ZSBpcyBub3QgYSBudW1iZXJcIiksXCI7XFxuICAgICAgICByZXR1cm47XFxuICAgICAgfVxcbiAgICAgIGlmKFwiKS5jb25jYXQoaWkobixcIm1heFwiKSxcIil7XFxuICAgICAgICBpZihcIikuY29uY2F0KG4ubWF4LFwiIDwgdmFsdWUpe1xcbiAgICAgICAgICBcIikuY29uY2F0KGkoXCJ2YWx1ZVwiLFwiVGhlIHByb3ZpZGVkIGFtb3VudCBpcyBiaWdnZXIgdGhhbiB0aGUgbWF4aW11bSBhY2NlcHRlZCB2YWx1ZVwiKSxcIjtcXG4gICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgfVxcbiAgICAgIH1cXG4gICAgICBpZihcIikuY29uY2F0KGlpKG4sXCJtaW5cIiksXCIpe1xcbiAgICAgICAgaWYoXCIpLmNvbmNhdChuLm1pbixcIiA+IHZhbHVlKXtcXG4gICAgICAgICAgXCIpLmNvbmNhdChpKFwidmFsdWVcIixcIlRoZSBwcm92aWRlZCBhbW91bnQgaXMgbG93ZXIgdGhhbiB0aGUgbWluaW11bSBhY2NlcHRlZCB2YWx1ZVwiKSxcIjtcXG4gICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgfVxcbiAgICAgIH1cXG4gICAgICBpZihcIikuY29uY2F0KGlpKG4sXCJpbnRlZ2VyXCIpLFwiKXtcXG4gICAgICAgIGlmKHZhbHVlICE9PSBwYXJzZUludCh2YWx1ZSwgMTApKXtcXG4gICAgICAgICAgXCIpLmNvbmNhdChpKFwidmFsdWVcIixcIlRoZSBwcm92aWRlZCBhbW91bnQgaXMgbm90IGFuIGludGVnZXJcIiksXCI7XFxuICAgICAgICAgIHJldHVybjtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgICAgcmV0dXJuIHZhbHVlO1xcbiAgICBcIil9fSkpLFVuLmFkZChcIm1lYXN1cmVtZW50XCIsKGZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LnNjaGVtYSxpPXQubWVzc2FnZXMscj1mdW5jdGlvbih0LG4pe3JldHVybiBlLm1ha2VFcnJvcih7dHlwZTpcIm1lYXN1cmVtZW50XCIsYWN0dWFsOnQsbWVzc2FnZXM6e21lYXN1cmVtZW50Om59fSl9LHM9bmV3IFJlZ0V4cChcIl5bKy1dPyhbMC05XSsoWy5dWzAtOV0qKT98Wy5dWzAtOV0rKShcIituLnVuaXRzLmpvaW4oXCJ8XCIpK1wiKSRcIixcImdpXCIpLGE9bmV3IFJlZ0V4cChcIl5bKy1dPyhbMC05XSsoWy5dWzAtOV0qKT98Wy5dWzAtOV0rKVwiLFwiZ2lcIik7cmV0dXJue3NvdXJjZTpcIlxcbiAgICAgIGxldCBzdGFydFVuaXRzLCBlbmRVbml0cywgc3RhcnROdW1iZXJQYXJ0LCBlbmROdW1iZXJQYXJ0O1xcbiAgICAgIGNvbnN0IHN0YWdnZXJWYWxpZGF0aW9uID0gXCIuY29uY2F0KFduLFwiO1xcbiAgICAgIGNvbnN0IHN0YWdnZXJBbmFseXNlciA9IFwiKS5jb25jYXQocW4sJztcXG4gICAgICBjb25zdCBlYXNpbmdLZXlzID0gXCInKS5jb25jYXQoT2JqZWN0LmtleXMoem4pLmpvaW4oXCIsXCIpLFwiXFxcIi5zcGxpdCgnLCcpO1xcbiAgICAgIGNvbnN0IHZhbGlkYXRlRXhwcmVzc2lvbiA9IFwiKS5jb25jYXQoTG4sXCI7XFxuICAgICAgY29uc3QgdmFsaWRVbml0cyA9IFsnXCIpLmNvbmNhdChuLnVuaXRzLmpvaW4oXCInLCdcIiksXCInXTtcXG4gICAgICBjb25zdCBhdHRyaWJ1dGVSZWdleHAgPSAvXlwiKS5jb25jYXQoQi5hdHRpYnV0ZVZhbHVlLFwiXFxcXChbX0EtejAtOS1dKlxcXFwpJC87XFxuICAgICAgY29uc3QgcGF0dGVyblJlZ2V4cCA9IC9eXCIpLmNvbmNhdChCLnBhdHRlcm5WYWx1ZSxcIlxcXFwoKFtfQS16MC05LiUtXSs/KCxbX0EtejAtOS4lLV0rKSo/KVxcXFwpJC87XFxuICAgICAgY29uc3QgZXh0cmFjdFBhcmVudGhlc2lzQXR0cnNBc0FycmF5ID0gXCIpLmNvbmNhdChjaSxcIjtcXG5cXG4gICAgICBpZih0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnICYmICEodmFsdWUgaW5zdGFuY2VvZiBTdHJpbmcpKXtcXG4gICAgICAgIFwiKS5jb25jYXQocihcInZhbHVlXCIsbnVsbD09aT92b2lkIDA6aS5tZWFzdXJlbWVudCksXCJcXG4gICAgICAgIHJldHVybiA7XFxuICAgICAgfVxcblxcbiAgICAgIGlmKHZhbHVlLnRyaW0oKS5zdGFydHNXaXRoKCdcIikuY29uY2F0KEIuYXR0aWJ1dGVWYWx1ZSxcIicpKXtcXG4gICAgICAgIGlmKCFhdHRyaWJ1dGVSZWdleHAudGVzdCh2YWx1ZSkpe1xcbiAgICAgICAgICBcIikuY29uY2F0KHIoXCJ2YWx1ZVwiLFwiVGhlIFwiK0IuYXR0aWJ1dGVWYWx1ZStcIiBleHByZXNzaW9uIGlzIGludmFsaWRcIiksXCI7XFxuICAgICAgICAgIHJldHVybjtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIHJldHVybiB2YWx1ZTtcXG4gICAgICB9IGVsc2UgaWYodmFsdWUudHJpbSgpLnN0YXJ0c1dpdGgoJ1wiKS5jb25jYXQoQi5zdGFnZ2VyUHJlZmFjZSxcIicpKXtcXG4gICAgICAgIGNvbnN0IHN0YWdnZXJWYWxpZCA9IHN0YWdnZXJWYWxpZGF0aW9uKHZhbHVlKTtcXG4gICAgICAgIGlmKHN0YWdnZXJWYWxpZCA9PT0gZmFsc2Upe1xcbiAgICAgICAgICBcIikuY29uY2F0KHIoXCJ2YWx1ZVwiLFwiVGhlIFwiK0Iuc3RhZ2dlclByZWZhY2UrXCIgZXhwcmVzc2lvbiBpcyBpbnZhbGlkXCIpLFwiO1xcbiAgICAgICAgICByZXR1cm47XFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICBjb25zdCBhbmFseXNpcyA9IHN0YWdnZXJBbmFseXNlcih2YWx1ZSwgZmFsc2UpO1xcbiAgICAgICAgICBpZighYW5hbHlzaXMuc3RhcnQubWF0Y2goXCIpLmNvbmNhdChzLFwiKSl7XFxuICAgICAgICAgICAgXCIpLmNvbmNhdChyKFwiYW5hbHlzaXMuc3RhcnRcIixcIlRoZSBwcm92aWRlZCBzdGFydCBcIitCLnN0YWdnZXJQcmVmYWNlK1wiIHZhbHVlIGlzIGludmFsaWRcIiksXCI7XFxuICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgIHZhciBudW1iZXJQYXJ0ID0gYW5hbHlzaXMuc3RhcnQubWF0Y2goXCIpLmNvbmNhdChhLFwiKVswXTtcXG4gICAgICAgICAgICBzdGFydE51bWJlclBhcnQgPSBudW1iZXJQYXJ0O1xcbiAgICAgICAgICAgIHN0YXJ0VW5pdHMgPSBhbmFseXNpcy5zdGFydC50b1N0cmluZygpLnN1YnN0cmluZyhudW1iZXJQYXJ0Lmxlbmd0aCk7XFxuICAgICAgICAgICAgaWYoXCIpLmNvbmNhdChpaShuLFwibWluXCIpLFwiKXtcXG4gICAgICAgICAgICAgIGlmKFwiKS5jb25jYXQobi5taW4sXCIgPiBudW1iZXJQYXJ0KXtcXG4gICAgICAgICAgICAgICAgXCIpLmNvbmNhdChyKFwiYW5hbHlzaXMuc3RhcnRcIixcIlRoZSBwcm92aWRlZCBzdGFydCBcIitCLnN0YWdnZXJQcmVmYWNlK1wiIHZhbHVlIGlzIHNtYWxsZXIgdGhhbiB0aGUgbWluaW11bSBhY2NlcHRlZCB2YWx1ZSAoXCIrbi5taW4rXCIpXCIpLFwiO1xcbiAgICAgICAgICAgICAgICByZXR1cm47XFxuICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGlmKFwiKS5jb25jYXQoaWkobixcIm1heFwiKSxcIil7XFxuICAgICAgICAgICAgICBpZihcIikuY29uY2F0KG4ubWF4LFwiIDwgbnVtYmVyUGFydCl7XFxuICAgICAgICAgICAgICAgIFwiKS5jb25jYXQocihcImFuYWx5c2lzLnN0YXJ0XCIsXCJUaGUgcHJvdmlkZWQgc3RhcnQgXCIrQi5zdGFnZ2VyUHJlZmFjZStcIiB2YWx1ZSBpcyBiaWdnZXIgdGhhbiB0aGUgbWF4aW11bSBhY2NlcHRlZCB2YWx1ZSAoXCIrbi5tYXgrXCIpXCIpLFwiO1xcbiAgICAgICAgICAgICAgICByZXR1cm47XFxuICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICBpZihcIikuY29uY2F0KGlpKG4sXCJpbnRlZ2VyXCIpLFwiKXtcXG4gICAgICAgICAgICAgIGlmKCFudW1iZXJQYXJ0Lm1hdGNoKFwiKS5jb25jYXQoSG4sXCIpKXtcXG4gICAgICAgICAgICAgICAgXCIpLmNvbmNhdChyKFwiYW5hbHlzaXMuc3RhcnRcIixcIlRoZSBwcm92aWRlZCBzdGFydCBcIitCLnN0YWdnZXJQcmVmYWNlK1wiIHZhbHVlIGlzIG5vdCBhbiBpbnRlZ2VyXCIpLFwiO1xcbiAgICAgICAgICAgICAgICByZXR1cm47XFxuICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuXFxuICAgICAgICAgIGlmKCFhbmFseXNpcy5lbmQubWF0Y2goXCIpLmNvbmNhdChzLFwiKSl7XFxuICAgICAgICAgICAgXCIpLmNvbmNhdChyKFwiYW5hbHlzaXMuZW5kXCIsXCJUaGUgcHJvdmlkZWQgZW5kIFwiK0Iuc3RhZ2dlclByZWZhY2UrXCIgdmFsdWUgaXMgaW52YWxpZFwiKSxcIjtcXG4gICAgICAgICAgICByZXR1cm47XFxuICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgdmFyIG51bWJlclBhcnQgPSBhbmFseXNpcy5lbmQubWF0Y2goXCIpLmNvbmNhdChhLFwiKVswXTtcXG4gICAgICAgICAgICBlbmROdW1iZXJQYXJ0ID0gbnVtYmVyUGFydDtcXG4gICAgICAgICAgICBlbmRVbml0cyA9IGFuYWx5c2lzLmVuZC50b1N0cmluZygpLnN1YnN0cmluZyhudW1iZXJQYXJ0Lmxlbmd0aCk7XFxuICAgICAgICAgICAgaWYoXCIpLmNvbmNhdChpaShuLFwibWluXCIpLFwiKXtcXG4gICAgICAgICAgICAgIGlmKFwiKS5jb25jYXQobi5taW4sXCIgPiBudW1iZXJQYXJ0KXtcXG4gICAgICAgICAgICAgICAgXCIpLmNvbmNhdChyKFwiYW5hbHlzaXMuZW5kXCIsXCJUaGUgcHJvdmlkZWQgZW5kIFwiK0Iuc3RhZ2dlclByZWZhY2UrXCIgdmFsdWUgaXMgc21hbGxlciB0aGFuIHRoZSBtaW5pbXVtIGFjY2VwdGVkIHZhbHVlIChcIituLm1pbitcIilcIiksXCI7XFxuICAgICAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgaWYoXCIpLmNvbmNhdChpaShuLFwibWF4XCIpLFwiKXtcXG4gICAgICAgICAgICAgIGlmKFwiKS5jb25jYXQobi5tYXgsXCIgPCBudW1iZXJQYXJ0KXtcXG4gICAgICAgICAgICAgICAgXCIpLmNvbmNhdChyKFwiYW5hbHlzaXMuZW5kXCIsXCJUaGUgcHJvdmlkZWQgZW5kIFwiK0Iuc3RhZ2dlclByZWZhY2UrXCIgdmFsdWUgaXMgYmlnZ2VyIHRoYW4gdGhlIG1heGltdW0gYWNjZXB0ZWQgdmFsdWUgKFwiK24ubWF4K1wiKVwiKSxcIjtcXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgaWYoXCIpLmNvbmNhdChpaShuLFwiaW50ZWdlclwiKSxcIil7XFxuICAgICAgICAgICAgICBpZighbnVtYmVyUGFydC5tYXRjaChcIikuY29uY2F0KEhuLFwiKSl7XFxuICAgICAgICAgICAgICAgIFwiKS5jb25jYXQocihcImFuYWx5c2lzLmVuZFwiLFwiVGhlIHByb3ZpZGVkIGVuZCBcIitCLnN0YWdnZXJQcmVmYWNlK1wiIHZhbHVlIGlzIG5vdCBhbiBpbnRlZ2VyXCIpLFwiO1xcbiAgICAgICAgICAgICAgICByZXR1cm47XFxuICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuXFxuICAgICAgICAgIGlmKHN0YXJ0VW5pdHMgIT09IGVuZFVuaXRzKXtcXG4gICAgICAgICAgICBcIikuY29uY2F0KHIoXCJhbmFseXNpcy5zdGFydEZyYWN0aW9uXCIsXCJUaGUgXCIrQi5zdGFnZ2VyUHJlZmFjZStcIiBzdGFydCBhbmQgZW5kIG11c3QgYWx3YXlzIGhhdmUgdGhlIHNhbWUgdW5pdHNcIiksXCI7XFxuICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgICB9XFxuXFxuICAgICAgICAgIGlmKGFuYWx5c2lzLnN0YXJ0RnJhY3Rpb24gPCAwIHx8IGFuYWx5c2lzLnN0YXJ0RnJhY3Rpb24gPiAxKXtcXG4gICAgICAgICAgICBcIikuY29uY2F0KHIoXCJhbmFseXNpcy5zdGFydEZyYWN0aW9uXCIsXCJUaGUgXCIrQi5zdGFnZ2VyUHJlZmFjZStcIiBmcmFjdGlvbiBtdXN0IGJlIGEgbnVtYmVyID49MCBhbmQgPD0xXCIpLFwiO1xcbiAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgfVxcblxcbiAgICAgICAgICBpZihlYXNpbmdLZXlzLmluZGV4T2YoYW5hbHlzaXMuZWFzaW5nKSA8IDApe1xcbiAgICAgICAgICAgIFwiKS5jb25jYXQocihcImFuYWx5c2lzLnN0YXJ0RnJhY3Rpb25cIixcIlRoZSBwcm92aWRlZCBcIitCLnN0YWdnZXJQcmVmYWNlK1wiIGVhc2luZyBpcyBub3QgcmVjb2duaXNlZCBieSB0aGUgc3lzdGVtXCIpLFwiO1xcbiAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgfVxcblxcbiAgICAgICAgICBpZihhbmFseXNpcy5tb2RlICE9PSAnbGluZWFyJyAmJiBhbmFseXNpcy5tb2RlICE9PSAnb21uaScpe1xcbiAgICAgICAgICAgIFwiKS5jb25jYXQocihcImFuYWx5c2lzLm1vZGVcIixCLnN0YWdnZXJQcmVmYWNlK1wiIG1vZGUgY2FuIG9ubHkgYmUgZWl0aGVyIGxpbmVhciBvciBvbW5pXCIpLFwiO1xcbiAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgfVxcblxcbiAgICAgICAgICBpZihhbmFseXNpcy5yZXZlcnNlICE9PSB0cnVlICYmIGFuYWx5c2lzLnJldmVyc2UgIT09IGZhbHNlKXtcXG4gICAgICAgICAgICBcIikuY29uY2F0KHIoXCJhbmFseXNpcy5yZXZlcnNlXCIsQi5zdGFnZ2VyUHJlZmFjZStcIiByZXZlcnNlIG5lZWRzIHRvIGJlIGVpdGhlciB0cnVlIG9yIGZhbHNlXCIpLFwiO1xcbiAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgfVxcblxcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XFxuICAgICAgICB9XFxuICAgICAgfSBlbHNlIGlmKHZhbHVlLnRyaW0oKS5zdGFydHNXaXRoKCdcIikuY29uY2F0KEIucGF0dGVyblZhbHVlLFwiJykpe1xcbiAgICAgICAgaWYoIXBhdHRlcm5SZWdleHAudGVzdCh2YWx1ZS5yZXBsYWNlKC8gL2csICcnKSkpe1xcbiAgICAgICAgICBcIikuY29uY2F0KHIoXCJ2YWx1ZVwiLFwiVGhlIFwiK0IucGF0dGVyblZhbHVlK1wiIGV4cHJlc3Npb24gaXMgaW52YWxpZFwiKSxcIjtcXG4gICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgfVxcbiAgICAgICAgY29uc3QgcGF0dGVyblZhbHVlcyA9IGV4dHJhY3RQYXJlbnRoZXNpc0F0dHJzQXNBcnJheSh2YWx1ZSk7XFxuICAgICAgICBmb3IobGV0IGk9MDsgaTxwYXR0ZXJuVmFsdWVzLmxlbmd0aDsgaSsrKXtcXG4gICAgICAgICAgY29uc3QgdmFsVG9DaGVjayA9IHBhdHRlcm5WYWx1ZXNbaV07XFxuICAgICAgICAgIGlmKCF2YWxUb0NoZWNrLm1hdGNoKFwiKS5jb25jYXQocyxcIikpe1xcbiAgICAgICAgICAgIFwiKS5jb25jYXQocihcInZhbFRvQ2hlY2tcIixcIlRoZSBwcm92aWRlZCB2YWx1ZSBpcyBpbnZhbGlkXCIpLFwiO1xcbiAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICB2YXIgbnVtYmVyUGFydCA9IHZhbFRvQ2hlY2subWF0Y2goXCIpLmNvbmNhdChhLFwiKVswXTtcXG4gICAgICAgICAgICBpZihcIikuY29uY2F0KGlpKG4sXCJtaW5cIiksXCIpe1xcbiAgICAgICAgICAgICAgaWYoXCIpLmNvbmNhdChuLm1pbixcIiA+IG51bWJlclBhcnQpe1xcbiAgICAgICAgICAgICAgICBcIikuY29uY2F0KHIoXCJ2YWxUb0NoZWNrXCIsXCJUaGUgcHJvdmlkZWQgdmFsdWUgaXMgc21hbGxlciB0aGFuIHRoZSBtaW5pbXVtIGFjY2VwdGVkIHZhbHVlIChcIituLm1pbitcIilcIiksXCI7XFxuICAgICAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgaWYoXCIpLmNvbmNhdChpaShuLFwibWF4XCIpLFwiKXtcXG4gICAgICAgICAgICAgIGlmKFwiKS5jb25jYXQobi5tYXgsXCIgPCBudW1iZXJQYXJ0KXtcXG4gICAgICAgICAgICAgICAgXCIpLmNvbmNhdChyKFwidmFsVG9DaGVja1wiLFwiVGhlIHByb3ZpZGVkIHZhbHVlIGlzIGJpZ2dlciB0aGFuIHRoZSBtYXhpbXVtIGFjY2VwdGVkIHZhbHVlIChcIituLm1heCtcIilcIiksXCI7XFxuICAgICAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgIGlmKFwiKS5jb25jYXQoaWkobixcImludGVnZXJcIiksXCIpe1xcbiAgICAgICAgICAgICAgaWYoIW51bWJlclBhcnQubWF0Y2goXCIpLmNvbmNhdChIbixcIikpe1xcbiAgICAgICAgICAgICAgICBcIikuY29uY2F0KHIoXCJ2YWxUb0NoZWNrXCIsXCJUaGUgcHJvdmlkZWQgdmFsdWUgaXMgbm90IGFuIGludGVnZXJcIiksXCI7XFxuICAgICAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICAgIHJldHVybiB2YWx1ZTtcXG4gICAgICB9IGVsc2UgaWYodmFsdWUudHJpbSgpLnN0YXJ0c1dpdGgoJ1wiKS5jb25jYXQoQi5tYXRoRXhwUHJlZmFjZSxcIicpKXtcXG4gICAgICAgICAgY29uc3QgdmFsaWRpdHkgPSB2YWxpZGF0ZUV4cHJlc3Npb24odmFsdWUpO1xcbiAgICAgICAgICBpZih2YWxpZGl0eS5yZXN1bHQgPT09IGZhbHNlKXtcXG4gICAgICAgICAgICBcIikuY29uY2F0KHIoXCJ2YWx1ZVwiLFwiVGhlIFwiK0IuZXhwcmVzc2lvblByZWZhY2UrXCIgZXhwcmVzc2lvbiBpcyBpbnZhbGlkXCIpLFwiO1xcbiAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICBpZih2YWxpZFVuaXRzLmluZGV4T2YodmFsaWRpdHkudW5pdCkgPCAwKXtcXG4gICAgICAgICAgICAgIFwiKS5jb25jYXQocihcInZhbHVlXCIsXCJUaGUgXCIrQi5leHByZXNzaW9uUHJlZmFjZStcIiBleHByZXNzaW9uIGhhcyBub24tc3VwcG9ydGVkIHVuaXRzXCIpLFwiO1xcbiAgICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG5cXG5cXG4gICAgICBpZighdmFsdWUubWF0Y2goXCIpLmNvbmNhdChzLFwiKSl7XFxuICAgICAgICBcIikuY29uY2F0KHIoXCJ2YWx1ZVwiLG51bGw9PWk/dm9pZCAwOmkubWVhc3VyZW1lbnQpLFwiXFxuICAgICAgfSBlbHNlIHtcXG4gICAgICAgIHZhciBudW1iZXJQYXJ0ID0gdmFsdWUubWF0Y2goXCIpLmNvbmNhdChhLFwiKVswXTtcXG4gICAgICAgIGlmKFwiKS5jb25jYXQoaWkobixcIm1pblwiKSxcIil7XFxuICAgICAgICAgIGlmKFwiKS5jb25jYXQobi5taW4sXCIgPiBudW1iZXJQYXJ0KXtcXG4gICAgICAgICAgICBcIikuY29uY2F0KHIoXCJ2YWx1ZVwiLG51bGw9PWk/dm9pZCAwOmkubWVhc3VyZW1lbnQpLFwiXFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICAgIGlmKFwiKS5jb25jYXQoaWkobixcIm1heFwiKSxcIil7XFxuICAgICAgICAgIGlmKFwiKS5jb25jYXQobi5tYXgsXCIgPCBudW1iZXJQYXJ0KXtcXG4gICAgICAgICAgICBcIikuY29uY2F0KHIoXCJ2YWx1ZVwiLG51bGw9PWk/dm9pZCAwOmkubWVhc3VyZW1lbnQpLFwiXFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICAgICBpZihcIikuY29uY2F0KGlpKG4sXCJpbnRlZ2VyXCIpLFwiKXtcXG4gICAgICAgICAgaWYoIW51bWJlclBhcnQubWF0Y2goXCIpLmNvbmNhdChIbixcIikpe1xcbiAgICAgICAgICAgIFwiKS5jb25jYXQocihcInZhbHVlXCIsbnVsbD09aT92b2lkIDA6aS5tZWFzdXJlbWVudCksXCJcXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgIH1cXG4gICAgICByZXR1cm4gdmFsdWU7XFxuICAgIFwiKX19KSksVW4uYWRkKFwiaHRtbFwiLChmdW5jdGlvbih0LGUsbil7dC5zY2hlbWE7dmFyIGk9dC5tZXNzYWdlcztyZXR1cm57c291cmNlOlwiXFxuICAgICAgaWYodmFsdWUgPT09IG51bGwpe1xcbiAgICAgICAgXCIuY29uY2F0KHRoaXMubWFrZUVycm9yKHt0eXBlOlwiaHRtbFwiLGFjdHVhbDpcInZhbHVlXCIsbWVzc2FnZXM6aX0pLFwiXFxuICAgICAgfSBlbHNlIHtcXG4gICAgICAgIHJldHVybiB2YWx1ZTtcXG4gICAgICB9XFxuICAgIFwiKX19KSksVW4uYWRkKFwiY3NzXCIsKGZ1bmN0aW9uKHQsZSxuKXt0LnNjaGVtYTt2YXIgaT10Lm1lc3NhZ2VzO3JldHVybntzb3VyY2U6XCJcXG4gICAgICBpZih2YWx1ZSA9PT0gbnVsbCl7XFxuICAgICAgICBcIi5jb25jYXQodGhpcy5tYWtlRXJyb3Ioe3R5cGU6XCJjc3NcIixhY3R1YWw6XCJ2YWx1ZVwiLG1lc3NhZ2VzOml9KSxcIlxcbiAgICAgIH0gZWxzZSB7XFxuICAgICAgICByZXR1cm4gdmFsdWU7XFxuICAgICAgfVxcbiAgICBcIil9fSkpO3ZhciBabixRbj1bXCJhbGljZWJsdWVcIixcImFudGlxdWV3aGl0ZVwiLFwiYXF1YVwiLFwiYXF1YW1hcmluZVwiLFwiYXp1cmVcIixcImJlaWdlXCIsXCJiaXNxdWVcIixcImJsYWNrXCIsXCJibGFuY2hlZGFsbW9uZFwiLFwiYmx1ZVwiLFwiYmx1ZXZpb2xldFwiLFwiYnJvd25cIixcImJ1cmx5d29vZFwiLFwiY2FkZXRibHVlXCIsXCJjaGFydHJldXNlXCIsXCJjaG9jb2xhdGVcIixcImNvcmFsXCIsXCJjb3JuZmxvd2VyYmx1ZVwiLFwiY29ybnNpbGtcIixcImNyaW1zb25cIixcImN5YW5cIixcImRhcmtibHVlXCIsXCJkYXJrY3lhblwiLFwiZGFya2dvbGRlbnJvZFwiLFwiZGFya2dyYXlcIixcImRhcmtncmV5XCIsXCJkYXJrZ3JlZW5cIixcImRhcmtraGFraVwiLFwiZGFya21hZ2VudGFcIixcImRhcmtvbGl2ZWdyZWVuXCIsXCJkYXJrb3JhbmdlXCIsXCJkYXJrb3JjaGlkXCIsXCJkYXJrcmVkXCIsXCJkYXJrc2FsbW9uXCIsXCJkYXJrc2VhZ3JlZW5cIixcImRhcmtzbGF0ZWJsdWVcIixcImRhcmtzbGF0ZWdyYXlcIixcImRhcmtzbGF0ZWdyZXlcIixcImRhcmt0dXJxdW9pc2VcIixcImRhcmt2aW9sZXRcIixcImRlZXBwaW5rXCIsXCJkZWVwc2t5Ymx1ZVwiLFwiZGltZ3JheVwiLFwiZGltZ3JleVwiLFwiZG9kZ2VyYmx1ZVwiLFwiZmlyZWJyaWNrXCIsXCJmbG9yYWx3aGl0ZVwiLFwiZm9yZXN0Z3JlZW5cIixcImZ1Y2hzaWFcIixcImdhaW5zYm9yb1wiLFwiZ2hvc3R3aGl0ZVwiLFwiZ29sZFwiLFwiZ29sZGVucm9kXCIsXCJncmF5XCIsXCJncmV5XCIsXCJncmVlblwiLFwiZ3JlZW55ZWxsb3dcIixcImhvbmV5ZGV3XCIsXCJob3RwaW5rXCIsXCJpbmRpYW5yZWRcIixcImluZGlnb1wiLFwiaXZvcnlcIixcImtoYWtpXCIsXCJsYXZlbmRlclwiLFwibGF2ZW5kZXJibHVzaFwiLFwibGF3bmdyZWVuXCIsXCJsZW1vbmNoaWZmb25cIixcImxpZ2h0Ymx1ZVwiLFwibGlnaHRjb3JhbFwiLFwibGlnaHRjeWFuXCIsXCJsaWdodGdvbGRlbnJvZHllbGxvd1wiLFwibGlnaHRncmF5XCIsXCJsaWdodGdyZXlcIixcImxpZ2h0Z3JlZW5cIixcImxpZ2h0cGlua1wiLFwibGlnaHRzYWxtb25cIixcImxpZ2h0c2VhZ3JlZW5cIixcImxpZ2h0c2t5Ymx1ZVwiLFwibGlnaHRzbGF0ZWdyYXlcIixcImxpZ2h0c2xhdGVncmV5XCIsXCJsaWdodHN0ZWVsYmx1ZVwiLFwibGlnaHR5ZWxsb3dcIixcImxpbWVcIixcImxpbWVncmVlblwiLFwibGluZW5cIixcIm1hZ2VudGFcIixcIm1hcm9vblwiLFwibWVkaXVtYXF1YW1hcmluZVwiLFwibWVkaXVtYmx1ZVwiLFwibWVkaXVtb3JjaGlkXCIsXCJtZWRpdW1wdXJwbGVcIixcIm1lZGl1bXNlYWdyZWVuXCIsXCJtZWRpdW1zbGF0ZWJsdWVcIixcIm1lZGl1bXNwcmluZ2dyZWVuXCIsXCJtZWRpdW10dXJxdW9pc2VcIixcIm1lZGl1bXZpb2xldHJlZFwiLFwibWlkbmlnaHRibHVlXCIsXCJtaW50Y3JlYW1cIixcIm1pc3R5cm9zZVwiLFwibW9jY2FzaW5cIixcIm5hdmFqb3doaXRlXCIsXCJuYXZ5XCIsXCJvbGRsYWNlXCIsXCJvbGl2ZVwiLFwib2xpdmVkcmFiXCIsXCJvcmFuZ2VcIixcIm9yYW5nZXJlZFwiLFwib3JjaGlkXCIsXCJwYWxlZ29sZGVucm9kXCIsXCJwYWxlZ3JlZW5cIixcInBhbGV0dXJxdW9pc2VcIixcInBhbGV2aW9sZXRyZWRcIixcInBhcGF5YXdoaXBcIixcInBlYWNocHVmZlwiLFwicGVydVwiLFwicGlua1wiLFwicGx1bVwiLFwicG93ZGVyYmx1ZVwiLFwicHVycGxlXCIsXCJyZWJlY2NhcHVycGxlXCIsXCJyZWRcIixcInJvc3licm93blwiLFwicm95YWxibHVlXCIsXCJzYWRkbGVicm93blwiLFwic2FsbW9uXCIsXCJzYW5keWJyb3duXCIsXCJzZWFncmVlblwiLFwic2Vhc2hlbGxcIixcInNpZW5uYVwiLFwic2lsdmVyXCIsXCJza3libHVlXCIsXCJzbGF0ZWJsdWVcIixcInNsYXRlZ3JheVwiLFwic2xhdGVncmV5XCIsXCJzbm93XCIsXCJzcHJpbmdncmVlblwiLFwic3RlZWxibHVlXCIsXCJ0YW5cIixcInRlYWxcIixcInRoaXN0bGVcIixcInRvbWF0b1wiLFwidHVycXVvaXNlXCIsXCJ2aW9sZXRcIixcIndoZWF0XCIsXCJ3aGl0ZVwiLFwid2hpdGVzbW9rZVwiLFwieWVsbG93XCIsXCJ5ZWxsb3dncmVlblwiXTtVbi5hZGQoXCJjb2xvclwiLChmdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpczt0LnNjaGVtYTt2YXIgcj10Lm1lc3NhZ2VzLHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5tYWtlRXJyb3Ioe3R5cGU6XCJjb2xvclwiLGFjdHVhbDp0LG1lc3NhZ2VzOntjb2xvcjplfX0pfTtyZXR1cm57c291cmNlOlwiXFxuICAgICAgY29uc3QgdmFsaWRhdGVFeHByZXNzaW9uID0gXCIuY29uY2F0KExuLFwiO1xcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZVJlZ2V4cCA9IC9eXCIpLmNvbmNhdChCLmF0dGlidXRlVmFsdWUsXCJcXFxcKFtfQS16MC05LV0qXFxcXCkkLztcXG4gICAgICBjb25zdCBwYXR0ZXJuUmVnZXhwID0gL15cIikuY29uY2F0KEIucGF0dGVyblZhbHVlLFwiXFxcXCgoW19BLXowLTkuJS1dKz8oLFtfQS16MC05LiUtXSspKj8pXFxcXCkkLztcXG4gICAgICBjb25zdCBleHRyYWN0UGFyZW50aGVzaXNBdHRyc0FzQXJyYXkgPSBcIikuY29uY2F0KGNpLCc7XFxuICAgICAgdmFyIGNvbG9ycyA9IFwiJykuY29uY2F0KFFuLmpvaW4oXCIsXCIpLFwiXFxcIi5zcGxpdCgnLCcpXFxuICAgICAgaWYodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyAmJiAhKHZhbHVlIGluc3RhbmNlb2YgU3RyaW5nKSl7XFxuICAgICAgICBcIikuY29uY2F0KHRoaXMubWFrZUVycm9yKHt0eXBlOlwibWVhc3VyZW1lbnRcIixhY3R1YWw6XCJ2YWx1ZVwiLG1lc3NhZ2VzOnJ9KSxcIlxcbiAgICAgICAgcmV0dXJuIDtcXG4gICAgICB9XFxuICAgIFxcbiAgICAgIGlmKHZhbHVlLnRyaW0oKS5zdGFydHNXaXRoKCdcIikuY29uY2F0KEIucGF0dGVyblZhbHVlLFwiJykpe1xcbiAgICAgICAgICBpZighcGF0dGVyblJlZ2V4cC50ZXN0KHZhbHVlLnJlcGxhY2UoLyAvZywgJycpKSl7XFxuICAgICAgICAgICAgXCIpLmNvbmNhdChzKFwidmFsdWVcIixcIlRoZSBcIitCLnBhdHRlcm5WYWx1ZStcIiBleHByZXNzaW9uIGlzIGludmFsaWRcIiksXCI7XFxuICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgICB9XFxuICAgICAgICAgIGNvbnN0IHBhdHRlcm5WYWx1ZXMgPSBleHRyYWN0UGFyZW50aGVzaXNBdHRyc0FzQXJyYXkodmFsdWUpO1xcbiAgICAgICAgICBmb3IobGV0IGk9MDsgaTxwYXR0ZXJuVmFsdWVzLmxlbmd0aDsgaSsrKXtcXG4gICAgICAgICAgICBjb25zdCB2YWxUb0NoZWNrID0gcGF0dGVyblZhbHVlc1tpXTtcXG4gICAgICAgICAgICBpZighdmFsVG9DaGVjay5tYXRjaChcIikuY29uY2F0KEpuLFwiKSAmJiAhY29sb3JzLmluY2x1ZGVzKHZhbFRvQ2hlY2sudG9Mb3dlckNhc2UoKSkpe1xcbiAgICAgICAgICAgICAgXCIpLmNvbmNhdCh0aGlzLm1ha2VFcnJvcih7dHlwZTpcImNvbG9yXCIsYWN0dWFsOlwidmFsdWVcIixtZXNzYWdlczpyfSksXCJcXG4gICAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gdmFsdWU7XFxuICAgICAgfSBlbHNlIGlmKHZhbHVlLnRyaW0oKS5zdGFydHNXaXRoKCdcIikuY29uY2F0KEIuYXR0aWJ1dGVWYWx1ZSxcIicpKXtcXG4gICAgICAgICAgaWYoIWF0dHJpYnV0ZVJlZ2V4cC50ZXN0KHZhbHVlKSl7XFxuICAgICAgICAgICAgXCIpLmNvbmNhdChzKFwidmFsdWVcIixcIlRoZSBcIitCLmF0dGlidXRlVmFsdWUrXCIgZXhwcmVzc2lvbiBpcyBpbnZhbGlkXCIpLFwiO1xcbiAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgfVxcblxcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XFxuICAgICAgICB9IGVsc2UgaWYodmFsdWUudHJpbSgpLnN0YXJ0c1dpdGgoJ1wiKS5jb25jYXQoQi5tYXRoRXhwUHJlZmFjZSxcIicpKXtcXG4gICAgICAgICAgY29uc3QgdmFsaWRpdHkgPSB2YWxpZGF0ZUV4cHJlc3Npb24odmFsdWUpO1xcbiAgICAgICAgICBpZih2YWxpZGl0eS5yZXN1bHQgPT09IGZhbHNlKXtcXG4gICAgICAgICAgICBcIikuY29uY2F0KHMoXCJ2YWx1ZVwiLFwiVGhlIFwiK0IuZXhwcmVzc2lvblByZWZhY2UrXCIgZXhwcmVzc2lvbiBpcyBpbnZhbGlkXCIpLCc7XFxuICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgICB9XFxuICAgICAgICAgIGlmKHZhbGlkaXR5LnVuaXQgIT09IFwiXCIpe1xcbiAgICAgICAgICAgICcpLmNvbmNhdChzKFwidmFsdWVcIixcIlRoZSBcIitCLmV4cHJlc3Npb25QcmVmYWNlK1wiIGV4cHJlc3Npb24gaW5jbHVkZXMgdW5pdHNcIiksXCI7XFxuICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgICB9XFxuXFxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcXG4gICAgICAgIH1cXG4gICAgXFxuICAgICAgXFxuICAgICAgaWYoIXZhbHVlLm1hdGNoKFwiKS5jb25jYXQoSm4sXCIpICYmICFjb2xvcnMuaW5jbHVkZXModmFsdWUudG9Mb3dlckNhc2UoKSkpe1xcbiAgICAgICAgXCIpLmNvbmNhdCh0aGlzLm1ha2VFcnJvcih7dHlwZTpcImNvbG9yXCIsYWN0dWFsOlwidmFsdWVcIixtZXNzYWdlczpyfSksXCJcXG4gICAgICB9XFxuICAgICAgcmV0dXJuIHZhbHVlO1xcbiAgICBcIil9fSkpLChabj13aW5kb3cpLkF1ZGlvQ29udGV4dHx8KFpuLkF1ZGlvQ29udGV4dD13aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KTt2YXIgWG49bmV3IHdpbmRvdy5BdWRpb0NvbnRleHQ7ZnVuY3Rpb24gWW4odCl7cmV0dXJuIWlzTmFOKHBhcnNlRmxvYXQodCkpJiZpc0Zpbml0ZSh0KX1mdW5jdGlvbiB0aSh0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdHx8dCBpbnN0YW5jZW9mIFN0cmluZ31mdW5jdGlvbiBlaSh0KXtyZXR1cm5cIm9iamVjdFwiPT09aSh0KX1mdW5jdGlvbiBuaSh0KXtyZXR1cm4gdCYmXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT09e30udG9TdHJpbmcuY2FsbCh0KX1mdW5jdGlvbiBpaSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpudWxsO3JldHVybiEobnVsbD09PWV8fCFlaSh0KSkmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfWZ1bmN0aW9uIHJpKHQpe3JldHVybiB0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSl9dmFyIHNpPW5ldyBSZWdFeHAoXCJeWystXT8oWzAtOV0rKFsuXVswLTldKik/fFsuXVswLTldKylcIixcImdpXCIpO2Z1bmN0aW9uIGFpKHQsZSl7dmFyIG49bnVsbD09dD92b2lkIDA6dFtlXTtpZighdGkobikpcmV0dXJuIG51bGw7dmFyIGk9bi5tYXRjaChzaSlbMF0scj1uLnN1YnN0cmluZyhpLmxlbmd0aCk7cmV0dXJuIWZ1bmN0aW9uKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0JiZpc0Zpbml0ZSh0KX0oaT1OdW1iZXIoaSkpfHxcIiVcIiE9PXImJlwicHhcIiE9PXI/bnVsbDp7bnVtYmVyOmksdW5pdDpyfX12YXIgb2k9WydvcmlnaW5hbERpbXMgc2hvdWxkIGJlIGFuIG9iamVjdCBjb250YWluaW5nIGJvdGggdGhlIFwid2lkdGhcIiBhbmQgXCJoZWlnaHRcIiBrZXlzJ107ZnVuY3Rpb24gdWkodCl7cmV0dXJuIG51bGw9PXQ/e3Jlc3VsdDohMCxhbmFseXNpczp7d2lkdGg6bnVsbCxoZWlnaHQ6bnVsbH19OmVpKHQpJiZpaSh0LFwid2lkdGhcIikmJmlpKHQsXCJoZWlnaHRcIik/bnVsbD09YWkodCxcIndpZHRoXCIpP3tyZXN1bHQ6ITEsZXJyb3JzOltcIm9yaWdpbmFsRGltcy53aWR0aCBzaG91bGQgYmUgZGVmaW5lZCBlaXRoZXIgb24gcHggb3IgJS5cIl19Om51bGw9PWFpKHQsXCJoZWlnaHRcIik/e3Jlc3VsdDohMSxlcnJvcnM6W1wib3JpZ2luYWxEaW1zLmhlaWdodCBzaG91bGQgYmUgZGVmaW5lZCBlaXRoZXIgb24gcHggb3IgJS5cIl19OntyZXN1bHQ6ITAsYW5hbHlzaXM6bGkodCl9OntyZXN1bHQ6ITEsZXJyb3JzOm9pfX1mdW5jdGlvbiBsaSh0KXtyZXR1cm4gZWkodCkmJm51bGwhPXQ/e3dpZHRoOmFpKHQsXCJ3aWR0aFwiKSxoZWlnaHQ6YWkodCxcImhlaWdodFwiKX06e3dpZHRoOm51bGwsaGVpZ2h0Om51bGx9fWZ1bmN0aW9uIGNpKHQpe3ZhciBlPXQucmVwbGFjZSgvIC9nLFwiXCIpO3JldHVybi8uKlxcKCguKilcXCkuKi8uZXhlYyhlKVsxXS5zcGxpdChcIixcIil9ZnVuY3Rpb24gaGkodCxlKXtyZXR1cm4gTWF0aC5yb3VuZCh0L2UpKmV9ZnVuY3Rpb24gZGkodCl7dmFyIGU9dC5zcGxpdChcIl9fX1wiKTtyZXR1cm57bWNpZDplWzBdLGF0dHJpYnV0ZTplWzFdfX1mdW5jdGlvbiBwaSgpe3JldHVybiBNYXRoLmZsb29yKDY1NTM2KigxK01hdGgucmFuZG9tKCkpKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpfWZ1bmN0aW9uIGZpKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXSxlPXQ/XCJfXCI6XCItXCI7cmV0dXJuXCJcIi5jb25jYXQocGkoKSkuY29uY2F0KHBpKCkpLmNvbmNhdChlKS5jb25jYXQocGkoKSkuY29uY2F0KGUpLmNvbmNhdChwaSgpKX1mdW5jdGlvbiBtaSh0LGUpe3JldHVyblwiXCIuY29uY2F0KHQpLmNvbmNhdChcIl9fX1wiKS5jb25jYXQoZSl9ZnVuY3Rpb24gdmkoKXtyZXR1cm4hMX1mdW5jdGlvbiBnaSh0LGUsbil7Zm9yKHZhciBpPWUuc3BsaXQoXCIuXCIpLHI9dCxzPTA7czxpLmxlbmd0aC0xO3MrKyl7aWYoIWlpKHIsaVtzXSkpcmV0dXJuITE7cj1yW2lbc11dfXJldHVybiEhaWkocixpW2kubGVuZ3RoLTFdKSYmKHJbaVtpLmxlbmd0aC0xXV09biwhMCl9dmFyIHlpPW5ldyBmdW5jdGlvbiB0KGUpe3IodGhpcyx0KTt2YXIgbj0yO2lpKGUsXCJsb2dMZXZlbFwiKSYmKG49ZS5sb2dMZXZlbCk7Zm9yKHZhciBpPTA7aTxWLmxlbmd0aDtpKyspe3ZhciBzPVZbaV07bj49cy5sZXZlbD90aGlzW3Mua2V5XT13aW5kb3cuY29uc29sZVtzLmNvbnNvbGVNZXRob2RdLmJpbmQod2luZG93LmNvbnNvbGUsXCJNb3RvckNvcnRleCAtIFwiLmNvbmNhdChzLmtleSxcIjogXCIpKTp0aGlzW3Mua2V5XT1mdW5jdGlvbigpe319dGhpcy5sb2c9bj49Mz93aW5kb3cuY29uc29sZS5sb2cuYmluZCh3aW5kb3cuY29uc29sZSxcIk1vdG9yQ29ydGV4IC0gXCIpOmZ1bmN0aW9uKCl7fX07ZnVuY3Rpb24ga2kodCxlLG4pe3ZhciBpPWUodCk7aWYoaS5sZW5ndGg+MCl7Zm9yKHZhciByPVwiRXJyb3Igb24gcGx1Z2luJ3MgXFxcIlwiLmNvbmNhdChuLnBsdWdpbl9ucG1fbmFtZSwnXCIgXCInKS5jb25jYXQobi5DbGFzc05hbWUsJ1wiIGluc3RhbnRpYXRpb24uIEVycm9ycyAob3AgcHJvcHMpOicpLHM9MDtzPGkubGVuZ3RoO3MrKylyKz1cIlxcbiAtIFwiLmNvbmNhdChpW3NdLm1lc3NhZ2UsXCIuIFwiKS5jb25jYXQoaVtzXS5hY3R1YWwsXCIgcHJvdmlkZWRcIik7cmV0dXJuIHlpLmVycm9yKHIpLHtyZXN1bHQ6ITEsZXJyb3JzOml9fXJldHVybntyZXN1bHQ6ITB9fWZ1bmN0aW9uIGJpKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOlwiRXJyb3Igb24gdmFsaWRhdGlvblwiO3RyeXt2YXIgaT1Vbi5jb21waWxlKHQpLHI9aShlKTtpZighMD09PXIpcmV0dXJue3Jlc3VsdDohMH07Zm9yKHZhciBzPVwiXCIuY29uY2F0KG4sXCI6XCIpLGE9MDthPHIubGVuZ3RoO2ErKylzKz1cIlxcbiAtIFwiLmNvbmNhdChyW2FdLm1lc3NhZ2UsXCIuIFwiKS5jb25jYXQoclthXS5hY3R1YWwsXCIgcHJvdmlkZWRcIik7cmV0dXJuIHlpLmVycm9yKHMpLHtyZXN1bHQ6ITEsZXJyb3JzOnJ9fWNhdGNoKHQpe3ZhciBvPVwiXCIuY29uY2F0KG4sXCIuIEludmFsaWQgc2NoZW1hIHByb3ZpZGVkXCIpO3JldHVybiB5aS5lcnJvcihvKSx7cmVzdWx0OiExLGVycm9yczpbb119fX1mdW5jdGlvbiB4aSh0KXt2YXIgZT17XCImXCI6XCImYW1wO1wiLFwiPFwiOlwiJmx0O1wiLFwiPlwiOlwiJmd0O1wiLCdcIic6XCImcXVvdDtcIixcIidcIjpcIiYjeDI3O1wiLFwiL1wiOlwiJiN4MkY7XCJ9O3JldHVybihcIlwiK3QpLnJlcGxhY2UoL1smPD5cIicvXS9nLChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0pKX1mdW5jdGlvbiBDaSh0LGUsbil7Zm9yKHZhciBpPVtdLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIHM9dFtyXSxhPXMucGFyZW50TWlsbGlzZWNvbmQtbjthPWEqZStuLDEhPT1lJiZpLnB1c2goe2lkOnMuaW5jaWRlbnQuaWQsc3RhcnQ6YSxlbmQ6YStzLmluY2lkZW50LmR1cmF0aW9uKmUsc3RhcnREZWx0YTphLXMubWlsbGlzZWNvbmR9KX1yZXR1cm4gaX12YXIgSWk9ZnVuY3Rpb24odCl7cmV0dXJuIHQudHJpbVN0YXJ0KCkuc3RhcnRzV2l0aChcImh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzXCIpfTtmdW5jdGlvbiB3aSh0KXtyZXR1cm4gdC5yZXN1bHQ/e3Jlc3VsdDohMCxleGVjdXRlOnQuZXhlY3V0ZX06e3Jlc3VsdDohMSxlcnJvcnM6dC5lcnJvcnN9fXZhciBFaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7cih0aGlzLHQpLHRoaXMucnVuVGltZUluZm89ZS5ydW5UaW1lSW5mbyx0aGlzLmNvbnRleHQ9ZS5jb250ZXh0LHRoaXMub25Jbml0aWFsaXNlKCksdGhpcy5nZXRJbmNpZGVudEJ5SWQ9ZS5nZXRJbmNpZGVudEJ5SWR9cmV0dXJuIGEodCxbe2tleTpcIm9uSW5pdGlhbGlzZVwiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleTpcIl9yZXNpemVcIix2YWx1ZTpmdW5jdGlvbigpe3lpLmxvZyhcIlBsZWFzZSBvdmVyd2l0ZSB0aGUgX3Jlc2l6ZSBtZXRob2Qgb2YgdGhlIENoYW5uZWxcIil9fSx7a2V5OlwiYWRkSW5jaWRlbnRzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHdpKHRoaXMuY2hlY2tBZGRpdGlvbih0KSl9fSx7a2V5OlwiZWRpdEluY2lkZW50c1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHdpKHRoaXMuY2hlY2tFZGl0KHQsZSkpfX0se2tleTpcInJlbW92ZUluY2lkZW50c1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gd2kodGhpcy5jaGVja0RlbGV0ZSh0LGUpKX19LHtrZXk6XCJyZWNhbGNTY3JhdGNoVmFsdWVzXCIsdmFsdWU6ZnVuY3Rpb24odCl7fX0se2tleTpcImNoZWNrQWRkaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm57cmVzdWx0OiEwLGV4ZWN1dGU6ZnVuY3Rpb24oKXt9fX19LHtrZXk6XCJjaGVja0VkaXRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybntyZXN1bHQ6ITAsZXhlY3V0ZTpmdW5jdGlvbigpe319fX0se2tleTpcImNoZWNrRGVsZXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJue3Jlc3VsdDohMCxleGVjdXRlOmZ1bmN0aW9uKCl7fX19fSx7a2V5OlwiY2hlY2tSZXNpemVkSW5jaWRlbnRzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJue3Jlc3VsdDohMCxleGVjdXRlOmZ1bmN0aW9uKCl7fX19fSx7a2V5OlwibW92ZVRvXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe319XSxbe2tleTpcInR5cGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cInBsYWluXCJ9fV0pLHR9KCksQWk9XCJ1cFwiLFBpPVwiZG93blwiLE9pPVwibmF0aXZlLnRyZWUuYnlwYXNzXCIsVGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3IodGhpcyx0KSx0aGlzLnBhcmVudE5vZGU9bnVsbCx0aGlzLmlzTm9kZT0hMSxpaShlLFwiaWRcIik/dGhpcy5pZD1lLmlkOnRoaXMuaWQ9ZmkoKSx0aGlzLnByb3BzPWV9cmV0dXJuIGEodCxbe2tleTpcIm5hbWVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaWkodGhpcy5wcm9wcyxcIm5hbWVcIik/dGhpcy5wcm9wcy5uYW1lOm51bGx9LHNldDpmdW5jdGlvbih0KXt0aGlzLnByb3BzLm5hbWU9dH19LHtrZXk6XCJkZWxheVwiLGdldDpmdW5jdGlvbigpe3JldHVybiBpaSh0aGlzLnByb3BzLFwiZGVsYXlcIik/dGhpcy5wcm9wcy5kZWxheTowfSxzZXQ6ZnVuY3Rpb24odCl7MCE9PXQmJih0aGlzLnByb3BzLmRlbGF5PXQpfX0se2tleTpcImhpYXR1c1wiLGdldDpmdW5jdGlvbigpe3JldHVybiBpaSh0aGlzLnByb3BzLFwiaGlhdHVzXCIpP3RoaXMucHJvcHMuaGlhdHVzOjB9LHNldDpmdW5jdGlvbih0KXswIT09dCYmKHRoaXMucHJvcHMuaGlhdHVzPXQpfX0se2tleTpcInJlcGVhdHNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaWkodGhpcy5wcm9wcyxcInJlcGVhdHNcIik/dGhpcy5wcm9wcy5yZXBlYXRzOjF9LHNldDpmdW5jdGlvbih0KXt0aGlzLnByb3BzLnJlcGVhdHM9dH19LHtrZXk6XCJkdXJhdGlvblwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcGVhdHMqKHRoaXMuZGVsYXkrdGhpcy5wcm9wcy5kdXJhdGlvbit0aGlzLmhpYXR1cyl9LHNldDpmdW5jdGlvbih0KXt2YXIgZT10L3RoaXMuZHVyYXRpb247dGhpcy5wcm9wcy5kdXJhdGlvbio9ZSx0aGlzLmhpYXR1cyo9ZSx0aGlzLmRlbGF5Kj1lfX0se2tleTpcInNldE5ld0R1cmF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5kdXJhdGlvbj10LHRoaXMucHV0TWVzc2FnZU9uUGlwZShcInJlY2FsY0R1cmF0aW9uXCIse30sXCJHcm91cHNcIix7c2VsZkV4ZWN1dGU6ITEsZGlyZWN0aW9uOkFpfSl9fSx7a2V5Olwic3lzdG9sZURpYXN0b2xlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5kdXJhdGlvbio9dH19LHtrZXk6XCJoYXNQYXJlbnRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMucGFyZW50Tm9kZX19LHtrZXk6XCJhdHRhY2hUb05vZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnBhcmVudE5vZGU9dH19LHtrZXk6XCJkZXRhY2hGcm9tUGFyZW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBhcmVudE5vZGU9bnVsbH19LHtrZXk6XCJwdXRNZXNzYWdlT25QaXBlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp7fTtpZihpaShyLFwiZGlyZWN0aW9uXCIpfHwoci5kaXJlY3Rpb249UGkpLHIuZGlyZWN0aW9uIT09UGl8fGlpKHIsXCJwb3NpdGlvbkRlbHRhXCIpfHwoci5wb3NpdGlvbkRlbHRhPTApLHIuc2VsZkV4ZWN1dGUpe3ZhciBzPVwiaGFuZGxlXCIuY29uY2F0KHJpKHQpKSxhPVwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXNbc107aWYoYSl7dmFyIG89dGhpc1tzXShpLGUpO2lmKG8hPT1PaSl7dmFyIHU9e3Jlc3BvbnNlOm8scmVzcG9uZGVyOnRoaXN9O3JldHVybiByLmRpcmVjdGlvbj09PUFpP3U6W24obih7fSx1KSx7fSx7cG9zaXRpb25EZWx0YTpyLnBvc2l0aW9uRGVsdGF9KV19fX1yZXR1cm4gci5kaXJlY3Rpb249PT1BaT90aGlzLmhhc1BhcmVudD90aGlzLnBhcmVudE5vZGUucHV0TWVzc2FnZU9uUGlwZSh0LGUsaSx7c2VsZkV4ZWN1dGU6ITAsZGlyZWN0aW9uOkFpfSk6e3Jlc3BvbnNlOiExLHJlc3BvbmRlcjpudWxsfTpbXX19LHtrZXk6XCJieXBhc3NcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBPaX19LHtrZXk6XCJwb3NpdGlvbk9uUHlyYW1pZGlvblwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFBvc2l0aW9uT25QeXJhbWlkaW9uKCl9fSx7a2V5OlwiZ2V0UG9zaXRpb25PblB5cmFtaWRpb25cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowO2lmKHRoaXMuaGFzUGFyZW50KXt2YXIgZT10aGlzLnB1dE1lc3NhZ2VPblBpcGUoXCJnZXRQb3NpdGlvbk9uUHlyYW1pZGlvblwiLHtkZWx0YTp0LGlkOnRoaXMuaWR9LFwiUGFyZW50XCIse3NlbGZFeGVjdXRlOiExLGRpcmVjdGlvbjpBaX0pO3JldHVybiBlLnJlc3BvbnNlfXJldHVybiB0fX1dKSx0fSgpLFNpPVwiTGVhZiBoYXMgYWxyZWFkeSBiZWVuIGF0dGFjaGVkIHRvIGFub3RoZXIgTm9kZVwiLF9pPVwiTmVnYXRpdmUgcG9zaXRpb25pbmcgb2YgY2hpbGRzIG9uIG5vZGVzIGlzIG5vdCBhbGxvd2VkXCIsRGk9XCJUaGUgTGVhZiB3aXRoIHRoZSByZXF1ZXN0ZWQgaWQgY291bGRuJ3QgYmUgZm91bmQgb24gdGhlIFRyZWVcIixNaT1mdW5jdGlvbih0KXt1KGksdCk7dmFyIGU9cChpKTtmdW5jdGlvbiBpKCl7dmFyIHQsbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIHIodGhpcyxpKSwodD1lLmNhbGwodGhpcyxuKSkuaXNOb2RlPSEwLHQuY2hpbGRyZW49e30sdC5jYWxjdWxhdGVkRHVyYXRpb249MCx0fXJldHVybiBhKGksW3trZXk6XCJkdXJhdGlvblwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcGVhdHMqKHRoaXMuZGVsYXkrdGhpcy5jYWxjdWxhdGVkRHVyYXRpb24rdGhpcy5oaWF0dXMpfSxzZXQ6ZnVuY3Rpb24odCl7aWYoMCE9PXRoaXMuZHVyYXRpb24pe3ZhciBlPXQvdGhpcy5kdXJhdGlvbjtmb3IodmFyIG4gaW4gdGhpcy5jYWxjdWxhdGVkRHVyYXRpb24qPWUsdGhpcy5oaWF0dXMqPWUsdGhpcy5kZWxheSo9ZSx0aGlzLmNoaWxkcmVuKXt2YXIgaT10aGlzLmNoaWxkcmVuW25dO3RoaXMuZWRpdFBvc2l0aW9uKGkuaWQsaS5wb3NpdGlvbiplLCEwKSxpLmxlYWYuc3lzdG9sZURpYXN0b2xlKGUpfX19fSx7a2V5OlwiX2NhbGN1bGF0ZUR1cmF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD0wO2Zvcih2YXIgZSBpbiB0aGlzLmNoaWxkcmVuKXt2YXIgbj10aGlzLmNoaWxkcmVuW2VdO24ucG9zaXRpb24rbi5sZWFmLmR1cmF0aW9uPnQmJih0PW4ucG9zaXRpb24rbi5sZWFmLmR1cmF0aW9uKX1yZXR1cm4gdCE9PXRoaXMuY2FsY3VsYXRlZER1cmF0aW9uJiYodGhpcy5jYWxjdWxhdGVkRHVyYXRpb249dCwhMCl9fSx7a2V5OlwiaGFuZGxlUmVjYWxjRHVyYXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiF0aGlzLl9jYWxjdWxhdGVEdXJhdGlvbigpfHx0aGlzLnB1dE1lc3NhZ2VPblBpcGUoXCJyZWNhbGNEdXJhdGlvblwiLHt9LFwiR3JvdXBzXCIse3NlbGZFeGVjdXRlOiExLGRpcmVjdGlvbjpBaX0pfX0se2tleTpcImdldExlYWZCeUlkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtpZihpaSh0aGlzLmNoaWxkcmVuLHQpKXJldHVybiB0aGlzLmNoaWxkcmVuW3RdLmxlYWY7aWYoZSlyZXR1cm4gbnVsbDtmb3IodmFyIG4gaW4gdGhpcy5jaGlsZHJlbil7dmFyIGk9dGhpcy5jaGlsZHJlbltuXS5sZWFmO2lmKGkuaXNOb2RlKXt2YXIgcj1pLmdldExlYWZCeUlkKHQpO2lmKG51bGwhPXIpcmV0dXJuIHJ9fXJldHVybiBudWxsfX0se2tleTpcImdldExlYWZQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKGlpKHRoaXMuY2hpbGRyZW4sdCkpcmV0dXJuIHRoaXMuY2hpbGRyZW5bdF0ucG9zaXRpb247dmFyIGU9dGhpcy5wdXRNZXNzYWdlT25QaXBlKFwiZ2V0TGVhZlBvc2l0aW9uXCIse2lkOnR9LFwiR3JvdXBzXCIse3NlbGZFeGVjdXRlOiExLGRpcmVjdGlvbjpQaX0pO3JldHVybiBlLmxlbmd0aD4wP2VbMF0ucG9zaXRpb25EZWx0YStlWzBdLnJlc3BvbnNlOnZvaWQgMH19LHtrZXk6XCJoYW5kbGVHZXRMZWFmUG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmdldExlYWZQb3NpdGlvbihlLmlkKX19LHtrZXk6XCJjaGVja0FkZGl0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5oYXNQYXJlbnQ/e3Jlc3VsdDohMSxyZWFzb246U2l9OmU8MD97cmVzdWx0OiExLHJlYXNvbjpfaX06e3Jlc3VsdDohMH19fSx7a2V5OlwiYWRkQ2hpbGRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0Lmhhc1BhcmVudD97cmVzdWx0OiExLHJlYXNvbjpTaX06KHRoaXMuY2hpbGRyZW5bdC5pZF09e2lkOnQuaWQsbGVhZjp0LHBvc2l0aW9uOmV9LHQuYXR0YWNoVG9Ob2RlKHRoaXMpLHRoaXMucHV0TWVzc2FnZU9uUGlwZShcInJlY2FsY0R1cmF0aW9uXCIse30sXCJHcm91cHNcIix7c2VsZkV4ZWN1dGU6ITAsZGlyZWN0aW9uOkFpfSkse3Jlc3VsdDohMH0pfX0se2tleTpcImNoZWNrUmVtb3ZlQ2hpbGRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gaWkodGhpcy5jaGlsZHJlbix0KT97cmVzdWx0OiEwfTp7cmVzdWx0OiExLHJlYXNvbjpEaX19fSx7a2V5OlwicmVtb3ZlQ2hpbGRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGlsZHJlblt0XS5sZWFmLmRldGFjaEZyb21QYXJlbnQoKSxkZWxldGUgdGhpcy5jaGlsZHJlblt0XSx0aGlzLnB1dE1lc3NhZ2VPblBpcGUoXCJyZWNhbGNEdXJhdGlvblwiLHt9LFwiR3JvdXBzXCIse3NlbGZFeGVjdXRlOiEwLGRpcmVjdGlvbjpBaX0pLHtyZXN1bHQ6ITB9fX0se2tleTpcImNoZWNrRWRpdFBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZTwwP3tyZXN1bHQ6ITEscmVhc29uOl9pfTppaSh0aGlzLmNoaWxkcmVuLHQpP3tyZXN1bHQ6ITB9OntyZXN1bHQ6ITEscmVhc29uOkRpfX19LHtrZXk6XCJlZGl0UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl07aWYoaWkodGhpcy5jaGlsZHJlbix0KSlyZXR1cm4gdGhpcy5jaGlsZHJlblt0XS5wb3NpdGlvbj1lLG58fHRoaXMucHV0TWVzc2FnZU9uUGlwZShcInJlY2FsY0R1cmF0aW9uXCIse30sXCJHcm91cHNcIix7c2VsZkV4ZWN1dGU6ITAsZGlyZWN0aW9uOkFpfSkse3Jlc3VsdDohMH19fSx7a2V5OlwicHV0TWVzc2FnZU9uUGlwZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxyKXt2YXIgcz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e307aWYoaWkocyxcImRpcmVjdGlvblwiKXx8KHMuZGlyZWN0aW9uPVBpKSxzLmRpcmVjdGlvbiE9PVBpfHxpaShzLFwicG9zaXRpb25EZWx0YVwiKXx8KHMucG9zaXRpb25EZWx0YT0wKSxzLmRpcmVjdGlvbj09PUFpKXJldHVybiBtKGwoaS5wcm90b3R5cGUpLFwicHV0TWVzc2FnZU9uUGlwZVwiLHRoaXMpLmNhbGwodGhpcyx0LGUscixzKTt2YXIgYT1tKGwoaS5wcm90b3R5cGUpLFwicHV0TWVzc2FnZU9uUGlwZVwiLHRoaXMpLmNhbGwodGhpcyx0LGUscixzKTtpZihhLmxlbmd0aD4wKXJldHVybiBhO2Zvcih2YXIgbyBpbiB0aGlzLmNoaWxkcmVuKXt2YXIgdT10aGlzLmNoaWxkcmVuW29dLmxlYWYsYz1uKG4oe30scykse30se3NlbGZFeGVjdXRlOiEwLHBvc2l0aW9uRGVsdGE6cy5wb3NpdGlvbkRlbHRhK3RoaXMuY2hpbGRyZW5bb10ucG9zaXRpb259KTthLnB1c2guYXBwbHkoYSxrKHUucHV0TWVzc2FnZU9uUGlwZSh0LGUscixjKSkpfXJldHVybiBhfX0se2tleTpcImhhbmRsZUdldFBvc2l0aW9uT25QeXJhbWlkaW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmRlbHRhK3RoaXMuZ2V0TGVhZlBvc2l0aW9uKGUuaWQpO3JldHVybiB0aGlzLmdldFBvc2l0aW9uT25QeXJhbWlkaW9uKG4pfX1dKSxpfShUaSk7ZnVuY3Rpb24gVmkodCl7dC5kZXNjcmlwdG9yLnZhbHVlPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXRoaXMuYmxvY2tJRCYmKHRoaXMuYmxvY2tJRD1maSgpKSx0aGlzLkRlc2NyaXB0aXZlSW5jaWRlbnQucHV0TWVzc2FnZU9uUGlwZShcInNldEJsb2NrXCIse2lkOnRoaXMuYmxvY2tJRCxkZXNjcmlwdGlvbjp0LGluY2lkZW50SWQ6dGhpcy5EZXNjcmlwdGl2ZUluY2lkZW50LmlkLHJlYWxJbmNpZGVudElkOnRoaXMuaWR9LFwicm9vdENsaXBcIix7c2VsZkV4ZWN1dGU6ITAsZGlyZWN0aW9uOkFpfSl9fWZ1bmN0aW9uICRpKHQpe3QuZGVzY3JpcHRvci52YWx1ZT1mdW5jdGlvbigpe3RoaXMuRGVzY3JpcHRpdmVJbmNpZGVudC5wdXRNZXNzYWdlT25QaXBlKFwidW5CbG9ja1wiLHtpZDp0aGlzLmJsb2NrSUR9LFwicm9vdENsaXBcIix7c2VsZkV4ZWN1dGU6ITAsZGlyZWN0aW9uOkFpfSl9fXZhciBOaT1QKG51bGwsKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZnVuY3Rpb24oZSl7dShpLGUpO3ZhciBuPXAoaSk7ZnVuY3Rpb24gaShlLHMpe3ZhciBhO3JldHVybiByKHRoaXMsaSksYT1uLmNhbGwodGhpcyxzKSx0KGgoYSkpLGEubWNfcGx1Z2luX25wbV9uYW1lPVwibW90b3ItY29ydGV4LWpzXCIsYS5wbHVnaW5fY2hhbm5lbF9jbGFzcz1FaSxhLmhhc0luY2lkZW50cz0hMCxhLm9uR3JvdXBJbml0aWFsaXNlKCksYS5jYWxjdWxhdGVkRHVyYXRpb249MCxhfXJldHVybiBpfShlKTtyZXR1cm57RjpuLGQ6W3traW5kOlwibWV0aG9kXCIsa2V5Olwib25Hcm91cEluaXRpYWxpc2VcIix2YWx1ZTpmdW5jdGlvbigpe319LHtraW5kOlwibWV0aG9kXCIsa2V5OlwiaGFuZGxlQWRkSW5jaWRlbnRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHRoaXMuaWQ9PT10KXt2YXIgbj0oMCxlLmluY2lkZW50RnJvbURlc2NyaXB0aW9uKShlLmluY2lkZW50LGUuY29udGV4dERhdGEsZS5hdWRpbyk7cmV0dXJuIG51bGw9PT1uP3RoaXMuYnlwYXNzKCk6bn1yZXR1cm4gdGhpcy5ieXBhc3MoKX19LHtraW5kOlwibWV0aG9kXCIsa2V5OlwiaGFuZGxlTW92ZUluY2lkZW50XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0aGlzLmlkPT09dCl7dmFyIG49dGhpcy5nZXRMZWFmQnlJZChlLmluY2lkZW50SWQsITApO3JldHVybiBudWxsPT09bj90aGlzLmJ5cGFzcygpOm59cmV0dXJuIHRoaXMuYnlwYXNzKCl9fSx7a2luZDpcImZpZWxkXCIsa2V5OlwiaGFuZGxlUmVtb3ZlSW5jaWRlbnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhhbmRsZU1vdmVJbmNpZGVudH19LHtraW5kOlwibWV0aG9kXCIsa2V5OlwiaGFuZGxlUmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaWQ9PT10P3RoaXM6dGhpcy5ieXBhc3MoKX19LHtraW5kOlwibWV0aG9kXCIsa2V5OlwicmVtb3ZlQ2hpbGRcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmNoaWxkcmVuW3RdLmxlYWYubGFzdFdpc2goKSxtKGwobi5wcm90b3R5cGUpLFwicmVtb3ZlQ2hpbGRcIix0aGlzKS5jYWxsKHRoaXMsdCl9fSx7a2luZDpcIm1ldGhvZFwiLGtleTpcImdldEluY2lkZW50c0J5Q2hhbm5lbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAsZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxuPXt9O2Zvcih2YXIgaSBpbiBuW1wibW90b3ItY29ydGV4LWpzXCJdPVt7bWlsbGlzZWNvbmQ6dCxwYXJlbnRNaWxsaXNlY29uZDplLGluY2lkZW50OnRoaXMsaWQ6dGhpcy5pZH1dLHRoaXMuY2hpbGRyZW4pe3ZhciByPXRoaXMuY2hpbGRyZW5baV0scz1yLmxlYWYuZ2V0SW5jaWRlbnRzQnlDaGFubmVsKHQrci5wb3NpdGlvbix0KTtmb3IodmFyIGEgaW4gcylpaShuLGEpP25bYV09blthXS5jb25jYXQoc1thXSk6blthXT1zW2FdfXJldHVybiBufX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJsYXN0V2lzaFwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuY2hpbGRyZW4pdGhpcy5jaGlsZHJlblt0XS5sZWFmLmxhc3RXaXNoKCl9fSx7a2luZDpcIm1ldGhvZFwiLGRlY29yYXRvcnM6W1ZpXSxrZXk6XCJzZXRCbG9ja1wiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tpbmQ6XCJtZXRob2RcIixkZWNvcmF0b3JzOlskaV0sa2V5OlwidW5ibG9ja1wiLHZhbHVlOmZ1bmN0aW9uKCl7fX1dfX0pLE1pKSxqaT1mdW5jdGlvbih0KXt1KG4sdCk7dmFyIGU9cChuKTtmdW5jdGlvbiBuKCl7cmV0dXJuIHIodGhpcyxuKSxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gYShuLFt7a2V5Olwib25Jbml0aWFsaXNlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmluY2lkZW50cz1bXSx0aGlzLmluY2lkZW50c0J5SWQ9e319fSx7a2V5OlwiX2luY2lkZW50QnlJZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmluY2lkZW50c0J5SWRbdF19fSx7a2V5OlwiX3Jlc2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5pbmNpZGVudHMubGVuZ3RoO2UrKyl0aGlzLmluY2lkZW50c1tlXS5taWxsaXNlY29uZCo9dH19LHtrZXk6XCJjaGVja0FkZGl0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49e30saT1bXSxyPTA7cjx0Lmxlbmd0aDtyKyspblt0W3JdLmlkXT10W3JdLmluY2lkZW50LGkucHVzaCh7aWQ6dFtyXS5pZCxtaWxsaXNlY29uZDp0W3JdLm1pbGxpc2Vjb25kfSksaWkodGhpcy5pbmNpZGVudHNCeUlkLHRbcl0uaWQpJiYoeWkuZXJyb3IoXCJJbmNpZGVudCB3aXRoIHRoZSBpZCBcIi5jb25jYXQodFtyXS5pZCxcIiBhbHJlYWR5IGV4aXN0cy4gQWRkaXRpb24gaXMgcmVqZWN0ZWQuXCIpKSxlLnB1c2goe3R5cGU6XCJBbHJlYWR5IGV4aXN0aW5nIGlkXCIsbWV0YTp7aWQ6dFtyXS5pZH19KSk7aWYoZS5sZW5ndGg+MClyZXR1cm57cmVzdWx0OiExLGVycm9yczplfTt2YXIgcz10aGlzO3JldHVybntyZXN1bHQ6ITAsZXhlY3V0ZTpmdW5jdGlvbigpe3ZhciBlO3MuaW5jaWRlbnRzQnlJZD1PYmplY3QuYXNzaWduKHMuaW5jaWRlbnRzQnlJZCxuKSwoZT1zLmluY2lkZW50cykucHVzaC5hcHBseShlLGkpLHMuaW5jaWRlbnRzLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubWlsbGlzZWNvbmQtZS5taWxsaXNlY29uZH0pKTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKylzLl9pbmNpZGVudEJ5SWQodFtyXS5pZCkuX29uR2V0Q29udGV4dE9uY2Uocy5jb250ZXh0KX19fX0se2tleTpcImNoZWNrRWRpdFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5pbmNpZGVudHM7cmV0dXJue3Jlc3VsdDohMCxleGVjdXRlOmZ1bmN0aW9uKCl7Zm9yKHZhciBpLHI9MDtyPHQubGVuZ3RoO3IrKyl7aT10W3JdLmlkO2Zvcih2YXIgcz0wO3M8bi5sZW5ndGg7cysrKWlmKG5bc10uaWQ9PT1pKXtuW3NdLm1pbGxpc2Vjb25kKz1lO2JyZWFrfX1uLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubWlsbGlzZWNvbmQtZS5taWxsaXNlY29uZH0pKX19fX0se2tleTpcImNoZWNrRGVsZXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMsbj1bXSxpPTA7aTx0Lmxlbmd0aDtpKyspbi5wdXNoKHRbaV0uaWQpO3JldHVybntyZXN1bHQ6ITAsZXhlY3V0ZTpmdW5jdGlvbigpe3ZhciB0PWUuaW5jaWRlbnRzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIW4uaW5jbHVkZXModC5pZCl9KSk7ZS5pbmNpZGVudHM9dDtmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKylkZWxldGUgZS5pbmNpZGVudHNCeUlkW25baV1dfX19fSx7a2V5OlwiY2hlY2tSZXNpemVkSW5jaWRlbnRzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pbmNpZGVudHM7cmV0dXJue3Jlc3VsdDohMCxleGVjdXRlOmZ1bmN0aW9uKCl7Zm9yKHZhciBuLGk9MDtpPHQubGVuZ3RoO2krKyl7bj10W2ldLmlkO2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl0uaWQ9PT1uKXtlW3JdLm1pbGxpc2Vjb25kKz10W2ldLnN0YXJ0RGVsdGE7YnJlYWt9fWUuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5taWxsaXNlY29uZC1lLm1pbGxpc2Vjb25kfSkpfX19fSx7a2V5OlwibW92ZVRvXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM107aWYoaSlmb3IodmFyIHI9MDtyPHRoaXMuaW5jaWRlbnRzLmxlbmd0aDtyKyspe3ZhciBzPXRoaXMuaW5jaWRlbnRzW3JdLGE9dGhpcy5faW5jaWRlbnRCeUlkKHMuaWQpO2U8cy5taWxsaXNlY29uZD9hLm9uUHJvZ3Jlc3MoMCwwLG4sITApOmU+cy5taWxsaXNlY29uZCthLmR1cmF0aW9uP2Eub25Qcm9ncmVzcygxLGEuZHVyYXRpb24sbiwhMCk6YS5vblByb2dyZXNzKChlLXMubWlsbGlzZWNvbmQpL2EuZHVyYXRpb24sZS1zLm1pbGxpc2Vjb25kLG4sITApfWVsc2V7dmFyIG8sdT10aGlzO289ZT50P3RoaXMuaW5jaWRlbnRzLmZpbHRlcigoZnVuY3Rpb24obil7cmV0dXJuIG4ubWlsbGlzZWNvbmQrdS5faW5jaWRlbnRCeUlkKG4uaWQpLmR1cmF0aW9uPj10JiZuLm1pbGxpc2Vjb25kK3UuX2luY2lkZW50QnlJZChuLmlkKS5kdXJhdGlvbjw9ZXx8dS5faW5jaWRlbnRCeUlkKG4uaWQpLmR1cmF0aW9uK24ubWlsbGlzZWNvbmQ+PWUmJm4ubWlsbGlzZWNvbmQ8PWV9KSk6dGhpcy5pbmNpZGVudHMuZmlsdGVyKChmdW5jdGlvbihuKXtyZXR1cm4gbi5taWxsaXNlY29uZCt1Ll9pbmNpZGVudEJ5SWQobi5pZCkuZHVyYXRpb24+PWUmJm4ubWlsbGlzZWNvbmQrdS5faW5jaWRlbnRCeUlkKG4uaWQpLmR1cmF0aW9uPD10fHx1Ll9pbmNpZGVudEJ5SWQobi5pZCkuZHVyYXRpb24rbi5taWxsaXNlY29uZD49dCYmbi5taWxsaXNlY29uZDw9dH0pKTtmb3IodmFyIGw9MDtsPG8ubGVuZ3RoO2wrKyl7dmFyIGM9b1tsXSxoPXRoaXMuX2luY2lkZW50QnlJZChjLmlkKSxkPShlLWMubWlsbGlzZWNvbmQpL2guZHVyYXRpb24+PTEscD1kPzE6KGUtYy5taWxsaXNlY29uZCkvaC5kdXJhdGlvbixmPWQ/aC5kdXJhdGlvbjplLWMubWlsbGlzZWNvbmQ7aC5vblByb2dyZXNzKHAsZixuLCExKX19fX1dKSxufShFaSksQmk9LjEsUmk9XCJmdW5jdGlvblwiPT10eXBlb2YgRmxvYXQzMkFycmF5O2Z1bmN0aW9uIExpKHQsZSl7cmV0dXJuIDEtMyplKzMqdH1mdW5jdGlvbiBGaSh0LGUpe3JldHVybiAzKmUtNip0fWZ1bmN0aW9uIHppKHQpe3JldHVybiAzKnR9ZnVuY3Rpb24gR2kodCxlLG4pe3JldHVybigoTGkoZSxuKSp0K0ZpKGUsbikpKnQremkoZSkpKnR9ZnVuY3Rpb24gcWkodCxlLG4pe3JldHVybiAzKkxpKGUsbikqdCp0KzIqRmkoZSxuKSp0K3ppKGUpfWZ1bmN0aW9uIEtpKHQpe3JldHVybiB0fXZhciBXaT1mdW5jdGlvbih0LGUsbixpKXtpZighKDA8PXQmJnQ8PTEmJjA8PW4mJm48PTEpKXRocm93IG5ldyBFcnJvcihcImJlemllciB4IHZhbHVlcyBtdXN0IGJlIGluIFswLCAxXSByYW5nZVwiKTtpZih0PT09ZSYmbj09PWkpcmV0dXJuIEtpO2Zvcih2YXIgcj1SaT9uZXcgRmxvYXQzMkFycmF5KDExKTpuZXcgQXJyYXkoMTEpLHM9MDtzPDExOysrcylyW3NdPUdpKHMqQmksdCxuKTtmdW5jdGlvbiBhKGUpe2Zvcih2YXIgaT0wLHM9MTsxMCE9PXMmJnJbc108PWU7KytzKWkrPUJpOy0tczt2YXIgYT1pKyhlLXJbc10pLyhyW3MrMV0tcltzXSkqQmksbz1xaShhLHQsbik7cmV0dXJuIG8+PS4wMDE/ZnVuY3Rpb24odCxlLG4saSl7Zm9yKHZhciByPTA7cjw0Oysrcil7dmFyIHM9cWkoZSxuLGkpO2lmKDA9PT1zKXJldHVybiBlO2UtPShHaShlLG4saSktdCkvc31yZXR1cm4gZX0oZSxhLHQsbik6MD09PW8/YTpmdW5jdGlvbih0LGUsbixpLHIpe3ZhciBzLGEsbz0wO2RveyhzPUdpKGE9ZSsobi1lKS8yLGksciktdCk+MD9uPWE6ZT1hfXdoaWxlKE1hdGguYWJzKHMpPjFlLTcmJisrbzwxMCk7cmV0dXJuIGF9KGUsaSxpK0JpLHQsbil9cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiAwPT09dD8wOjE9PT10PzE6R2koYSh0KSxlLGkpfX07ZnVuY3Rpb24gSmkodCl7dC5kZXNjcmlwdG9yLnZhbHVlPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAsZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxuPXt9O3JldHVybiBuW3RoaXMubWNfcGx1Z2luX25wbV9uYW1lXT1be21pbGxpc2Vjb25kOnQscGFyZW50TWlsbGlzZWNvbmQ6ZSxpbmNpZGVudDp0aGlzLGlkOnRoaXMuaWR9XSxufX12YXIgSGk9UChudWxsLChmdW5jdGlvbih0KXtyZXR1cm57RjpmdW5jdGlvbiBlKCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHM9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDA7cih0aGlzLGUpLHQodGhpcyksdGhpcy5hdHRycz1uLHRoaXMucHJvcHM9aSx0aGlzLmRuYT1zLHRoaXMuY29udGV4dD1zLmNvbnRleHQsdGhpcy5tY2lkPXMubWNpZCx0aGlzLmlkPWkuaWR8fGZpKCksdGhpcy5tb2RlbElkPWkubW9kZWxJZCx0aGlzLmdvdENvbnRleHQ9ITEsdGhpcy5wbHVnaW5fY2hhbm5lbF9jbGFzcz1FaSx0aGlzLm1jX3BsdWdpbl9ucG1fbmFtZT1cIm1vdG9yLWNvcnRleC1qc1wiLGlpKGksXCJwbHVnaW5fY2hhbm5lbF9jbGFzc1wiKSYmKHRoaXMucGx1Z2luX2NoYW5uZWxfY2xhc3M9aS5wbHVnaW5fY2hhbm5lbF9jbGFzcyksaWkoaSxcIm1jX3BsdWdpbl9ucG1fbmFtZVwiKSYmKHRoaXMubWNfcGx1Z2luX25wbV9uYW1lPWkubWNfcGx1Z2luX25wbV9uYW1lKSx0aGlzLmhhc0luY2lkZW50cz0hMSx0aGlzLmluaXRpYWxWYWx1ZXM9e30sdGhpcy51c2VyRGVmaW5lZEluaXRpYWxWYWx1ZXM9bi5pbml0aWFsVmFsdWVzfHx7fSx0aGlzLnB1cmVJbml0aWFsVmFsdWVzPW51bGwsdGhpcy5hdXRvR2VuZXJhdGVkPSExLHRoaXMub25Jbml0aWFsaXNlKCl9LGQ6W3traW5kOlwiZ2V0XCIsa2V5Olwic2VsZWN0b3JcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BzLnNlbGVjdG9yfX0se2tpbmQ6XCJnZXRcIixrZXk6XCJhbmltQXR0cmlidXRlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0cnMuYW5pbWF0ZWRBdHRyc319LHtraW5kOlwic2V0XCIsa2V5OlwiYW5pbUF0dHJpYnV0ZXNcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmF0dHJzLmFuaW1hdGVkQXR0cnNbdGhpcy5hdHRyaWJ1dGVLZXldPXR9fSx7a2luZDpcIm1ldGhvZFwiLGtleTpcImdldFNjcmF0Y2hWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIDB9fSx7a2luZDpcImdldFwiLGtleTpcImVsZW1lbnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5jb250ZXh0P1tdOnRoaXMuY29udGV4dC5nZXRFbGVtZW50QnlNQ0lEP3RoaXMuY29udGV4dC5nZXRFbGVtZW50QnlNQ0lEKHRoaXMubWNpZCk6dGhpcy5jb250ZXh0LmdldEVsZW1lbnRzKHRoaXMuc2VsZWN0b3IpWzBdfX0se2tpbmQ6XCJnZXRcIixrZXk6XCJhdHRyaWJ1dGVLZXlcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLmF0dHJzLmFuaW1hdGVkQXR0cnMpWzBdfX0se2tpbmQ6XCJnZXRcIixrZXk6XCJ0YXJnZXRWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYW5pbUF0dHJpYnV0ZXNbdGhpcy5hdHRyaWJ1dGVLZXldfX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJnZXRFbGVtZW50QXR0cmlidXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUodCl9fSx7a2luZDpcIm1ldGhvZFwiLGRlY29yYXRvcnM6W0ppXSxrZXk6XCJnZXRJbmNpZGVudHNCeUNoYW5uZWxcIix2YWx1ZTpmdW5jdGlvbigpe319LHtraW5kOlwibWV0aG9kXCIsa2V5OlwiaGFzVXNlckRlZmluZWRJbml0aWFsVmFsdWVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBpaSh0aGlzLnVzZXJEZWZpbmVkSW5pdGlhbFZhbHVlcyx0aGlzLmF0dHJpYnV0ZUtleSl9fSx7a2luZDpcIm1ldGhvZFwiLGtleTpcInNldEluaXRpYWxWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07aWYoZSYmKHRoaXMucHVyZUluaXRpYWxWYWx1ZXM9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0KSkpLHRoaXMuaGFzVXNlckRlZmluZWRJbml0aWFsVmFsdWUoKSlpZihlaSh0aGlzLnRhcmdldFZhbHVlKSl7Zm9yKHZhciBuIGluIHRoaXMudXNlckRlZmluZWRJbml0aWFsVmFsdWVzW3RoaXMuYXR0cmlidXRlS2V5XSl0W25dPXRoaXMudXNlckRlZmluZWRJbml0aWFsVmFsdWVzW3RoaXMuYXR0cmlidXRlS2V5XVtuXTt0aGlzLmluaXRpYWxWYWx1ZXNbdGhpcy5hdHRyaWJ1dGVLZXldPXR9ZWxzZSB0aGlzLmluaXRpYWxWYWx1ZXNbdGhpcy5hdHRyaWJ1dGVLZXldPXRoaXMudXNlckRlZmluZWRJbml0aWFsVmFsdWVzW3RoaXMuYXR0cmlidXRlS2V5XTtlbHNlIHRoaXMuaW5pdGlhbFZhbHVlc1t0aGlzLmF0dHJpYnV0ZUtleV09dH19LHtraW5kOlwiZ2V0XCIsa2V5OlwiaW5pdGlhbFZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0aWFsVmFsdWVzW3RoaXMuYXR0cmlidXRlS2V5XX19LHtraW5kOlwibWV0aG9kXCIsa2V5OlwiX29uR2V0Q29udGV4dE9uY2VcIix2YWx1ZTpmdW5jdGlvbigpe3RyeXtpZighMD09PXRoaXMuY29udGV4dC5mcmFnbWVudClyZXR1cm47dGhpcy5nb3RDb250ZXh0fHwodGhpcy5vbkdldENvbnRleHQoKSx0aGlzLmdvdENvbnRleHQ9ITApfWNhdGNoKHQpe3lpLmVycm9yKHQpLHlpLmVycm9yKHRoaXMubWNpZCl9fX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJvbkdldENvbnRleHRcIix2YWx1ZTpmdW5jdGlvbigpe3lpLmluZm8oJ092ZXJ3cml0dGUgdGhlIFwib25HZXRDb250ZXh0XCIgbWV0aG9kIHdpdGggdGhlIGNvZGUgeW91IHdhbnQgdG8gZ2V0IGV4ZWN1dGVkJyxcImluZm9cIil9fSx7a2luZDpcIm1ldGhvZFwiLGtleTpcImxhc3RXaXNoXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2luZDpcIm1ldGhvZFwiLGtleTpcIm9uSW5pdGlhbGlzZVwiLHZhbHVlOmZ1bmN0aW9uKCl7eWkuaW5mbygnT3ZlcndyaXR0ZSB0aGUgXCJvbkluaWFsaXNlXCIgbWV0aG9kIHdpdGggdGhlIGNvZGUgeW91IHdhbnQgdG8gZ2V0IGV4ZWN1dGVkJyxcImluZm9cIil9fSx7a2luZDpcIm1ldGhvZFwiLGtleTpcIm9uUHJvZ3Jlc3NcIix2YWx1ZTpmdW5jdGlvbih0LGUpe319LHtraW5kOlwibWV0aG9kXCIsZGVjb3JhdG9yczpbVmldLGtleTpcInNldEJsb2NrXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2luZDpcIm1ldGhvZFwiLGRlY29yYXRvcnM6WyRpXSxrZXk6XCJ1bmJsb2NrXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fV19fSkpLFVpPWZ1bmN0aW9uKHQpe3UoaSx0KTt2YXIgZT1wKGkpO2Z1bmN0aW9uIGkodCxuLHMpe3ZhciBhO3JldHVybiByKHRoaXMsaSksKGE9ZS5jYWxsKHRoaXMsdCxuLHMpKS5ydW5UaW1lSW5mbz17Y3VycmVudE1pbGxpc2Vjb25kOjB9LGF9cmV0dXJuIGEoaSxbe2tleTpcImR1cmF0aW9uXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRGVzY3JpcHRpdmVJbmNpZGVudC5yZWFsQ2xpcC5kdXJhdGlvbn19LHtrZXk6XCJsYXN0V2lzaFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5vd25DbGlwJiZ0aGlzLm93bkNsaXAuY29udGV4dC51bm1vdW50KCl9fSx7a2V5Olwib25HZXRDb250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlLGk9dGhpcyxyPXRoaXMuRGVzY3JpcHRpdmVJbmNpZGVudC5yZWFsQ2xpcC5leHBvcnRDb25zdHJ1Y3Rpb25Bcmd1bWVudHMoKSxzPSh0PXRoaXMuY29udGV4dCxlPXRoaXMubWNpZCx0LnJvb3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbXCIuY29uY2F0KCQsJz1cIicpLmNvbmNhdChlLCdcIl0nKSlbMF0pLGE9bihuKHt9LHIucHJvcHMpLHt9LHtzZWxlY3Rvcjp2b2lkIDAsaG9zdDpzLGNvbnRhaW5lclBhcmFtczp0aGlzLkRlc2NyaXB0aXZlSW5jaWRlbnQucHJvcHMuY29udGFpbmVyUGFyYW1zfHx7fSxvcmlnaW5hbERpbXM6dGhpcy5EZXNjcmlwdGl2ZUluY2lkZW50LmNvbnN0cnVjdG9yLm9yaWdpbmFsRGltc3x8e319KTt0aGlzLm93bkNsaXA9bmV3IHRoaXMuRGVzY3JpcHRpdmVJbmNpZGVudC5jb25zdHJ1Y3Rvci5JbmNpZGVudChyLmF0dHJzLGEpLHRoaXMub3duQ2xpcC5EZXNjcmlwdGl2ZUluY2lkZW50PXRoaXMuRGVzY3JpcHRpdmVJbmNpZGVudCx0aGlzLkRlc2NyaXB0aXZlSW5jaWRlbnQucmVhbENsaXAuYWRkQ29udGV4dCh7Y2xpcElkOnRoaXMuaWQsY29udGV4dDp0aGlzLm93bkNsaXAuY29udGV4dCx1bmJsb2NrOmZ1bmN0aW9uKCl7cmV0dXJuIGkudW5ibG9jaygpfX0sITApfX0se2tleTpcIm9uUHJvZ3Jlc3NcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl07aWYoITEhPT10aGlzLkRlc2NyaXB0aXZlSW5jaWRlbnQucmVhbENsaXAuY29udGV4dC5jb250ZXh0TG9hZGVkKXtmb3IodmFyIGkgaW4gdGhpcy5EZXNjcmlwdGl2ZUluY2lkZW50LnJlYWxDbGlwLmluc3RhbnRpYXRlZENoYW5uZWxzKXt2YXIgcj10aGlzLkRlc2NyaXB0aXZlSW5jaWRlbnQucmVhbENsaXAuaW5zdGFudGlhdGVkQ2hhbm5lbHNbaV07ci5tb3ZlVG8odGhpcy5ydW5UaW1lSW5mby5jdXJyZW50TWlsbGlzZWNvbmQsZSx0aGlzLmlkLG4pfXRoaXMucnVuVGltZUluZm8uY3VycmVudE1pbGxpc2Vjb25kPWUsdGhpcy5vd25DbGlwLm9uQWZ0ZXJQcm9ncmVzcyh0LGUpfWVsc2UgdGhpcy5zZXRCbG9jaygpfX1dKSxpfShIaSk7ZnVuY3Rpb24gWmkodCl7dmFyIGU9bmV3IHQuSW5jaWRlbnQodC5hdHRycyxuKG4oe30sdC5wcm9wcykse30se2lkOnQuaWR8fGZpKCl9KSx7Y29udGV4dDp0LmNvbnRleHQsbWNpZDp0Lm1jaWR9KTtyZXR1cm4gZS5tY19wbHVnaW5fbnBtX25hbWU9dC5wbHVnaW5fbnBtX25hbWUsZS5wbHVnaW5fY2hhbm5lbF9jbGFzcz10LkNoYW5uZWwsZS5EZXNjcmlwdGl2ZUluY2lkZW50PXQuRGVzY3JpcHRpdmVJbmNpZGVudCxlfXZhciBRaT1QKG51bGwsKGZ1bmN0aW9uKHQsZSl7cmV0dXJue0Y6ZnVuY3Rpb24oZSl7dShzLGUpO3ZhciBpPXAocyk7ZnVuY3Rpb24gcyhlLGEsbyx1KXt2YXIgbDtyZXR1cm4gcih0aGlzLHMpLGw9aS5jYWxsKHRoaXMsbihuKHt9LGUucHJvcHMpLHt9LHtpZDpcIlwiLmNvbmNhdChlLmluY2lkZW50SWQsXCJfXCIpLmNvbmNhdChvKX0pKSx0KGgobCkpLGwuY29udGV4dHM9e30sbC5jb25zdHJ1Y3Rpb25JbmdyZWRpZW50cz1lLGwubWNpZD1vLGwuRGVzY3JpcHRpdmVJbmNpZGVudD11LGwubWNfcGx1Z2luX25wbV9uYW1lPWUucGx1Z2luX25wbV9uYW1lLGwucGx1Z2luX2NoYW5uZWxfY2xhc3M9ZS5DaGFubmVsLGwuYWRkQ29udGV4dChhKSxsLnRpbWVTY2FsZT0xLHUucmVhbENsaXAuZHVyYXRpb24+MCYmKGwudGltZVNjYWxlPWwucHJvcHMuZHVyYXRpb24vdS5yZWFsQ2xpcC5kdXJhdGlvbiksdS5yZWFsQ2xpcC5zdWJzY3JpYmVUb0R1cmF0aW9uQ2hhbmdlKChmdW5jdGlvbih0KXtsLnByb3BzLmR1cmF0aW9uPWwudGltZVNjYWxlKnQsbC5wdXRNZXNzYWdlT25QaXBlKFwicmVjYWxjRHVyYXRpb25cIix7fSxcIkdyb3Vwc1wiLHtzZWxmRXhlY3V0ZTohMSxkaXJlY3Rpb246QWl9KX0pKSxsLmVhc2luZz16bi5saW5lYXIsaWkobC5wcm9wcyxcImVhc2luZ1wiKSYmKEFycmF5LmlzQXJyYXkobC5wcm9wcy5lYXNpbmcpP2wuZWFzaW5nPVdpKGwucHJvcHMuZWFzaW5nWzBdLGwucHJvcHMuZWFzaW5nWzFdLGwucHJvcHMuZWFzaW5nWzJdLGwucHJvcHMuZWFzaW5nWzNdKTpsLmVhc2luZz16bltsLnByb3BzLmVhc2luZ10pLGx9cmV0dXJuIHN9KGUpLGQ6W3traW5kOlwiZ2V0XCIsa2V5Olwib3JpZ2luYWxDb250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0c1t0aGlzLm9yaWdpbmFsQ29udGV4dEtleV19fSx7a2luZDpcIm1ldGhvZFwiLGtleTpcIm9uUHJvZ3Jlc3NcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXSxyPXRoaXMuZGVsYXkrdGhpcy5wcm9wcy5kdXJhdGlvbit0aGlzLmhpYXR1cyxzPWUlcjswIT09ZSYmMD09PXMmJihzPXRoaXMuZGVsYXkrdGhpcy5wcm9wcy5kdXJhdGlvbik7dmFyIGE9cy10aGlzLmRlbGF5O2E8MD9hPTA6YT50aGlzLnByb3BzLmR1cmF0aW9uJiYoYT10aGlzLnByb3BzLmR1cmF0aW9uKTt2YXIgbz0wPT09dGhpcy5wcm9wcy5kdXJhdGlvbj8wOmEvdGhpcy5wcm9wcy5kdXJhdGlvbix1PXRoaXMuZWFzaW5nKG8pLGw9dSp0aGlzLnByb3BzLmR1cmF0aW9uKigxL3RoaXMudGltZVNjYWxlKTshMSE9PXRoaXMub3JpZ2luYWxDb250ZXh0LmNvbnRleHQuY29udGV4dExvYWRlZCYmdGhpcy5jb250ZXh0c1tuXS5vblByb2dyZXNzKHUsbCxpKX19LHtraW5kOlwibWV0aG9kXCIsa2V5OlwiYWRkQ29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07MD09PU9iamVjdC5rZXlzKHRoaXMuY29udGV4dHMpLmxlbmd0aCYmKHRoaXMub3JpZ2luYWxDb250ZXh0S2V5PXQuY2xpcElkKTt2YXIgaT1uKG4oe30sdGhpcy5jb25zdHJ1Y3Rpb25JbmdyZWRpZW50cykse30se2NvbnRleHQ6dC5jb250ZXh0LG1jaWQ6dGhpcy5tY2lkLEluY2lkZW50OlVpLERlc2NyaXB0aXZlSW5jaWRlbnQ6dGhpcy5EZXNjcmlwdGl2ZUluY2lkZW50fSk7dGhpcy5jb250ZXh0c1t0LmNsaXBJZF09WmkoaSksZSYmdGhpcy5jb250ZXh0c1t0LmNsaXBJZF0uX29uR2V0Q29udGV4dE9uY2UoKX19LHtraW5kOlwibWV0aG9kXCIsa2V5OlwiaGFuZGxlQWRkQ29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYWRkQ29udGV4dChlLCEwKSwhMH19LHtraW5kOlwibWV0aG9kXCIsa2V5OlwiaGFuZGxlQ29udGV4dExvYWRlZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5fb25HZXRDb250ZXh0T25jZSgpfX0se2tpbmQ6XCJtZXRob2RcIixkZWNvcmF0b3JzOltKaV0sa2V5OlwiZ2V0SW5jaWRlbnRzQnlDaGFubmVsXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2luZDpcIm1ldGhvZFwiLGtleTpcImdvdENvbnRleHRcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLmNvbnRleHRzKXRoaXMuY29udGV4dHNbdF0uZ290Q29udGV4dCgpfX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJfb25HZXRDb250ZXh0T25jZVwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoITEhPT10aGlzLm9yaWdpbmFsQ29udGV4dC5jb250ZXh0TG9hZGVkKWZvcih2YXIgdCBpbiB0aGlzLmNvbnRleHRzKXRoaXMuY29udGV4dHNbdF0uX29uR2V0Q29udGV4dE9uY2UoKX19LHtraW5kOlwibWV0aG9kXCIsa2V5OlwibGFzdFdpc2hcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLmNvbnRleHRzKXRoaXMuY29udGV4dHNbdF0ubGFzdFdpc2goKX19LHtraW5kOlwibWV0aG9kXCIsa2V5Olwib25HZXRDb250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24oKXtpZighMSE9PXRoaXMub3JpZ2luYWxDb250ZXh0LmNvbnRleHRMb2FkZWQpZm9yKHZhciB0IGluIHRoaXMuY29udGV4dHMpdGhpcy5jb250ZXh0c1t0XS5vbkdldENvbnRleHQoKX19XX19KSxUaSksWGk9UChudWxsLChmdW5jdGlvbih0LGUpe3ZhciBpPWZ1bmN0aW9uKGUpe3UocyxlKTt2YXIgaT1wKHMpO2Z1bmN0aW9uIHMoZSxhLG8sdSl7dmFyIGw7aWYocih0aGlzLHMpLGw9aS5jYWxsKHRoaXMsbihuKHt9LGUucHJvcHMpLHt9LHtpZDpudWxsIT09dT9cIlwiLmNvbmNhdChlLmluY2lkZW50SWQsXCJfXCIpLmNvbmNhdChvLFwiX1wiKS5jb25jYXQodSk6XCJcIi5jb25jYXQoZS5pbmNpZGVudElkLFwiX1wiKS5jb25jYXQobyl9KSksdChoKGwpKSxsLmNvbnRleHRzPXt9LGwuY29uc3RydWN0aW9uSW5ncmVkaWVudHM9ZSxsLm1jaWQ9byxsLmF0dHJpYnV0ZT11LGwubWNfcGx1Z2luX25wbV9uYW1lPWUucGx1Z2luX25wbV9uYW1lLGwucGx1Z2luX2NoYW5uZWxfY2xhc3M9ZS5DaGFubmVsLGwuRGVzY3JpcHRpdmVJbmNpZGVudD1lLkRlc2NyaXB0aXZlSW5jaWRlbnQsbC5hZGRDb250ZXh0KGEpLG51bGwhPT11KXt2YXIgYz1sLmNvbnN0cnVjdGlvbkluZ3JlZGllbnRzLmF0dHJzLmFuaW1hdGVkQXR0cnNbbC5hdHRyaWJ1dGVdO0FycmF5LmlzQXJyYXkoYyk/bC5vcmlnaW5hbEFuaW1hdGVkQXR0cmlidXRlVmFsdWU9ayhjKTplaShjKT9sLm9yaWdpbmFsQW5pbWF0ZWRBdHRyaWJ1dGVWYWx1ZT1uKHt9LGMpOmwub3JpZ2luYWxBbmltYXRlZEF0dHJpYnV0ZVZhbHVlPWN9cmV0dXJuIGwuZWFzaW5nPXpuLmxpbmVhcixpaShsLnByb3BzLFwiZWFzaW5nXCIpJiYoQXJyYXkuaXNBcnJheShsLnByb3BzLmVhc2luZyk/bC5lYXNpbmc9V2kobC5wcm9wcy5lYXNpbmdbMF0sbC5wcm9wcy5lYXNpbmdbMV0sbC5wcm9wcy5lYXNpbmdbMl0sbC5wcm9wcy5lYXNpbmdbM10pOmwuZWFzaW5nPXpuW2wucHJvcHMuZWFzaW5nXSksbH1yZXR1cm4gc30oZSk7cmV0dXJue0Y6aSxkOlt7a2luZDpcImdldFwiLGtleTpcIm9yaWdpbmFsQ29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dHNbdGhpcy5vcmlnaW5hbENvbnRleHRLZXldfX0se2tpbmQ6XCJnZXRcIixrZXk6XCJkdXJhdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG0obChpLnByb3RvdHlwZSksXCJkdXJhdGlvblwiLHRoaXMpfX0se2tpbmQ6XCJzZXRcIixrZXk6XCJkdXJhdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiBnKGwoaS5wcm90b3R5cGUpLFwiZHVyYXRpb25cIix0LHRoaXMsITApLHRoaXMuY29udGV4dHMpdGhpcy5jb250ZXh0c1tlXS5kdXJhdGlvbj10fX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJhZGRDb250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxpPSExOzA9PT1PYmplY3Qua2V5cyh0aGlzLmNvbnRleHRzKS5sZW5ndGgmJih0aGlzLm9yaWdpbmFsQ29udGV4dEtleT10LmNsaXBJZCx0aGlzLm9yaWdpbmFsQ2xpcENvbnRleHQ9dC5jb250ZXh0LGk9ITApO3ZhciByPW4obih7fSx0aGlzLmNvbnN0cnVjdGlvbkluZ3JlZGllbnRzKSx7fSx7Y29udGV4dDp0LmNvbnRleHQsbWNpZDp0aGlzLm1jaWR9KSxzPVppKHIpO3RoaXMuY29udGV4dHNbdC5jbGlwSWRdPXMsaXx8bnVsbD09dGhpcy5hdHRyaWJ1dGV8fHRoaXMuY29udGV4dHNbdC5jbGlwSWRdLnNldEluaXRpYWxWYWx1ZSh0aGlzLmluaXRpYWxWYWx1ZSksZSYmdGhpcy5jb250ZXh0c1t0LmNsaXBJZF0uY29udGV4dC5jb250ZXh0TG9hZGVkJiZ0aGlzLmNvbnRleHRzW3QuY2xpcElkXS5fb25HZXRDb250ZXh0T25jZSgpfX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJoYW5kbGVBZGRDb250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5hZGRDb250ZXh0KGUsITApLCEwfX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJoYW5kbGVDb250ZXh0TG9hZGVkXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fb25HZXRDb250ZXh0T25jZSgpLCEwfX0se2tpbmQ6XCJtZXRob2RcIixkZWNvcmF0b3JzOltKaV0sa2V5OlwiZ2V0SW5jaWRlbnRzQnlDaGFubmVsXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2luZDpcIm1ldGhvZFwiLGtleTpcIm9uUHJvZ3Jlc3NcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIGk9ZSUodGhpcy5kZWxheSt0aGlzLnByb3BzLmR1cmF0aW9uK3RoaXMuaGlhdHVzKTswIT09ZSYmMD09PWkmJihpPXRoaXMuZGVsYXkrdGhpcy5wcm9wcy5kdXJhdGlvbik7dmFyIHI9aS10aGlzLmRlbGF5O3I8MD9yPTA6cj50aGlzLnByb3BzLmR1cmF0aW9uJiYocj10aGlzLnByb3BzLmR1cmF0aW9uKTt2YXIgcz1yL3RoaXMucHJvcHMuZHVyYXRpb24sYT10aGlzLmVhc2luZyhzKSxvPWEqdGhpcy5wcm9wcy5kdXJhdGlvbjtpZihudWxsIT1uKSExIT09dGhpcy5vcmlnaW5hbENvbnRleHQuY29udGV4dC5jb250ZXh0TG9hZGVkJiZ0aGlzLmNvbnRleHRzW25dLm9uUHJvZ3Jlc3MoYSxvKTtlbHNlIGZvcih2YXIgdSBpbiB0aGlzLmNvbnRleHRzKXRoaXMub3JpZ2luYWxDb250ZXh0S2V5PT09dSYmITA9PT10aGlzLm9yaWdpbmFsQ29udGV4dC5mcmFnbWVudHx8dGhpcy5jb250ZXh0c1t1XS5vblByb2dyZXNzKGEsbyl9fSx7a2luZDpcImdldFwiLGtleTpcImFuaW1hdGVkQXR0cmlidXRlVmFsdWVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdGlvbkluZ3JlZGllbnRzLmF0dHJzLmFuaW1hdGVkQXR0cnNbdGhpcy5hdHRyaWJ1dGVdfX0se2tpbmQ6XCJzZXRcIixrZXk6XCJhbmltYXRlZEF0dHJpYnV0ZVZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5jb25zdHJ1Y3Rpb25JbmdyZWRpZW50cy5hdHRycy5hbmltYXRlZEF0dHJzW3RoaXMuYXR0cmlidXRlXT10fX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJnb3RDb250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5jb250ZXh0cyl0aGlzLmNvbnRleHRzW3RdLmdvdENvbnRleHQoKX19LHtraW5kOlwibWV0aG9kXCIsa2V5OlwiX29uR2V0Q29udGV4dE9uY2VcIix2YWx1ZTpmdW5jdGlvbigpe2lmKCExIT09dGhpcy5vcmlnaW5hbENvbnRleHQuY29udGV4dC5jb250ZXh0TG9hZGVkKWZvcih2YXIgdCBpbiB0aGlzLmNvbnRleHRzKXRoaXMuY29udGV4dHNbdF0uX29uR2V0Q29udGV4dE9uY2UoKX19LHtraW5kOlwibWV0aG9kXCIsa2V5OlwibGFzdFdpc2hcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLmNvbnRleHRzKXRoaXMuY29udGV4dHNbdF0ubGFzdFdpc2goKX19LHtraW5kOlwibWV0aG9kXCIsa2V5Olwib25HZXRDb250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24oKXtpZighMSE9PXRoaXMub3JpZ2luYWxDb250ZXh0LmNvbnRleHRMb2FkZWQpZm9yKHZhciB0IGluIHRoaXMuY29udGV4dHMpdGhpcy5jb250ZXh0c1t0XS5jb250ZXh0LmNvbnRleHRMb2FkZWQmJnRoaXMuY29udGV4dHNbdF0ub25HZXRDb250ZXh0KCl9fSx7a2luZDpcImdldFwiLGtleTpcImluaXRpYWxWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3JpZ2luYWxDb250ZXh0LmluaXRpYWxWYWx1ZX19LHtraW5kOlwiZ2V0XCIsa2V5Olwic2NyYXRjaFZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcmlnaW5hbENvbnRleHQuc2NyYXRjaFZhbHVlfX0se2tpbmQ6XCJnZXRcIixrZXk6XCJwdXJlSW5pdGlhbFZhbHVlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3JpZ2luYWxDb250ZXh0LnB1cmVJbml0aWFsVmFsdWVzfX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJzZXRJbml0aWFsVmFsdWVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsLGU9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTtmb3IodmFyIG4gaW4gbnVsbD09PXQmJih0PXRoaXMuZ2V0U2NyYXRjaFZhbHVlKCkpLHRoaXMuY29udGV4dHMpdGhpcy5jb250ZXh0c1tuXS5zZXRJbml0aWFsVmFsdWUoSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0KSksZSl9fSx7a2luZDpcIm1ldGhvZFwiLGtleTpcImdldFNjcmF0Y2hWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGw7aWYoIXRoaXMub3JpZ2luYWxDb250ZXh0LmNvbnRleHQuY29udGV4dExvYWRlZClyZXR1cm4gMDtpZihudWxsIT10KXJldHVybiB0aGlzLmNvbnRleHRzW3RdLmdldFNjcmF0Y2hWYWx1ZSgpO3ZhciBlPU9iamVjdC5rZXlzKHRoaXMuY29udGV4dHMpO2lmKGlpKHRoaXMub3JpZ2luYWxDbGlwQ29udGV4dCxcIm5vbkZyYWdtZW50ZWRDb250ZXh0XCIpKXt2YXIgaT1uKG4oe30sdGhpcy5jb25zdHJ1Y3Rpb25JbmdyZWRpZW50cykse30se2NvbnRleHQ6dGhpcy5vcmlnaW5hbENsaXBDb250ZXh0Lm5vbkZyYWdtZW50ZWRDb250ZXh0LG1jaWQ6dGhpcy5tY2lkfSkscj1aaShpKTtyZXR1cm4gci5nZXRTY3JhdGNoVmFsdWUoKX1yZXR1cm4gMT09PWUubGVuZ3RoP3RoaXMub3JpZ2luYWxDb250ZXh0LmdldFNjcmF0Y2hWYWx1ZSgpOnRoaXMuY29udGV4dHNbZVsxXV0uZ2V0U2NyYXRjaFZhbHVlKCl9fSx7a2luZDpcIm1ldGhvZFwiLGtleTpcInNldENvbXBvQXR0cktleVZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gdGhpcy5jb250ZXh0cyl0aGlzLmNvbnRleHRzW25dLmF0dHJzLmFuaW1hdGVkQXR0cnNbdGhpcy5hdHRyaWJ1dGVdW3RdPWUsdGhpcy5jb250ZXh0c1tuXS5sYXN0V2lzaCgpLHRoaXMuY29udGV4dHNbbl0ub25HZXRDb250ZXh0KCl9fSx7a2luZDpcIm1ldGhvZFwiLGtleTpcInBsYXlcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuY29udGV4dHNbbl0ucGxheShlKX19LHtraW5kOlwibWV0aG9kXCIsa2V5Olwic3RvcFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuY29udGV4dHNbdF0uc3RvcCgpfX1dfX0pLFRpKSxZaT1mdW5jdGlvbih0KXt1KGksdCk7dmFyIGU9cChpKTtmdW5jdGlvbiBpKHQsbixzLGEsbyl7dmFyIHU7cmV0dXJuIHIodGhpcyxpKSwodT1lLmNhbGwodGhpcyx7fSx7aWQ6XCJcIi5jb25jYXQodC5pZCxcIl9cIikuY29uY2F0KHMpfSkpLm1jaWQ9cyx1LnNlbGVjdG9yPWEsdS5kYXRhPW8sdS5zZXRVcCh0LG4pLHV9cmV0dXJuIGEoaSxbe2tleTpcInNldFVwXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gdGhpcy5kYXRhLmF0dHJzLmFuaW1hdGVkQXR0cnMpe3ZhciByPXt9O3JbaV09dGhpcy5kYXRhLmF0dHJzLmFuaW1hdGVkQXR0cnNbaV07dmFyIHM9bihuKHt9LHRoaXMuZGF0YS5hdHRycykse30se2FuaW1hdGVkQXR0cnM6cn0pLGE9bihuKHt9LHRoaXMuZGF0YS5wcm9wcykse30se3NlbGVjdG9yOnRoaXMuc2VsZWN0b3J9KSxvPXtpbmNpZGVudElkOnQuaWQsYXR0cnM6cyxwcm9wczphLEluY2lkZW50OnQuY29uc3RydWN0b3IuSW5jaWRlbnQscGx1Z2luX25wbV9uYW1lOnQuY29uc3RydWN0b3IucGx1Z2luX25wbV9uYW1lLENoYW5uZWw6dC5jb25zdHJ1Y3Rvci5DaGFubmVsLERlc2NyaXB0aXZlSW5jaWRlbnQ6dH0sdT1uZXcgWGkobyxlLHRoaXMubWNpZCxpKTt0aGlzLmFkZENoaWxkKHUsMCl9fX1dKSxpfShOaSk7dmFyIHRyPWZ1bmN0aW9uKHQpe3Uobix0KTt2YXIgZT1wKG4pO2Z1bmN0aW9uIG4odCxpKXt2YXIgcztyZXR1cm4gcih0aGlzLG4pLChzPWUuY2FsbCh0aGlzLHt9LHtpZDp0LmlkfSkpLmNvbnRleHRzPXt9LHMuY29udGV4dHNbaS5jbGlwSWRdPWkuY29udGV4dCxzLm9yaWdpbmFsQ29udGV4dEtleT1pLmNsaXBJZCxzLmluaXRQYXJhbXM9aS5jb250ZXh0LmluaXRQYXJhbXMscy5pbnN0YW50aWF0ZWRDb3BpZXNDb250ZXh0cz1pLmluc3RhbnRpYXRlZENvcGllc0NvbnRleHRzLHMuZGVzY3JpcHRpdmVJbmNpZGVudD10LHMuc3RhZ2dlckF0dHJzPVtdLHMuc3RhZ2dlclByb3BzPVtdLHMuc2V0VXAodCxpKSxzfXJldHVybiBhKG4sW3trZXk6XCJvcmlnaW5hbENvbnRleHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0c1t0aGlzLm9yaWdpbmFsQ29udGV4dEtleV19fSx7a2V5OlwicGFyc2VQcm9wc0R5bmFtaWNWYWx1ZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbixpPTA7aTx0LnByb3BzU3RhZ2dlcnMubGVuZ3RoO2krKyluPXQucHJvcHNTdGFnZ2Vyc1tpXSx0aGlzLnN0YWdnZXJQcm9wcy5wdXNoKHtwYXRoOm4ucGF0aCx2YWx1ZXM6bi5zdGFnZ2VyLmNhbGN1bGF0ZVZhbHVlcyhlLHRoaXMuaW5pdFBhcmFtcyl9KX19LHtrZXk6XCJwYXJzZUF0dHJzRHluYW1pY1ZhbHVlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuLGk9MDtpPHQuYXR0cmlidXRlc1N0YWdnZXJzLmxlbmd0aDtpKyspbj10LmF0dHJpYnV0ZXNTdGFnZ2Vyc1tpXSx0aGlzLnN0YWdnZXJBdHRycy5wdXNoKHtwYXRoOm4ucGF0aCx2YWx1ZXM6bi5zdGFnZ2VyLmNhbGN1bGF0ZVZhbHVlcyhlLHRoaXMuaW5pdFBhcmFtcyl9KX19LHtrZXk6XCJzZXRVcFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyPXRoaXMub3JpZ2luYWxDb250ZXh0LmdldEVsZW1lbnRzKHQuc2VsZWN0b3IoKSk7dGhpcy5wYXJzZVByb3BzRHluYW1pY1ZhbHVlcyh0LHIpLHRoaXMucGFyc2VBdHRyc0R5bmFtaWNWYWx1ZXModCxyKTtmb3IodmFyIHM9MDtzPHIubGVuZ3RoO3MrKyl7Zm9yKHZhciBhIGluIG49cltzXSxpPXRoaXMuX2dldEVsZW1lbnRNQ0lEKG4pLHRoaXMuaW5zdGFudGlhdGVkQ29waWVzQ29udGV4dHMpdGhpcy5fc2V0RWxlbWVudE1DSUQodGhpcy5pbnN0YW50aWF0ZWRDb3BpZXNDb250ZXh0c1thXSx0aGlzLmluc3RhbnRpYXRlZENvcGllc0NvbnRleHRzW2FdLmdldEVsZW1lbnRzKHQuc2VsZWN0b3IoKSlbc10saSk7dGhpcy5fY3JlYXRlRWxlbWVudEluY2lkZW50KG4sdCxlLHMsci5sZW5ndGgsaSl9fX0se2tleTpcImhhbmRsZVJlY2FsY0R1cmF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1tKGwobi5wcm90b3R5cGUpLFwiaGFuZGxlUmVjYWxjRHVyYXRpb25cIix0aGlzKS5jYWxsKHRoaXMsdCxlKTtyZXR1cm4gdGhpcy5kZXNjcmlwdGl2ZUluY2lkZW50LnByb3BzU3RhZ2dlcnMubGVuZ3RoPjAmJih0aGlzLmRlc2NyaXB0aXZlSW5jaWRlbnQuZHluYW1pY0R1cmF0aW9uVmFsdWU9MSp0aGlzLmR1cmF0aW9uKSxpfX0se2tleTpcImxhc3RXaXNoXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmRlc2NyaXB0aXZlSW5jaWRlbnQucHJvcHNTdGFnZ2Vycy5sZW5ndGg+MCYmKHRoaXMuZGVzY3JpcHRpdmVJbmNpZGVudC5keW5hbWljRHVyYXRpb25WYWx1ZT1udWxsLHRoaXMuZGVzY3JpcHRpdmVJbmNpZGVudC5wdXRNZXNzYWdlT25QaXBlKFwic2V0RHVyYXRpb25EeW5hbWljXCIse30sXCJHcm91cHNcIix7c2VsZkV4ZWN1dGU6ITEsZGlyZWN0aW9uOkFpfSkpLG0obChuLnByb3RvdHlwZSksXCJsYXN0V2lzaFwiLHRoaXMpLmNhbGwodGhpcyl9fSx7a2V5OlwiX2dldEVsZW1lbnRNQ0lEXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcmlnaW5hbENvbnRleHQuZ2V0TUNJRCh0KTtyZXR1cm4gZXx8KGU9ZmkoITApLHRoaXMub3JpZ2luYWxDb250ZXh0LnNldE1DSUQodCxlKSksZX19LHtrZXk6XCJfc2V0RWxlbWVudE1DSURcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dC5nZXRNQ0lEKGUpfHx0LnNldE1DSUQoZSxuKX19LHtrZXk6XCJfcHJlcGFyZUF0dHJzUHJvcHNGb3JFbGVtZW50XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1bXSxpPTA7aTx0Lmxlbmd0aDtpKyspbi5wdXNoKHtwYXRoOnRbaV0ucGF0aCx2YWx1ZTp0W2ldLnZhbHVlc1tlXX0pO3JldHVybiBufSh0aGlzLnN0YWdnZXJBdHRycyxlKSxpPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtdLGk9MDtpPHQubGVuZ3RoO2krKyluLnB1c2goe3BhdGg6dFtpXS5wYXRoLHZhbHVlOnRbaV0udmFsdWVzW2VdfSk7cmV0dXJuIG59KHRoaXMuc3RhZ2dlclByb3BzLGUpLHI9dC5hdHRycyxzPXQucHJvcHM7aWYobi5sZW5ndGg+MCl7cj1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHQuYXR0cnMpKTtmb3IodmFyIGE9MDthPG4ubGVuZ3RoO2ErKylnaShyLG5bYV0ucGF0aCxuW2FdLnZhbHVlKX1pZihpLmxlbmd0aD4wKXtzPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodC5wcm9wcykpO2Zvcih2YXIgbz0wO288aS5sZW5ndGg7bysrKWdpKHMsaVtvXS5wYXRoLGlbb10udmFsdWUpfXJldHVybnthdHRyczpyLHByb3BzOnN9fX0se2tleTpcIl9jcmVhdGVFbGVtZW50SW5jaWRlbnRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixpLHIscyl7dmFyIGE9dGhpcy5fcHJlcGFyZUF0dHJzUHJvcHNGb3JFbGVtZW50KGUsaSk7aWYoaWkoZS5hdHRycyxcImFuaW1hdGVkQXR0cnNcIikpe3ZhciBvPW5ldyBZaShlLG4scyxuLmNvbnRleHQuZ2V0RWxlbWVudFNlbGVjdG9yQnlNQ0lEKHMpLGEpO3RoaXMuYWRkQ2hpbGQobywwKX1lbHNle3ZhciB1PWEuYXR0cnMsbD1hLnByb3BzLGM9e2luY2lkZW50SWQ6ZS5pZCxhdHRyczp1LHByb3BzOmwsSW5jaWRlbnQ6ZS5jb25zdHJ1Y3Rvci5JbmNpZGVudCxwbHVnaW5fbnBtX25hbWU6ZS5jb25zdHJ1Y3Rvci5wbHVnaW5fbnBtX25hbWUsQ2hhbm5lbDplLmNvbnN0cnVjdG9yLkNoYW5uZWwsRGVzY3JpcHRpdmVJbmNpZGVudDplfSxoPW5ldyBYaShjLG4scyxudWxsKTt0aGlzLmFkZENoaWxkKGgsMCl9fX1dKSxufShOaSk7ZnVuY3Rpb24gZXIodCl7dmFyIGU9bmV3IHQuQ2xhc3ModC5hdHRycyx0LnByb3BzKTtpZighMT09PWUucmVzdWx0KXJldHVybiBlO2lmKGlpKHQsXCJpbmNpZGVudHNcIikpZm9yKHZhciBuIGluIHQuaW5jaWRlbnRzKXt2YXIgaT10LmluY2lkZW50c1tuXSxyPWVyKGkubGVhZik7aWYoITE9PT1yLnJlc3VsdClyZXR1cm4gcjt2YXIgcz1lLmFkZEluY2lkZW50KHIsaS5wb3NpdGlvbik7aWYoITE9PT1zLnJlc3VsdClyZXR1cm4gc31yZXR1cm4gZX12YXIgbnI9ZnVuY3Rpb24odCl7dShpLHQpO3ZhciBlPXAoaSk7ZnVuY3Rpb24gaSh0LG4pe3ZhciBzO3JldHVybiByKHRoaXMsaSksKHM9ZS5jYWxsKHRoaXMsdCxuKSkucmVhbENsaXA9dC5yZWFsQ2xpcCxzfXJldHVybiBhKGksW3trZXk6XCJfY3JlYXRlRWxlbWVudEluY2lkZW50XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkscixzLGEpe3ZhciBvPXRoaXMuX3ByZXBhcmVBdHRyc1Byb3BzRm9yRWxlbWVudChlLDApO2lmKGUucmVhbENsaXAuaXNOdWxsQ2xpcCl7dmFyIHU9ZXIobihuKHt9LGUuZXhwb3J0TGl2ZURlZmluaXRpb24oKSksbykpO2UucmVhbENsaXA9dS5yZWFsQ2xpcH12YXIgbD1lLnJlYWxDbGlwLmV4cG9ydENvbnN0cnVjdGlvbkFyZ3VtZW50cygpLGM9bihuKG4obih7fSxlLnByb3BzKSx7fSx7ZHVyYXRpb246ZS5yZWFsQ2xpcC5kdXJhdGlvbn0sbC5wcm9wcyksby5wcm9wcykse30se3NlbGVjdG9yOmkuY29udGV4dC5nZXRFbGVtZW50U2VsZWN0b3JCeU1DSUQoYSl9KSxoPXtpbmNpZGVudElkOmUuaWQsYXR0cnM6bC5hdHRycyxwcm9wczpjLEluY2lkZW50OmUuY29uc3RydWN0b3IuSW5jaWRlbnQscGx1Z2luX25wbV9uYW1lOmUuY29uc3RydWN0b3IucGx1Z2luX25wbV9uYW1lLENoYW5uZWw6amksRGVzY3JpcHRpdmVJbmNpZGVudDplfSxkPW5ldyBRaShoLGksYSxlKTt0aGlzLmFkZENoaWxkKGQsMCl9fV0pLGl9KHRyKSxpcj1cIjcuMy4wXCIscnI9W1wiY21cIixcIm1tXCIsXCJpblwiLFwicHhcIixcInB0XCIsXCJwY1wiLFwiZW1cIixcImV4XCIsXCJjaFwiLFwicmVtXCIsXCJ2d1wiLFwidmhcIixcInZtaW5cIixcInZtYXhcIixcIiVcIl0sc3I9W3t0eXBlOlwic3RyaW5nXCIsb3B0aW9uYWw6ITAsZGVmYXVsdDpcImxpbmVhclwiLGVudW06W1wibGluZWFyXCIsXCJlYXNlSW5RdWFkXCIsXCJlYXNlT3V0UXVhZFwiLFwiZWFzZUluT3V0UXVhZFwiLFwiZWFzZUluQ3ViaWNcIixcImVhc2VPdXRDdWJpY1wiLFwiZWFzZUluT3V0Q3ViaWNcIixcImVhc2VJblF1YXJ0XCIsXCJlYXNlT3V0UXVhcnRcIixcImVhc2VJbk91dFF1YXJ0XCIsXCJlYXNlSW5RdWludFwiLFwiZWFzZU91dFF1aW50XCIsXCJlYXNlSW5PdXRRdWludFwiLFwiZWFzZUluU2luZVwiLFwiZWFzZU91dFNpbmVcIixcImVhc2VJbk91dFNpbmVcIixcImVhc2VJbkV4cG9cIixcImVhc2VPdXRFeHBvXCIsXCJlYXNlSW5PdXRFeHBvXCIsXCJlYXNlSW5DaXJjXCIsXCJlYXNlT3V0Q2lyY1wiLFwiZWFzZUluT3V0Q2lyY1wiLFwiZWFzZUluRWxhc3RpY1wiLFwiZWFzZU91dEVsYXN0aWNcIixcImVhc2VJbk91dEVsYXN0aWNcIixcImVhc2VJbkJhY2tcIixcImVhc2VPdXRCYWNrXCIsXCJlYXNlSW5PdXRCYWNrXCIsXCJlYXNlSW5Cb3VuY2VcIixcImVhc2VPdXRCb3VuY2VcIixcImVhc2VJbk91dEJvdW5jZVwiXX0se3R5cGU6XCJhcnJheVwiLG9wdGlvbmFsOiEwLGxlbmd0aDo0LGl0ZW1zOnt0eXBlOlwibnVtYmVyXCJ9fV0sYXI9e3R5cGU6XCJzdHJpbmdcIixlbXB0eTohMSx0cmltOiEwLG9wdGlvbmFsOiEwfSxvcj17dHlwZTpcInN0cmluZ1wiLGVtcHR5OiExLHRyaW06ITAsb3B0aW9uYWw6ITB9LHVyPXt0eXBlOlwic3RyaW5nXCIsZW1wdHk6ITEsb3B0aW9uYWw6ITF9LGxyPXt0eXBlOlwiYW1vdW50XCIsb3B0aW9uYWw6ITEsaW50ZWdlcjohMCxtaW46MH0sY3I9e3R5cGU6XCJhbW91bnRcIixvcHRpb25hbDohMCxpbnRlZ2VyOiEwLG1pbjowfSxocj17dHlwZTpcImFtb3VudFwiLGludGVnZXI6ITAsbWluOjEsb3B0aW9uYWw6ITB9LGRyPXt0eXBlOlwiYW1vdW50XCIsaW50ZWdlcjohMCxtaW46MCxvcHRpb25hbDohMH0scHI9e3R5cGU6XCJhbW91bnRcIixpbnRlZ2VyOiEwLG1pbjowLG9wdGlvbmFsOiEwfSxmcj17dHlwZTpcImh0bWxcIixvcHRpb25hbDohMH0sbXI9e3R5cGU6XCJjc3NcIixvcHRpb25hbDohMH0sdnI9e3R5cGU6XCJhcnJheVwiLG9wdGlvbmFsOiEwLGl0ZW1zOnt0eXBlOlwib2JqZWN0XCIscHJvcHM6e3R5cGU6e2VudW06W1wiZ29vZ2xlLWZvbnRcIl0sdHlwZTpcInN0cmluZ1wifSxzcmM6e3R5cGU6XCJzdHJpbmdcIn19fX0sZ3I9e3R5cGU6XCJhcnJheVwiLGl0ZW1zOnt0eXBlOlwib2JqZWN0XCIsc3RyaWN0OiEwLHByb3BzOntzcmM6XCJzdHJpbmdcIixpZDpcInN0cmluZ1wiLG1jaWQ6e3R5cGU6XCJzdHJpbmdcIixvcHRpb25hbDohMH0sY2xhc3Nlczp7dHlwZTpcImFycmF5XCIsb3B0aW9uYWw6ITAsaXRlbXM6XCJzdHJpbmdcIn0sYmFzZTY0Ont0eXBlOlwiYm9vbGVhblwiLG9wdGlvbmFsOiEwfSxzdGFydFZhbHVlczp7b3B0aW9uYWw6ITAsdHlwZTpcIm9iamVjdFwiLHByb3BzOntnYWluOntvcHRpb25hbDohMCx0eXBlOlwibnVtYmVyXCJ9LHBhbjp7b3B0aW9uYWw6ITAsdHlwZTpcIm51bWJlclwifX19fX0sb3B0aW9uYWw6ITB9LHlyPVVuLmNvbXBpbGUoe2lkOmFyLG5hbWU6b3Isc2VsZWN0b3I6bihuKHt9LHVyKSx7fSx7b3B0aW9uYWw6ITB9KSxlYXNpbmc6c3IsZHVyYXRpb246bHIsc3RhcnRGcm9tOnt0eXBlOlwiYW1vdW50XCIsaW50ZWdlcjohMCxtaW46MCxvcHRpb25hbDohMH0scmVwZWF0czpocixoaWF0dXM6ZHIsZGVsYXk6cHJ9KSxrcj17dHlwZTpcIm9iamVjdFwiLG9wdGlvbmFsOiEwLHByb3BzOnt3aWR0aDp7dHlwZTpcIm1lYXN1cmVtZW50XCIsdW5pdHM6cnIsb3B0aW9uYWw6ITB9LGhlaWdodDp7dHlwZTpcIm1lYXN1cmVtZW50XCIsdW5pdHM6cnIsb3B0aW9uYWw6ITB9fX0sYnI9e3R5cGU6XCJzdHJpbmdcIixlbnVtOltcIm9uXCIsXCJvZmZcIixcIm9ubHlcIl0sb3B0aW9uYWw6ITB9LHhyPVVuLmNvbXBpbGUoe3Byb3BzOlt7dHlwZTpcIm9iamVjdFwiLHN0cmljdDohMCxwcm9wczp7aWQ6YXIsbmFtZTpvcixzZWxlY3RvcjpuKG4oe30sdXIpLHt9LHtvcHRpb25hbDohMH0pLHJlcGVhdHM6aHIsaGlhdHVzOmRyLGRlbGF5OnByLGVhc2luZzpzcixkdXJhdGlvbjpjcixodG1sOmZyLGNzczptcixhdWRpb1NvdXJjZXM6Z3IsYXVkaW86YnIsY29udGFpbmVyUGFyYW1zOmtyLGZvbnRzOnZyLGluaXRQYXJhbXM6e3R5cGU6XCJvYmplY3RcIixvcHRpb25hbDohMH19fSx7dHlwZTpcIm9iamVjdFwiLHN0cmljdDohMCxwcm9wczp7aWQ6YXIsbmFtZTpvcixob3N0Ont0eXBlOlwiYW55XCIsb3B0aW9uYWw6ITF9LGR1cmF0aW9uOmNyLGh0bWw6ZnIsY3NzOm1yLGF1ZGlvU291cmNlczpncixhdWRpbzpicixjb250YWluZXJQYXJhbXM6a3IsZm9udHM6dnIsaW5pdFBhcmFtczp7dHlwZTpcIm9iamVjdFwiLG9wdGlvbmFsOiEwfSxpbml0UGFyYW1zVmFsaWRhdGlvblJ1bGVzOnt0eXBlOlwib2JqZWN0XCIsb3B0aW9uYWw6ITB9fX0se3R5cGU6XCJvYmplY3RcIixzdHJpY3Q6ITAscHJvcHM6e3Jvb3Q6e3R5cGU6XCJib29sZWFuXCIsb3B0aW9uYWw6ITB9LG5hbWU6b3IsaWQ6YXIsYXVkaW9Tb3VyY2VzOmdyLGF1ZGlvOm4obih7fSxicikse30se2VudW06W1wib25cIl19KX19XX0pLENyPVVuLmNvbXBpbGUoe3NlbGVjdG9yOm4obih7fSx1cikse30se29wdGlvbmFsOiEwLHN0cmljdDohMH0pLG5hbWU6b3J9KSxJcj1Vbi5jb21waWxlKHtzZWxlY3RvcjpuKG4oe30sdXIpLHt9LHtzdHJpY3Q6ITAsb3B0aW9uYWw6ITB9KSxuYW1lOm9yLHJlcGVhdHM6e3R5cGU6XCJhbW91bnRcIixpbnRlZ2VyOiEwLG1pbjoxLG9wdGlvbmFsOiEwfSxoaWF0dXM6e3R5cGU6XCJhbW91bnRcIixpbnRlZ2VyOiEwLG1pbjowLG9wdGlvbmFsOiEwfSxkZWxheTp7dHlwZTpcImFtb3VudFwiLGludGVnZXI6ITAsbWluOjAsb3B0aW9uYWw6ITB9fSk7ZnVuY3Rpb24gd3IodCl7dC5kZXNjcmlwdG9yLnZhbHVlPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49dGhpcy5leHBvcnRMaXZlRGVmaW5pdGlvbigpO2Zvcih2YXIgaSBpbiB0KUx0KGksdFtpXSwhMCxcImF0dHJzXCIsbik7Zm9yKHZhciByIGluIGUpTHQocixlW3JdLCEwLFwicHJvcHNcIixuKTtyZXR1cm4gZXIobil9fVVuLmNvbXBpbGUoe3NlbGVjdG9yOnVyLGR1cmF0aW9uOmxyfSk7dmFyIEVyPVwibWMuZGVzY3JpcHRpdmUuZGVjaXNpb25BdXRob3JpdHlcIjtmdW5jdGlvbiBBcih0KXt0LmRlc2NyaXB0b3IudmFsdWU9ZnVuY3Rpb24odCl7aWYobnVsbCE9PXRoaXMuY29uc3RydWN0b3IuYXR0cnNWYWxpZGF0aW9uUnVsZXMpe3ZhciBlPXRoaXMuY29uc3RydWN0b3IuYXR0cnNWYWxpZGF0aW9uTWV0aG9kKHQpO2lmKGUubGVuZ3RoPjApcmV0dXJue3Jlc3VsdDohMSxlcnJvcnM6ZX19cmV0dXJuITA9PT10aGlzLnB1dE1lc3NhZ2VPblBpcGUoXCJjaGVja0ZvckNsaXBcIix7fSxFcix7c2VsZkV4ZWN1dGU6ITAsZGlyZWN0aW9uOkFpfSkucmVzcG9uc2U/dGhpcy5tYW5hZ2VFZGl0QXR0clByb3BzKHQsXCJhdHRyc1wiKToodGhpcy5hdHRycz10LHtyZXN1bHQ6ITB9KX19ZnVuY3Rpb24gUHIodCl7dC5kZXNjcmlwdG9yLnZhbHVlPWZ1bmN0aW9uKHQpe3ZhciBlPWtpKHQsdGhpcy5jb25zdHJ1Y3Rvci5wcm9wc1ZhbGlkYXRpb25SdWxlcyx0aGlzLmNvbnN0cnVjdG9yKTtyZXR1cm4gZS5yZXN1bHQ/ITA9PT10aGlzLnB1dE1lc3NhZ2VPblBpcGUoXCJjaGVja0ZvckNsaXBcIix7fSxFcix7c2VsZkV4ZWN1dGU6ITAsZGlyZWN0aW9uOkFpfSkucmVzcG9uc2U/dGhpcy5tYW5hZ2VFZGl0QXR0clByb3BzKHQsXCJwcm9wc1wiKToodGhpcy5wcm9wcz10LHtyZXN1bHQ6ITB9KTplfX1mdW5jdGlvbiBPcih0KXt0LmRlc2NyaXB0b3IudmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMucHJvcHMuaG9zdCYmdm9pZCAwIT09dGhpcy5wcm9wcy5ob3N0P1t0aGlzLnByb3BzLmhvc3RdOnRoaXMuaGFzUGFyZW50JiZ0aGlzLnB1dE1lc3NhZ2VPblBpcGUoXCJjaGVja0ZvckNsaXBcIix7fSxFcix7c2VsZkV4ZWN1dGU6ITAsZGlyZWN0aW9uOkFpfSkucmVzcG9uc2U/dGhpcy5wdXRNZXNzYWdlT25QaXBlKFwiZ2V0RWxlbWVudHNcIix7c2VsZWN0b3I6dGhpcy5zZWxlY3RvcigpfSxFcix7c2VsZkV4ZWN1dGU6ITEsZGlyZWN0aW9uOkFpfSkucmVzcG9uc2U6W119fWZ1bmN0aW9uIFRyKHQpe3QuZGVzY3JpcHRvci52YWx1ZT1mdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e2NoZWNrOiEwfTtpZihcImR5bmFtaWNcIj09PXRoaXMuZHVyYXRpb24pcmV0dXJue3Jlc3VsdDohMSxyZWFzb246XCJJbmNpZGVudHMgd2l0aCBkeW5hbWljIGR1cmF0aW9uIGNhbid0IGJlIHJlc2l6ZWQuIE9uY2UgdGhlIEluY2lkZW50IGVudGVycyBhIENsaXAgaXQnbGwgYmVjb21lIHJlc2l6YWJsZVwifTtpZih0PT09dGhpcy5kdXJhdGlvbilyZXR1cm57cmVzdWx0OiEwLG1ldGE6e3VucHJvY2Vzc2VkOiEwfX07aWYodDw9MClyZXR1cm57cmVzdWx0OiExLHJlYXNvbjpcIlNpemUgbXVzdCBhbHdheXMgYmUgPiAwXCJ9O2lmKGUuY2hlY2smJnRoaXMuaGFzUGFyZW50KXt2YXIgbj10aGlzLnB1dE1lc3NhZ2VPblBpcGUoXCJjaGVja1Jlc2l6ZVwiLHtpZDp0aGlzLmlkLG5ld1NpemU6dCxmcmFjdGlvbjp0L3RoaXMuZHVyYXRpb259LEVyLHtzZWxmRXhlY3V0ZTohMSxkaXJlY3Rpb246QWl9KTtpZighbi5yZXNwb25zZS5yZXN1bHQpcmV0dXJuIG4ucmVzcG9uc2V9cmV0dXJuIHRoaXMuc2V0TmV3RHVyYXRpb24odCkse3Jlc3VsdDohMH19fWZ1bmN0aW9uIFNyKHQpe3QuZGVzY3JpcHRvci52YWx1ZT1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5pbmhlcml0ZWRTZWxlY3Rvcj9paSh0aGlzLnByb3BzLFwic2VsZWN0b3JcIik/dGhpcy5wcm9wcy5zZWxlY3RvcjpudWxsOmlpKHRoaXMucHJvcHMsXCJzZWxlY3RvclwiKT9cIiZcIj09PXRoaXMucHJvcHMuc2VsZWN0b3IuY2hhckF0KDApP3RoaXMuaW5oZXJpdGVkU2VsZWN0b3IrdGhpcy5wcm9wcy5zZWxlY3Rvci5zdWJzdHJpbmcoMSk6XCJcIi5jb25jYXQodGhpcy5pbmhlcml0ZWRTZWxlY3RvcixcIiBcIikuY29uY2F0KHRoaXMucHJvcHMuc2VsZWN0b3IpOnRoaXMuaW5oZXJpdGVkU2VsZWN0b3J9fXZhciBfcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7cih0aGlzLHQpLHRoaXMuZXhwcmVzc2lvblByb3BzPWV9cmV0dXJuIGEodCxbe2tleTpcImNhbGN1bGF0ZVZhbHVlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl0uZ2V0QXR0cmlidXRlKHRoaXMuZXhwcmVzc2lvblByb3BzLmF0dHJpYnV0ZSk7WW4oaSkmJihpPXBhcnNlRmxvYXQoaSkpLGUucHVzaChpKX1yZXR1cm4gZX19XSksdH0oKSxEcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7cih0aGlzLHQpLHRoaXMucGF0dGVyblByb3BzPWV9cmV0dXJuIGEodCxbe2tleTpcImNhbGN1bGF0ZVZhbHVlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnBhdHRlcm5Qcm9wcy5wYXR0ZXJuLmxlbmd0aCxuPVtdLGk9MDtpPHQubGVuZ3RoO2krKyluLnB1c2godGhpcy5wYXR0ZXJuUHJvcHMucGF0dGVybltpJWVdKTtyZXR1cm4gbn19LHtrZXk6XCJyZXNpemVcIix2YWx1ZTpmdW5jdGlvbih0KXtpZihcImFtb3VudFwiIT09dGhpcy5wYXR0ZXJuUHJvcHMudHlwZSlyZXR1cm5cIlwiLmNvbmNhdChCLnBhdHRlcm5WYWx1ZSxcIihcIikuY29uY2F0KHRoaXMucGF0dGVyblByb3BzLnBhdHRlcm4uam9pbigpLFwiKVwiKTtmb3IodmFyIGU9W10sbj0wO248dGhpcy5wYXR0ZXJuUHJvcHMucGF0dGVybi5sZW5ndGg7bisrKWUucHVzaCh0KnRoaXMucGF0dGVyblByb3BzLnBhdHRlcm5bbl0pO3JldHVyblwiXCIuY29uY2F0KEIucGF0dGVyblZhbHVlLFwiKFwiKS5jb25jYXQoZS5qb2luKCksXCIpXCIpfX1dKSx0fSgpLE1yPWZ1bmN0aW9uIHQoZSl7cmV0dXJuIHIodGhpcyx0KSxcImV4cHJlc3Npb25cIj09PWUuZHluYW1pY1R5cGU/bmV3IEZuKGUpOlwic3RhZ2dlclwiPT09ZS5keW5hbWljVHlwZT9uZXcgS24oZSk6XCJhdHRyaWJ1dGVcIj09PWUuZHluYW1pY1R5cGU/bmV3IF9yKGUpOlwicGF0dGVyblwiPT09ZS5keW5hbWljVHlwZT9uZXcgRHIoZSk6KHlpLmVycm9yKCdkeW5hbWljVHlwZSBtdXN0IGJlIGVpdGhlciBcInN0Z2dlclwiIG9yIFwiZXhwcmVzc2lvblwiLiAnLmNvbmNhdChlLmR5bmFtaWNUeXBlLFwiIHByb3ZpZGVkXCIpKSwhMSl9O2Z1bmN0aW9uIFZyKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcIlwiO2lmKCF0KXJldHVybltdO2Zvcih2YXIgbj1bXSxpPTAscj1PYmplY3QuZW50cmllcyh0KTtpPHIubGVuZ3RoO2krKyl7dmFyIHM9eShyW2ldLDIpLGE9c1swXSxvPXNbMV07aWYoIShvIGluc3RhbmNlb2YgRWxlbWVudCkpaWYoZWkobykpe3ZhciB1PVZyKG8sXCJcIi5jb25jYXQoZSkuY29uY2F0KFwiXCI9PT1lP1wiXCI6XCIuXCIpLmNvbmNhdChhKSk7bi5wdXNoLmFwcGx5KG4sayh1KSl9ZWxzZSBpZih0aShvKSl7dmFyIGw9by50cmltKCk7aWYobC5zdGFydHNXaXRoKEIuc3RhZ2dlclByZWZhY2UpKXt2YXIgYz1xbihsLCExKSxoPWMuc3RhcnQubWF0Y2goc2kpWzBdLGQ9Yy5lbmQubWF0Y2goc2kpWzBdLHA9Yy5zdGFydC50b1N0cmluZygpLnN1YnN0cmluZyhoLmxlbmd0aCksZj17ZHluYW1pY1R5cGU6XCJzdGFnZ2VyXCIscGF0aDpcIlwiLmNvbmNhdChlKS5jb25jYXQoXCJcIj09PWU/XCJcIjpcIi5cIikuY29uY2F0KGEpLGZyb206MSpoLHRvOjEqZCxtb2RlOmMubW9kZSx1bml0OnAsZnJhY3Rpb246Yy5zdGFydEZyYWN0aW9uLGVhc2luZzpjLmVhc2luZyxyZXZlcnNlOmMucmV2ZXJzZSx0eXBlOlwiXCI9PT1wP1wiYW1vdW50XCI6XCJtZWFzdXJlbWVudFwifTtuLnB1c2goZil9ZWxzZSBpZihsLnN0YXJ0c1dpdGgoQi5hdHRpYnV0ZVZhbHVlKSl7dmFyIG09e2R5bmFtaWNUeXBlOlwiYXR0cmlidXRlXCIscGF0aDpcIlwiLmNvbmNhdChlKS5jb25jYXQoXCJcIj09PWU/XCJcIjpcIi5cIikuY29uY2F0KGEpLHVuaXQ6XCJcIix0eXBlOlwibWVhc3VyZW1lbnRcIixhdHRyaWJ1dGU6L1xcKChbXildKylcXCkvLmV4ZWMobClbMV19O24ucHVzaChtKX1lbHNlIGlmKGwuc3RhcnRzV2l0aChCLm1hdGhFeHBQcmVmYWNlKSl7dmFyIHY9TG4obCksZz17ZHluYW1pY1R5cGU6XCJleHByZXNzaW9uXCIscGF0aDpcIlwiLmNvbmNhdChlKS5jb25jYXQoXCJcIj09PWU/XCJcIjpcIi5cIikuY29uY2F0KGEpLHVuaXQ6di51bml0LHR5cGU6XCJcIj09PXYudW5pdD9cImFtb3VudFwiOlwibWVhc3VyZW1lbnRcIixleHByZXNzaW9uOnYuZXhwcmVzc2lvbn07bi5wdXNoKGcpfWVsc2UgaWYobC5zdGFydHNXaXRoKEIucGF0dGVyblZhbHVlKSl7Zm9yKHZhciBiPWNpKGwpLHg9ITAsQz1bXSxJPTA7STxiLmxlbmd0aDtJKyspe2lmKCFZbihiW0ldKSl7eD0hMTticmVha31DLnB1c2gocGFyc2VGbG9hdChiW0ldKSl9eCYmKGI9Qyk7dmFyIHc9e2R5bmFtaWNUeXBlOlwicGF0dGVyblwiLHBhdGg6XCJcIi5jb25jYXQoZSkuY29uY2F0KFwiXCI9PT1lP1wiXCI6XCIuXCIpLmNvbmNhdChhKSx1bml0OlwiXCIsdHlwZTp4P1wiYW1vdW50XCI6XCJtZWFzdXJlbWVudFwiLHBhdHRlcm46Yn07bi5wdXNoKHcpfX19cmV0dXJuIG59ZnVuY3Rpb24gJHIodCl7dC5kZXNjcmlwdG9yLnZhbHVlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXthdHRyczp7fSxwcm9wczp7fX0sZT1Wcih0aGlzLnByb3BzKSxuPTA7bjxlLmxlbmd0aDtuKyspdGhpcy5wcm9wc1N0YWdnZXJzLnB1c2goe3BhdGg6ZVtuXS5wYXRoLHN0YWdnZXI6bmV3IE1yKGVbbl0pfSksaWkodC5wcm9wcyxlW25dLmR5bmFtaWNUeXBlKXx8KHQucHJvcHNbZVtuXS5keW5hbWljVHlwZV09MCksdC5wcm9wc1tlW25dLmR5bmFtaWNUeXBlXSs9MTtmb3IodmFyIGk9VnIodGhpcy5hdHRycykscj0wO3I8aS5sZW5ndGg7cisrKXRoaXMuYXR0cmlidXRlc1N0YWdnZXJzLnB1c2goe3BhdGg6aVtyXS5wYXRoLHN0YWdnZXI6bmV3IE1yKGlbcl0pfSksaWkodC5hdHRycyxpW3JdLmR5bmFtaWNUeXBlKXx8KHQuYXR0cnNbaVtyXS5keW5hbWljVHlwZV09MCksdC5hdHRyc1tpW3JdLmR5bmFtaWNUeXBlXSs9MTtyZXR1cm4gdH19dmFyIE5yPVAobnVsbCwoZnVuY3Rpb24odCxlKXt2YXIgbj1mdW5jdGlvbihlKXt1KGksZSk7dmFyIG49cChpKTtmdW5jdGlvbiBpKCl7dmFyIGUscz1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sYT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bnVsbDtyKHRoaXMsaSksbnVsbD09PWE/KGU9bi5jYWxsKHRoaXMscyksdChoKGUpKSxlLmF0dHJzPXt9LGUucHJvcHM9cyk6KGU9bi5jYWxsKHRoaXMsYSksdChoKGUpKSxlLmF0dHJzPXMsZS5wcm9wcz1hKTt2YXIgbz1raShlLnByb3BzLENyLGUuY29uc3RydWN0b3IpO3JldHVybiBvLnJlc3VsdD8oZS5faW5oZXJpdGVkU2VsZWN0b3I9bnVsbCxlLmF0dHJpYnV0ZXNTdGFnZ2Vycz1bXSxlLnByb3BzU3RhZ2dlcnM9W10sZS5zZXR1cER5bmFtaWNWYWx1ZXMoKSxlLnBhc3NpdmVBZGRpdGlvbj0hMCxlLl9idWlsZFRyZWUoKSxlLnBhc3NpdmVBZGRpdGlvbj0hMSxkKGUpKTpkKGUsbyl9cmV0dXJuIGl9KGUpO3JldHVybntGOm4sZDpbe2tpbmQ6XCJmaWVsZFwiLHN0YXRpYzohMCxrZXk6XCJJbmNpZGVudFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE5pfX0se2tpbmQ6XCJmaWVsZFwiLHN0YXRpYzohMCxrZXk6XCJwbHVnaW5fbnBtX25hbWVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwibW90b3ItY29ydGV4LWpzXCJ9fSx7a2luZDpcImZpZWxkXCIsc3RhdGljOiEwLGtleTpcInZlcnNpb25cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBpcn19LHtraW5kOlwiZmllbGRcIixzdGF0aWM6ITAsa2V5OlwiQ2hhbm5lbFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIEVpfX0se2tpbmQ6XCJmaWVsZFwiLHN0YXRpYzohMCxrZXk6XCJDbGFzc05hbWVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiR3JvdXBcIn19LHtraW5kOlwiZmllbGRcIixzdGF0aWM6ITAsa2V5OlwiaXNHcm91cFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuITB9fSx7a2luZDpcImZpZWxkXCIsc3RhdGljOiEwLGtleTpcImF0dHJzVmFsaWRhdGlvblJ1bGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19LHtraW5kOlwiZmllbGRcIixzdGF0aWM6ITAsa2V5OlwicHJvcHNWYWxpZGF0aW9uUnVsZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBDcn19LHtraW5kOlwibWV0aG9kXCIsZGVjb3JhdG9yczpbQXJdLGtleTpcImVkaXRBdHRyaWJ1dGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2luZDpcIm1ldGhvZFwiLGRlY29yYXRvcnM6W1ByXSxrZXk6XCJlZGl0UHJvcGVydGllc1wiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tpbmQ6XCJtZXRob2RcIixkZWNvcmF0b3JzOltUcl0sa2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2luZDpcIm1ldGhvZFwiLGRlY29yYXRvcnM6W3dyXSxrZXk6XCJjbG9uZVwiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tpbmQ6XCJtZXRob2RcIixkZWNvcmF0b3JzOltTcl0sa2V5Olwic2VsZWN0b3JcIix2YWx1ZTpmdW5jdGlvbigpe319LHtraW5kOlwibWV0aG9kXCIsZGVjb3JhdG9yczpbT3JdLGtleTpcImdldEVsZW1lbnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2luZDpcIm1ldGhvZFwiLGRlY29yYXRvcnM6WyRyXSxrZXk6XCJzZXR1cER5bmFtaWNWYWx1ZXNcIix2YWx1ZTpmdW5jdGlvbigpe319LHtraW5kOlwibWV0aG9kXCIsa2V5OlwiX2J1aWxkVHJlZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5idWlsZFRyZWUoKX19LHtraW5kOlwibWV0aG9kXCIsa2V5OlwiX2NhbGN1bGF0ZUR1cmF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLGU9MDtmb3IodmFyIG4gaW4gdGhpcy5jaGlsZHJlbil7dmFyIGk9dGhpcy5jaGlsZHJlbltuXTtpZighMD09PXQmJiEwPT09aS5sZWFmLmNvbnN0cnVjdG9yLmlzR3JvdXAmJmkubGVhZi5fY2FsY3VsYXRlRHVyYXRpb24oITApLFwiZHluYW1pY1wiPT09aS5sZWFmLmR1cmF0aW9uKXtlPVwiZHluYW1pY1wiO2JyZWFrfWkucG9zaXRpb24raS5sZWFmLmR1cmF0aW9uPmUmJihlPWkucG9zaXRpb24raS5sZWFmLmR1cmF0aW9uKX1yZXR1cm4gZSE9PXRoaXMuY2FsY3VsYXRlZER1cmF0aW9uJiYodGhpcy5jYWxjdWxhdGVkRHVyYXRpb249ZSwhMCl9fSx7a2luZDpcIm1ldGhvZFwiLGtleTpcIl9yZWJ1aWxkVHJlZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuY2hpbGRyZW4pe3ZhciBlPXRoaXMuY2hpbGRyZW5bdF07ITA9PT1lLmxlYWYucGFzc2l2ZSYmdGhpcy5yZW1vdmVJbmNpZGVudChlLmlkKX10aGlzLnBhc3NpdmVBZGRpdGlvbj0hMCx0aGlzLmJ1aWxkVHJlZSgpLHRoaXMucGFzc2l2ZUFkZGl0aW9uPSExfX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJidWlsZFRyZWVcIix2YWx1ZTpmdW5jdGlvbigpe319LHtraW5kOlwiZ2V0XCIsa2V5OlwiZHVyYXRpb25cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiZHluYW1pY1wiPT09dGhpcy5jYWxjdWxhdGVkRHVyYXRpb24/dGhpcy5jYWxjdWxhdGVkRHVyYXRpb246bShsKG4ucHJvdG90eXBlKSxcImR1cmF0aW9uXCIsdGhpcyl9fSx7a2luZDpcInNldFwiLGtleTpcImR1cmF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7ZyhsKG4ucHJvdG90eXBlKSxcImR1cmF0aW9uXCIsdCx0aGlzLCEwKX19LHtraW5kOlwibWV0aG9kXCIsa2V5OlwibWFuYWdlRWRpdEF0dHJQcm9wc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5wYXJlbnROb2RlLGk9bi5nZXRMZWFmUG9zaXRpb24odGhpcy5pZCkscj1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXNbZV0pKTt0aGlzW2VdPXQsbi5yZW1vdmVJbmNpZGVudCh0aGlzLmlkKSx0aGlzLl9yZWJ1aWxkVHJlZSgpO3ZhciBzPW4uYWRkSW5jaWRlbnQodGhpcyxpKTtyZXR1cm4gcy5yZXN1bHR8fCh0aGlzW2VdPXIsdGhpcy5fcmVidWlsZFRyZWUoKSxuLmFkZEluY2lkZW50KHRoaXMsaSkpLHN9fSx7a2luZDpcIm1ldGhvZFwiLGtleTpcImRldGFjaEZyb21QYXJlbnRcIix2YWx1ZTpmdW5jdGlvbigpe20obChuLnByb3RvdHlwZSksXCJkZXRhY2hGcm9tUGFyZW50XCIsdGhpcykuY2FsbCh0aGlzKSx0aGlzLmluaGVyaXRlZFNlbGVjdG9yPW51bGx9fSx7a2luZDpcImdldFwiLGtleTpcImluaGVyaXRlZFNlbGVjdG9yXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5oZXJpdGVkU2VsZWN0b3J9fSx7a2luZDpcInNldFwiLGtleTpcImluaGVyaXRlZFNlbGVjdG9yXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuX2luaGVyaXRlZFNlbGVjdG9yPXQsdGhpcy5jaGlsZHJlbil7dGhpcy5jaGlsZHJlbltlXS5sZWFmLmluaGVyaXRlZFNlbGVjdG9yPXRoaXMuc2VsZWN0b3IoKX19fSx7a2luZDpcImdldFwiLGtleTpcInNlbGVjdG9yVG9QYXNzVG9DaGlsZHJlblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0b3IoKX19LHtraW5kOlwibWV0aG9kXCIsa2V5OlwiZXhwb3J0RGVmaW5pdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9e0NsYXNzTmFtZTp0aGlzLmNvbnN0cnVjdG9yLkNsYXNzTmFtZSx2ZXJzaW9uOnRoaXMuY29uc3RydWN0b3IudmVyc2lvbixwbHVnaW46dGhpcy5jb25zdHJ1Y3Rvci5wbHVnaW58fHRoaXMuY29uc3RydWN0b3IucGx1Z2luX25wbV9uYW1lLHBsdWdpbl9ucG1fbmFtZTp0aGlzLmNvbnN0cnVjdG9yLnBsdWdpbl9ucG1fbmFtZSxhdHRyczp0aGlzLmF0dHJzLHByb3BzOnRoaXMucHJvcHMsaW5jaWRlbnRzOnt9LGR1cmF0aW9uOnRoaXMuZHVyYXRpb259O2Zvcih2YXIgZSBpbiB0aGlzLmNoaWxkcmVuKXt2YXIgbj10aGlzLmNoaWxkcmVuW2VdOyEwIT09bi5sZWFmLnBhc3NpdmUmJih0LmluY2lkZW50c1tlXT17aWQ6bi5pZCxwb3NpdGlvbjpuLnBvc2l0aW9uLGxlYWY6bi5sZWFmLmV4cG9ydERlZmluaXRpb24oKX0pfXJldHVybiB0fX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJleHBvcnRMaXZlRGVmaW5pdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSl8fGFyZ3VtZW50c1swXSxlPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5wcm9wcykpOyExPT09dCYmZGVsZXRlIGUuaWQ7dmFyIG49e0NsYXNzOnRoaXMuY29uc3RydWN0b3IsYXR0cnM6SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmF0dHJzKSkscHJvcHM6ZSxpbmNpZGVudHM6e319O2Zvcih2YXIgaSBpbiB0aGlzLmNoaWxkcmVuKXt2YXIgcj10aGlzLmNoaWxkcmVuW2ldOyEwIT09ci5sZWFmLnBhc3NpdmUmJihuLmluY2lkZW50c1tpXT17cG9zaXRpb246ci5wb3NpdGlvbixsZWFmOnIubGVhZi5leHBvcnRMaXZlRGVmaW5pdGlvbih0KX0pfXJldHVybiBufX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJhZGRJbmNpZGVudFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGkscj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e2NoZWNrOiEwfTtpZih0LmluaGVyaXRlZFNlbGVjdG9yPXRoaXMuc2VsZWN0b3JUb1Bhc3NUb0NoaWxkcmVuLCEwPT09ci5jaGVjayl7dmFyIHM9bShsKG4ucHJvdG90eXBlKSxcImNoZWNrQWRkaXRpb25cIix0aGlzKS5jYWxsKHRoaXMsdCxlKTtpZighcy5yZXN1bHQpcmV0dXJuIHQuaW5oZXJpdGVkU2VsZWN0b3I9bnVsbCxzO2lmKCEwPT09KGk9dGhpcy5wdXRNZXNzYWdlT25QaXBlKFwiY2hlY2tGb3JDbGlwXCIse30sRXIse3NlbGZFeGVjdXRlOiEwLGRpcmVjdGlvbjpBaX0pKS5yZXNwb25zZSl7dmFyIGE9dC5wdXRNZXNzYWdlT25QaXBlKFwiY2hlY2tGb3JJbnZhbGlkU2VsZWN0b3JzXCIse30sbnVsbCx7c2VsZkV4ZWN1dGU6ITAsZGlyZWN0aW9uOlBpfSk7aWYoYS5sZW5ndGg+MCl7Zm9yKHZhciBvPVtdLHU9MDt1PGEubGVuZ3RoO3UrKylvLnB1c2goYVt1XS5yZXNwb25zZSk7cmV0dXJue3Jlc3VsdDohMSxlcnJvcnM6b319fXZhciBjPXRoaXMucHV0TWVzc2FnZU9uUGlwZShcImNoZWNrQWRkaXRpb25cIix7aW5jaWRlbnQ6dCxtaWxsaXNlY29uZDplLHBhcmVudEdyb3VwSWQ6dGhpcy5pZH0sRXIse3NlbGZFeGVjdXRlOiEwLGRpcmVjdGlvbjpBaX0pO2lmKCFjLnJlc3BvbnNlLnJlc3VsdClyZXR1cm4gdC5pbmhlcml0ZWRTZWxlY3Rvcj1udWxsLGMucmVzcG9uc2V9ITA9PT10aGlzLnBhc3NpdmVBZGRpdGlvbiYmKHQucGFzc2l2ZT0hMCk7dmFyIGg9dGhpcy5hZGRDaGlsZCh0LGUpO3JldHVybiBoLnJlc3VsdHx8KHQuaW5oZXJpdGVkU2VsZWN0b3I9bnVsbCksXCJkeW5hbWljXCI9PT10LmR1cmF0aW9uJiZpJiZ0aGlzLl9jYWxjdWxhdGVEdXJhdGlvbighMCksaH19LHtraW5kOlwibWV0aG9kXCIsa2V5OlwibW92ZUluY2lkZW50XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT10O2VpKHQpJiYoaT10LmlkKTt2YXIgcj1tKGwobi5wcm90b3R5cGUpLFwiY2hlY2tFZGl0UG9zaXRpb25cIix0aGlzKS5jYWxsKHRoaXMsaSxlKTtpZighci5yZXN1bHQpcmV0dXJuIHI7dmFyIHM9ZS10aGlzLmdldExlYWZQb3NpdGlvbihpKTtpZigwPT09cylyZXR1cm57cmVzdWx0OiEwfTt2YXIgYT10aGlzLnB1dE1lc3NhZ2VPblBpcGUoXCJjaGVja01vdmVcIix7aWQ6aSxtaWxsaXNlY29uZDplLHBvc2l0aW9uRGVsdGE6cyxwYXJlbnRHcm91cElkOnRoaXMuaWR9LEVyLHtzZWxmRXhlY3V0ZTohMCxkaXJlY3Rpb246QWl9KTtyZXR1cm4gYS5yZXNwb25zZS5yZXN1bHQ/dGhpcy5lZGl0UG9zaXRpb24oaSxlKTphLnJlc3BvbnNlfX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJyZW1vdmVJbmNpZGVudFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQ7ZWkodCkmJihlPXQuaWQpO3ZhciBpPW0obChuLnByb3RvdHlwZSksXCJjaGVja1JlbW92ZUNoaWxkXCIsdGhpcykuY2FsbCh0aGlzLGUpO2lmKCFpLnJlc3VsdClyZXR1cm4gaTt2YXIgcj10aGlzLnB1dE1lc3NhZ2VPblBpcGUoXCJjaGVja0RlbGV0aW9uXCIse2lkOmUscGFyZW50R3JvdXBJZDp0aGlzLmlkfSxFcix7c2VsZkV4ZWN1dGU6ITAsZGlyZWN0aW9uOkFpfSk7cmV0dXJuIHIucmVzcG9uc2UucmVzdWx0P3RoaXMucmVtb3ZlQ2hpbGQoZSk6ci5yZXNwb25zZX19LHtraW5kOlwibWV0aG9kXCIsa2V5OlwiaGFuZGxlQ2hlY2tGb3JDbGlwXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4hIXRoaXMuaGFzUGFyZW50JiZ0aGlzLmJ5cGFzcygpfX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJoYW5kbGVDaGVja0FkZGl0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5oYXNQYXJlbnQ/dGhpcy5ieXBhc3MoKTp7cmVzdWx0OiEwfX19LHtraW5kOlwibWV0aG9kXCIsa2V5OlwiaGFuZGxlQ2hlY2tNb3ZlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5oYXNQYXJlbnQ/dGhpcy5ieXBhc3MoKTp7cmVzdWx0OiEwfX19LHtraW5kOlwibWV0aG9kXCIsa2V5OlwiaGFuZGxlQ2hlY2tEZWxldGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuaGFzUGFyZW50P3RoaXMuYnlwYXNzKCk6e3Jlc3VsdDohMH19fSx7a2luZDpcIm1ldGhvZFwiLGtleTpcImhhbmRsZUNoZWNrUmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5oYXNQYXJlbnQ/dGhpcy5ieXBhc3MoKTp7cmVzdWx0OiEwfX19LHtraW5kOlwibWV0aG9kXCIsa2V5OlwiaGFuZGxlU2V0RHVyYXRpb25EeW5hbWljXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmNhbGN1bGF0ZWREdXJhdGlvbj1cImR5bmFtaWNcIix0aGlzLnB1dE1lc3NhZ2VPblBpcGUoXCJzZXREdXJhdGlvbkR5bmFtaWNcIix7fSxcIkdyb3Vwc1wiLHtzZWxmRXhlY3V0ZTohMSxkaXJlY3Rpb246QWl9KX19XX19KSxNaSksanI9XCItXCIsQnI9e2lzQ29tYm86ZnVuY3Rpb24odCl7cmV0dXJuIHQuaW5jaWRlbnRDbGFzcy5pc0NvbWJvfSxnZXRJdGVtOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEZ0KGUuam9pbihcIi5cIiksXCJhdHRyc1wiLHQpfSxnZXRSZXBlYXRQb3NpdGlvbjpmdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gaSooZXx8MCkrKGkrMSkqKHR8fDApK2kqbn0scmVmZXJzVG9Pd25TZWxlY3RvcjpmdW5jdGlvbih0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLGk9ZTshMT09PUFycmF5LmlzQXJyYXkoZSkmJihpPWUuc3BsaXQoXCIuXCIpKTt2YXIgcj10aGlzLmdldEl0ZW0odCxpLnNsaWNlKDAsMituKSk7cmV0dXJuKFwiXCI9PT1yLnByb3BzLnNlbGVjdG9yfHx2b2lkIDA9PT1yLnByb3BzLnNlbGVjdG9yfHxudWxsPT09ci5wcm9wcy5zZWxlY3RvcikmJihcInByb3BzXCI9PT1pWzJdfHwoIXRoaXMuaXNDb21ibyhyKXx8dGhpcy5yZWZlcnNUb093blNlbGVjdG9yKHQsaSxuKzMpKSl9LGNhc2NhZGVTZWxlY3RvcnM6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOlwiXCIsaT1bXSxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBzPWVbcl0sYT12b2lkIDA7aWYoYT1paShzLnByb3BzLFwic2VsZWN0b3JcIik/XCJcIi5jb25jYXQodCxcIiBcIikuY29uY2F0KHMucHJvcHMuc2VsZWN0b3IpOnQsaS5wdXNoKHtwYXRoOlwiXCIuY29uY2F0KG4pLmNvbmNhdChcIlwiPT09bj9cIlwiOlwiLlwiKS5jb25jYXQocixcIi5wcm9wcy5zZWxlY3RvclwiKSx2YWx1ZTphfSksdGhpcy5pc0NvbWJvKHMpKXt2YXIgbz10aGlzLmNhc2NhZGVTZWxlY3RvcnMoYSxzLmF0dHJzLmluY2lkZW50cyxcIlwiLmNvbmNhdChuKS5jb25jYXQoXCJcIj09PW4/XCJcIjpcIi5cIikuY29uY2F0KHIsXCIuYXR0cnMuaW5jaWRlbnRzXCIpKTtpPWkuY29uY2F0KG8pfX1yZXR1cm4gaX0sY3JlYXRlRGVzY3JpcHRpdmVJbmNpZGVudExpa2VPYmplY3Q6ZnVuY3Rpb24odCxlLG4saSxyKXtyZXR1cm57Y29uc3RydWN0b3I6e0luY2lkZW50OnQuaW5jaWRlbnRDbGFzcy50YXJnZXRDbGFzcy5JbmNpZGVudCxwbHVnaW5fbnBtX25hbWU6dC5pbmNpZGVudENsYXNzLnRhcmdldENsYXNzLnBsdWdpbl9ucG1fbmFtZSxDaGFubmVsOnQuaW5jaWRlbnRDbGFzcy50YXJnZXRDbGFzcy5DaGFubmVsLGlzQ2xpcDohMX0sYXR0cnM6aXx8dC5hdHRycyxwcm9wczpyfHx0LnByb3BzLHNlbGVjdG9yOmZ1bmN0aW9uKCl7cmV0dXJuIHQucHJvcHMuc2VsZWN0b3J9LGlkOnQucHJvcHMuaWQsYXVkaW9DbGlwOm51bGwsYXVkaW86XCJub1wiLGR5bmFtaWNEdXJhdGlvblZhbHVlOm51bGwscHV0TWVzc2FnZU9uUGlwZTpmdW5jdGlvbigpe30sYXR0cmlidXRlc1N0YWdnZXJzOmUscHJvcHNTdGFnZ2VyczpufX0scGFyc2VFbGVtZW50c0R5bmFtaWNzOmZ1bmN0aW9uKHQsZSxuLGkscil7Zm9yKHZhciBzPVwiaW5jaWRlbnRzLlwiLmNvbmNhdChyLFwiLmF0dHJzXCIpLGE9XCJpbmNpZGVudHMuXCIuY29uY2F0KHIsXCIucHJvcHNcIiksbz1fbihlKSx1PV9uKG4pLGw9MDtsPHQubGVuZ3RoO2wrKylpZigwPT09dFtsXS5wYXRoLmluZGV4T2Yocykpe3ZhciBjPXRbbF0ucGF0aC5zdWJzdHJpbmcocy5sZW5ndGgrMSk7by5zZXRWYWx1ZShjLHRbbF0udmFsdWVzW2ldKX1lbHNlIGlmKDA9PT10W2xdLnBhdGguaW5kZXhPZihhKSl7dmFyIGg9dFtsXS5wYXRoLnN1YnN0cmluZyhhLmxlbmd0aCsxKTt1LnNldFZhbHVlKGgsdFtsXS52YWx1ZXNbaV0pfXJldHVybntpbmNpZGVudEF0dHJzOm8uZXhwb3J0RmxhdHRlbmVkKCksaW5jaWRlbnRQcm9wczp1LmV4cG9ydEZsYXR0ZW5lZCgpfX0sZ2V0U3RhZ2dlcnNGb3JDaGlsZDpmdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPVtdLHI9W10scz0wO3M8dC5sZW5ndGg7cysrKVwicG9zaXRpb25cIj09PW4mJjA9PT10W3NdLnBhdGguaW5kZXhPZihcImluY2lkZW50cy5cIi5jb25jYXQoZSxcIi5cIikuY29uY2F0KG4pKT9yLnB1c2goe3BhdGg6XCJwb3NpdGlvblwiLHN0YWdnZXI6dFtzXS5zdGFnZ2VyfSk6MD09PXRbc10ucGF0aC5pbmRleE9mKFwiaW5jaWRlbnRzLlwiLmNvbmNhdChlLFwiLlwiKS5jb25jYXQobikpP3IucHVzaCh7cGF0aDp0W3NdLnBhdGguc3Vic3RyaW5nKFwiaW5jaWRlbnRzLlwiLmNvbmNhdChlLFwiLlwiKS5jb25jYXQobikubGVuZ3RoKzEpLHN0YWdnZXI6dFtzXS5zdGFnZ2VyfSk6aS5wdXNoKHRbc10pO3JldHVybntpZGVudGlmaWVkRHluYW1pY3M6cixyZW1haW5pbmdEeW5hbWljczppfX0sY3JlYXRlRWxlbWVudFByb3h5OmZ1bmN0aW9uKHQsZSxuLGkscil7Zm9yKHZhciBzPV9uKHQpLGE9dGhpcy5jYXNjYWRlU2VsZWN0b3JzKGUsdC5hdHRycy5pbmNpZGVudHMsXCJhdHRycy5pbmNpZGVudHNcIiksbz0wO288aS5sZW5ndGg7bysrKXMuc2V0VmFsdWUoXCJhdHRycy5cIi5jb25jYXQoaVtvXS5wYXRoKSxpW29dLnZhbHVlc1tuXSk7Zm9yKHZhciB1PTA7dTxyLmxlbmd0aDt1Kyspcy5zZXRWYWx1ZShcInByb3BzLlwiLmNvbmNhdChyW3VdLnBhdGgpLHJbdV0udmFsdWVzW25dKTtmb3IodmFyIGw9MDtsPGEubGVuZ3RoO2wrKylzLnNldFZhbHVlKGFbbF0ucGF0aCxhW2xdLnZhbHVlKTtyZXR1cm4gc319LFJyPWZ1bmN0aW9uKHQpe3Uobix0KTt2YXIgZT1wKG4pO2Z1bmN0aW9uIG4oKXtyZXR1cm4gcih0aGlzLG4pLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBhKG4sW3trZXk6XCJwYXJzZUF0dHJzRHluYW1pY1ZhbHVlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5jaGlsZHJlblN0YWdnZXJzPVtdO2Zvcih2YXIgbj0wO248dC5hdHRyaWJ1dGVzU3RhZ2dlcnMubGVuZ3RoO24rKylCci5yZWZlcnNUb093blNlbGVjdG9yKHQsdC5hdHRyaWJ1dGVzU3RhZ2dlcnNbbl0ucGF0aCk/dGhpcy5zdGFnZ2VyQXR0cnMucHVzaCh7cGF0aDp0LmF0dHJpYnV0ZXNTdGFnZ2Vyc1tuXS5wYXRoLHZhbHVlczp0LmF0dHJpYnV0ZXNTdGFnZ2Vyc1tuXS5zdGFnZ2VyLmNhbGN1bGF0ZVZhbHVlcyhlLHRoaXMuaW5pdFBhcmFtcyl9KTp0aGlzLmNoaWxkcmVuU3RhZ2dlcnMucHVzaCh0LmF0dHJpYnV0ZXNTdGFnZ2Vyc1tuXSl9fSx7a2V5OlwiaGFuZGxlUmVjYWxjRHVyYXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPW0obChuLnByb3RvdHlwZSksXCJoYW5kbGVSZWNhbGNEdXJhdGlvblwiLHRoaXMpLmNhbGwodGhpcyx0LGUpO3JldHVybiB0aGlzLmRlc2NyaXB0aXZlSW5jaWRlbnQuZHluYW1pY0R1cmF0aW9uVmFsdWU9MSp0aGlzLmR1cmF0aW9uLGl9fSx7a2V5OlwibGFzdFdpc2hcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZGVzY3JpcHRpdmVJbmNpZGVudC5keW5hbWljRHVyYXRpb25WYWx1ZT1udWxsLHRoaXMuZGVzY3JpcHRpdmVJbmNpZGVudC5wdXRNZXNzYWdlT25QaXBlKFwic2V0RHVyYXRpb25EeW5hbWljXCIse30sXCJHcm91cHNcIix7c2VsZkV4ZWN1dGU6ITEsZGlyZWN0aW9uOkFpfSksbShsKG4ucHJvdG90eXBlKSxcImxhc3RXaXNoXCIsdGhpcykuY2FsbCh0aGlzKX19LHtrZXk6XCJfY3JlYXRlRWxlbWVudEluY2lkZW50XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4saSxyLHMpe2Zvcih2YXIgYT10aGlzLG89QnIuY3JlYXRlRWxlbWVudFByb3h5KGUsbi5jb250ZXh0LmdldEVsZW1lbnRTZWxlY3RvckJ5TUNJRChzKSxpLHRoaXMuc3RhZ2dlckF0dHJzLHRoaXMuc3RhZ2dlclByb3BzKSx1PTA7dTx0aGlzLnN0YWdnZXJBdHRycy5sZW5ndGg7dSsrKW8uc2V0VmFsdWUoXCJhdHRycy5cIi5jb25jYXQodGhpcy5zdGFnZ2VyQXR0cnNbdV0ucGF0aCksdGhpcy5zdGFnZ2VyQXR0cnNbdV0udmFsdWVzW2ldKTtmb3IodmFyIGw9Wmkoe2lkOlwiXCIuY29uY2F0KHRoaXMuaWQsXCJfZWxlbWVudFwiKS5jb25jYXQoanIpLmNvbmNhdChpKSxhdHRyczp7fSxwcm9wczp7fSxJbmNpZGVudDpOci5JbmNpZGVudCxwbHVnaW5fbnBtX25hbWU6TnIucGx1Z2luX25wbV9uYW1lLENoYW5uZWw6TnIuQ2hhbm5lbCxEZXNjcmlwdGl2ZUluY2lkZW50Om5ldyBOcn0pLGM9ZnVuY3Rpb24odCl7dmFyIGU9Wmkoe2lkOlwiXCIuY29uY2F0KGEuaWQsXCJfZWxlbWVudFwiKS5jb25jYXQoanIpLmNvbmNhdChpLFwiX3JlcGVhdFwiKS5jb25jYXQoanIpLmNvbmNhdCh0KSxhdHRyczp7fSxwcm9wczp7fSxJbmNpZGVudDpOci5JbmNpZGVudCxwbHVnaW5fbnBtX25hbWU6TnIucGx1Z2luX25wbV9uYW1lLENoYW5uZWw6TnIuQ2hhbm5lbCxEZXNjcmlwdGl2ZUluY2lkZW50Om5ldyBOcn0pLHM9YS5jaGlsZHJlblN0YWdnZXJzO28uYXR0cnMuaW5jaWRlbnRzLmZvckVhY2goKGZ1bmN0aW9uKHUsbCl7dmFyIGM9QnIucGFyc2VFbGVtZW50c0R5bmFtaWNzKGEuc3RhZ2dlckF0dHJzLHUuYXR0cnMsdS5wcm9wcyxpLGwpLGg9Yy5pbmNpZGVudEF0dHJzLGQ9Yy5pbmNpZGVudFByb3BzLHA9QnIuZ2V0U3RhZ2dlcnNGb3JDaGlsZChzLGwsXCJhdHRyc1wiKSxmPUJyLmdldFN0YWdnZXJzRm9yQ2hpbGQocC5yZW1haW5pbmdEeW5hbWljcyxsLFwicHJvcHNcIiksbT1Cci5nZXRTdGFnZ2Vyc0ZvckNoaWxkKHAucmVtYWluaW5nRHluYW1pY3MsbCxcInBvc2l0aW9uXCIpO3M9Zi5yZW1haW5pbmdEeW5hbWljcyxvLnNldFZhbHVlKFwiYXR0cnMuaW5jaWRlbnRzLlwiLmNvbmNhdChsLFwiLnByb3BzLmlkXCIpLFwiXCIuY29uY2F0KGEuaWQsXCJfZWxlbWVudFwiKS5jb25jYXQoanIpLmNvbmNhdChpLFwiX3JlcGVhdFwiKS5jb25jYXQoanIpLmNvbmNhdCh0LFwiX2luY2lkZW50XCIpLmNvbmNhdChqcikuY29uY2F0KGwpKTt2YXIgdj1McihCci5jcmVhdGVEZXNjcmlwdGl2ZUluY2lkZW50TGlrZU9iamVjdCh1LHAuaWRlbnRpZmllZER5bmFtaWNzLGYuaWRlbnRpZmllZER5bmFtaWNzLGgsZCksbiksZz11LnBvc2l0aW9uOzE9PT1tLmlkZW50aWZpZWREeW5hbWljcy5sZW5ndGgmJihnPW0uaWRlbnRpZmllZER5bmFtaWNzWzBdLnN0YWdnZXIuY2FsY3VsYXRlVmFsdWVzKG5ldyBBcnJheShyKSxhLmluaXRQYXJhbXMpW2ldKSxlLmFkZENoaWxkKHYsZyl9KSksbC5hZGRDaGlsZChlLEJyLmdldFJlcGVhdFBvc2l0aW9uKG8ucHJvcHMuZGVsYXksby5wcm9wcy5oaWF0dXMsZS5kdXJhdGlvbix0KSl9LGg9MDtoPChvLnByb3BzLnJlcGVhdHN8fDEpO2grKyljKGgpO3RoaXMuYWRkQ2hpbGQobCwwKX19XSksbn0odHIpO2Z1bmN0aW9uIExyKHQsZSl7dmFyIG4saT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdO2lmKGkmJlwib2ZmXCI9PT10LmF1ZGlvfHwhaSYmXCJvbmx5XCI9PT10LmF1ZGlvKXJldHVybiBudWxsO2lmKGlpKHQucHJvcHMsXCJzZWxlY3RvclwiKSYmKCFpJiZcIn5cIj09PXQucHJvcHMuc2VsZWN0b3IuY2hhckF0KDApfHxpJiZcIn5cIiE9PXQucHJvcHMuc2VsZWN0b3IuY2hhckF0KDApJiYhdC5jb25zdHJ1Y3Rvci5pc0NsaXApKXJldHVybiBudWxsO2lmKHQuY29uc3RydWN0b3IuaXNDbGlwKXtpZighaWkodC5wcm9wcyxcInNlbGVjdG9yXCIpfHxpKXJldHVybiBpP3QuYXVkaW9DbGlwOnQucmVhbENsaXA7KG49bmV3IG5yKHQsZSkpLnBsdWdpbl9jaGFubmVsX2NsYXNzPUVpfWVsc2UgaWYodC5jb25zdHJ1Y3Rvci5pc0NvbWJvKW49bmV3IFJyKHQsZSk7ZWxzZSBpZih0LmNvbnN0cnVjdG9yLmlzR3JvdXApZm9yKHZhciByIGluIG49Wmkoe2lkOnQuaWQsYXR0cnM6dC5hdHRycyxwcm9wczp0LnByb3BzLEluY2lkZW50OnQuY29uc3RydWN0b3IuSW5jaWRlbnQscGx1Z2luX25wbV9uYW1lOnQuY29uc3RydWN0b3IucGx1Z2luX25wbV9uYW1lLENoYW5uZWw6dC5jb25zdHJ1Y3Rvci5DaGFubmVsLERlc2NyaXB0aXZlSW5jaWRlbnQ6dH0pLHQuY2hpbGRyZW4pe3ZhciBzPUxyKHQuY2hpbGRyZW5bcl0ubGVhZixlKTtudWxsIT09cyYmbi5hZGRDaGlsZChzLHQuY2hpbGRyZW5bcl0ucG9zaXRpb24pfWVsc2Ugbj1uZXcgdHIodCxlKTtyZXR1cm4gbn12YXIgRnI9XCJAa2lzc215YnV0dG9uL3NlbGYtY29udGFpbmVkLWluY2lkZW50c1wiO2Z1bmN0aW9uIHpyKHQpe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV0oKX19dmFyIEdyPWZ1bmN0aW9uKHQpe3Uobix0KTt2YXIgZT1wKG4pO2Z1bmN0aW9uIG4odCxpKXt2YXIgcztyZXR1cm4gcih0aGlzLG4pLChzPWUuY2FsbCh0aGlzLHQsaSkpLmF0dHJzPXQscy5wcm9wcz1pLHMuaXNUaGVDbGlwPSEwLHMuYmxvY2tpbmdXYWl0aW5ncz17fSxzLmluc3RhbnRpYXRlZENoYW5uZWxzPXt9LHMuaXNIb3N0ZWRDbGlwPSEwLHMuaW5zdGFudGlhdGVkQ29waWVzQ29udGV4dHM9e30scy5pbnN0YW50aWF0ZWRDb3BpZXNVbmJsb2NraW5nTWV0aG9kcz1bXSxzLm9uQ2xpcEluaXRpYWxpc2UoKSxzLnJ1blRpbWVJbmZvPXMucHJvcHMucnVuVGltZUluZm8scy5kdXJhdGlvblN1YnM9W10scy5hdWRpb0NsaXA9ITEsc31yZXR1cm4gYShuLFt7a2V5OlwiY29udGV4dFJlYWR5XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dC5jb250ZXh0TG9hZGVkfX0se2tleTpcIm9uQ2xpcEluaXRpYWxpc2VcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJjb250ZXh0TG9hZGluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jb250ZXh0LmNvbnRleHRMb2FkZWQ9ITF9fSx7a2V5OlwiY29udGV4dExvYWRlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuY29udGV4dC5jb250ZXh0TG9hZGVkPSEwLHRoaXMucHV0TWVzc2FnZU9uUGlwZShcImNvbnRleHRMb2FkZWRcIix7fSx7fSx7c2VsZkV4ZWN1dGU6ITEsZGlyZWN0aW9uOlBpfSksdGhpcy5pbnN0YW50aWF0ZWRDaGFubmVscyl0aGlzLmluc3RhbnRpYXRlZENoYW5uZWxzW3RdLnJlY2FsY1NjcmF0Y2hWYWx1ZXMoKTtmb3IodmFyIGU9MDtlPHRoaXMuaW5zdGFudGlhdGVkQ29waWVzVW5ibG9ja2luZ01ldGhvZHMubGVuZ3RoO2UrKyl0aGlzLmluc3RhbnRpYXRlZENvcGllc1VuYmxvY2tpbmdNZXRob2RzW2VdKCk7dGhpcy51bmJsb2NrKCl9fSx7a2V5OlwiZ2V0RWxlbWVudHNcIix2YWx1ZTpmdW5jdGlvbih0KXtpZihudWxsIT09dGhpcy5wcm9wcy5ob3N0JiZ2b2lkIDAhPT10aGlzLnByb3BzLmhvc3QpcmV0dXJuIHRoaXMuY29udGV4dC5nZXRFbGVtZW50cyh0KTt2YXIgZT1bXTtmb3IodmFyIG4gaW4gdGhpcy5pbnN0YW50aWF0ZWRDb3BpZXNDb250ZXh0cylmb3IodmFyIGk9dGhpcy5pbnN0YW50aWF0ZWRDb3BpZXNDb250ZXh0c1tuXS5nZXRFbGVtZW50cyh0KSxyPTA7cjxpLmxlbmd0aDtyKyspZS5wdXNoKGlbcl0pO3JldHVybiBlfX0se2tleTpcImFkZENvbnRleHRcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmluc3RhbnRpYXRlZENvcGllc0NvbnRleHRzW3QuY2xpcElkXT10LmNvbnRleHQsdC5pbnN0YW50aWF0ZWRDb3BpZXNDb250ZXh0cz10aGlzLmluc3RhbnRpYXRlZENvcGllc0NvbnRleHRzLHRoaXMuaW5zdGFudGlhdGVkQ29waWVzVW5ibG9ja2luZ01ldGhvZHMucHVzaCh0LnVuYmxvY2spO3ZhciBlPXRoaXMucHV0TWVzc2FnZU9uUGlwZShcImFkZENvbnRleHRcIix0LHt9LHtzZWxmRXhlY3V0ZTohMSxkaXJlY3Rpb246UGl9KTtpZigxPT09T2JqZWN0LmtleXModGhpcy5pbnN0YW50aWF0ZWRDb3BpZXNDb250ZXh0cykubGVuZ3RoKXtmb3IodmFyIG4gaW4gdGhpcy5pbnN0YW50aWF0ZWRDaGFubmVscyl0aGlzLmluc3RhbnRpYXRlZENoYW5uZWxzW25dLnJlY2FsY1NjcmF0Y2hWYWx1ZXModC5jbGlwSWQpO3RoaXMuY29udGV4dC5ub25GcmFnbWVudGVkQ29udGV4dD10LmNvbnRleHR9cmV0dXJuIGV9fSx7a2V5OlwiZXhwb3J0Q29uc3RydWN0aW9uQXJndW1lbnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm57YXR0cnM6dGhpcy5hdHRycyxwcm9wczp0aGlzLnByb3BzfX19LHtrZXk6XCJfcmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuaW5zdGFudGlhdGVkQ2hhbm5lbHMpdGhpcy5pbnN0YW50aWF0ZWRDaGFubmVsc1tlXS5fcmVzaXplKHQpO3RoaXMuc2V0TmV3RHVyYXRpb24odGhpcy5kdXJhdGlvbip0KTtmb3IodmFyIG49MDtuPHRoaXMuZHVyYXRpb25TdWJzLmxlbmd0aDtuKyspdGhpcy5kdXJhdGlvblN1YnNbbl0odGhpcy5kdXJhdGlvbil9fSx7a2V5OlwiYWRkSW5jaWRlbnRcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxuPXRoaXMucHV0TWVzc2FnZU9uUGlwZShcImFkZEluY2lkZW50XCIse2luY2lkZW50OnQuaW5jaWRlbnQsbWlsbGlzZWNvbmQ6dC5taWxsaXNlY29uZCxwYXJlbnRHcm91cElkOnQucGFyZW50R3JvdXBJZCxpbmNpZGVudEZyb21EZXNjcmlwdGlvbjpMcixjb250ZXh0RGF0YTp7Y2xpcElkOnRoaXMuaWQsY29udGV4dDp0aGlzLmNvbnRleHQsaW5zdGFudGlhdGVkQ29waWVzQ29udGV4dHM6dGhpcy5pbnN0YW50aWF0ZWRDb3BpZXNDb250ZXh0c30sYXVkaW86dGhpcy5hdWRpb0NsaXB9LHQucGFyZW50R3JvdXBJZCx7c2VsZkV4ZWN1dGU6ITAsZGlyZWN0aW9uOlBpfSksaT17fSxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBzPW5bcl0ucmVzcG9uc2UuZ2V0SW5jaWRlbnRzQnlDaGFubmVsKG5bcl0ucG9zaXRpb25EZWx0YSt0Lm1pbGxpc2Vjb25kKTtmb3IodmFyIGEgaW4gcyl7dmFyIG87aWkoaSxhKXx8KGlbYV09W10pLChvPWlbYV0pLnB1c2guYXBwbHkobyxrKHNbYV0pKX19dmFyIHU9dGhpcy5jaGVja0FkZGl0aW9uKGkpO2lmKHUucmVzdWx0KXtyZXR1cm57cmVzdWx0OiEwLGV4ZWN1dGU6ZnVuY3Rpb24oKXt1LmV4ZWN1dGUoKTtmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKylmb3IodmFyIHIgaW4gbltpXS5yZXNwb25kZXIuYWRkQ2hpbGQobltpXS5yZXNwb25zZSx0Lm1pbGxpc2Vjb25kKSxuW2ldLnJlc3BvbmRlci5wdXRNZXNzYWdlT25QaXBlKFwicmVjYWxjRHVyYXRpb25cIix7fSxcIkdyb3Vwc1wiLHtzZWxmRXhlY3V0ZTohMCxkaXJlY3Rpb246QWl9KSxlLmluc3RhbnRpYXRlZENvcGllc0NvbnRleHRzKW5baV0ucmVzcG9uc2UucHV0TWVzc2FnZU9uUGlwZShcImFkZENvbnRleHRcIix7Y2xpcElkOnIsY29udGV4dDplLmluc3RhbnRpYXRlZENvcGllc0NvbnRleHRzW3JdfSxcIkNvbnRleHRBd2FyZUluY2lkZW50c1wiLHtzZWxmRXhlY3V0ZTohMSxkaXJlY3Rpb246UGl9KTtlLl9jYWxjdWxhdGVEdXJhdGlvbigpfX19cmV0dXJuIHV9fSx7a2V5OlwiY2hlY2tBZGRpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcImFsbC1vci1ub3RoaW5nXCIsbj0hMCxpPVtdLHI9W107Zm9yKHZhciBzIGluIHQpe2lpKHRoaXMuaW5zdGFudGlhdGVkQ2hhbm5lbHMscyl8fCh0aGlzLmluc3RhbnRpYXRlZENoYW5uZWxzW3NdPW5ldyB0W3NdWzBdLmluY2lkZW50LnBsdWdpbl9jaGFubmVsX2NsYXNzKHtydW5UaW1lSW5mbzp0aGlzLnJ1blRpbWVJbmZvLGNvbnRleHQ6dGhpcy5jb250ZXh0LHN1YnNjcmliZTp0aGlzLnByb3BzLnN1YnNjcmliZX0pKTt2YXIgYT10aGlzLmluc3RhbnRpYXRlZENoYW5uZWxzW3NdLmFkZEluY2lkZW50cyh0W3NdLGUpO249biYmYS5yZXN1bHQsYS5yZXN1bHQ/ci5wdXNoKGEuZXhlY3V0ZSk6aT1pLmNvbmNhdChhLmVycm9ycyl9cmV0dXJue3Jlc3VsdDpuLGVycm9yczppLGV4ZWN1dGU6enIocil9fX0se2tleTpcIm1vdmVJbmNpZGVudFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnB1dE1lc3NhZ2VPblBpcGUoXCJtb3ZlSW5jaWRlbnRcIix7aW5jaWRlbnRJZDp0LmlkLG1pbGxpc2Vjb25kOnQubWlsbGlzZWNvbmQscGFyZW50R3JvdXBJZDp0LnBhcmVudEdyb3VwSWQsY29udGV4dERhdGE6e2NsaXBJZDp0aGlzLmlkLGNvbnRleHQ6dGhpcy5jb250ZXh0fSxhdWRpbzp0aGlzLmF1ZGlvQ2xpcH0sdC5wYXJlbnRHcm91cElkLHtzZWxmRXhlY3V0ZTohMCxkaXJlY3Rpb246UGl9KSxuPXt9LGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIHI9ZVtpXS5yZXNwb25zZS5nZXRJbmNpZGVudHNCeUNoYW5uZWwoZVtpXS5wb3NpdGlvbkRlbHRhK3QubWlsbGlzZWNvbmQpO2Zvcih2YXIgcyBpbiByKXt2YXIgYTtpaShuLHMpfHwobltzXT1bXSksKGE9bltzXSkucHVzaC5hcHBseShhLGsocltzXSkpfX12YXIgbz10aGlzLmNoZWNrTW92ZShuLHQucG9zaXRpb25EZWx0YSk7aWYoby5yZXN1bHQpe3JldHVybntyZXN1bHQ6ITAsZXhlY3V0ZTpmdW5jdGlvbigpe28uZXhlY3V0ZSgpO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWVbbl0ucmVzcG9uZGVyLmVkaXRQb3NpdGlvbihlW25dLnJlc3BvbnNlLmlkLHQubWlsbGlzZWNvbmQpLGVbbl0ucmVzcG9uZGVyLnB1dE1lc3NhZ2VPblBpcGUoXCJyZWNhbGNEdXJhdGlvblwiLHt9LFwiR3JvdXBzXCIse3NlbGZFeGVjdXRlOiEwLGRpcmVjdGlvbjpBaX0pfX19cmV0dXJuIG99fSx7a2V5OlwiY2hlY2tNb3ZlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj0hMCxpPVtdLHI9W107Zm9yKHZhciBzIGluIHQpe3ZhciBhPXRoaXMuaW5zdGFudGlhdGVkQ2hhbm5lbHNbc10uZWRpdEluY2lkZW50cyh0W3NdLGUpO249biYmYS5yZXN1bHQsYS5yZXN1bHQ/ci5wdXNoKGEuZXhlY3V0ZSk6aT1pLmNvbmNhdChhLmVycm9ycyl9cmV0dXJue3Jlc3VsdDpuLGVycm9yczppLGV4ZWN1dGU6enIocil9fX0se2tleTpcInJlbW92ZUluY2lkZW50XCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMucHV0TWVzc2FnZU9uUGlwZShcInJlbW92ZUluY2lkZW50XCIse2luY2lkZW50SWQ6dC5pZCxwYXJlbnRHcm91cElkOnQucGFyZW50R3JvdXBJZCxjb250ZXh0RGF0YTp7Y2xpcElkOnRoaXMuaWQsY29udGV4dDp0aGlzLmNvbnRleHR9LGF1ZGlvOnRoaXMuYXVkaW9DbGlwfSx0LnBhcmVudEdyb3VwSWQse3NlbGZFeGVjdXRlOiEwLGRpcmVjdGlvbjpQaX0pLG49e30saT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgcj1lW2ldLnJlc3BvbnNlLmdldEluY2lkZW50c0J5Q2hhbm5lbCgpO2Zvcih2YXIgcyBpbiByKXt2YXIgYTtpaShuLHMpfHwobltzXT1bXSksKGE9bltzXSkucHVzaC5hcHBseShhLGsocltzXSkpfX12YXIgbz10aGlzLmNoZWNrRGVsZXRlKG4pO2lmKG8ucmVzdWx0KXtyZXR1cm57cmVzdWx0OiEwLGV4ZWN1dGU6ZnVuY3Rpb24oKXtvLmV4ZWN1dGUoKTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdLnJlc3BvbmRlci5yZW1vdmVDaGlsZChlW3RdLnJlc3BvbnNlLmlkKSxlW3RdLnJlc3BvbmRlci5wdXRNZXNzYWdlT25QaXBlKFwicmVjYWxjRHVyYXRpb25cIix7fSxcIkdyb3Vwc1wiLHtzZWxmRXhlY3V0ZTohMCxkaXJlY3Rpb246QWl9KX19fXJldHVybiBvfX0se2tleTpcImNoZWNrRGVsZXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9ITAsbj1bXSxpPVtdO2Zvcih2YXIgciBpbiB0KXt2YXIgcz10aGlzLmluc3RhbnRpYXRlZENoYW5uZWxzW3JdLnJlbW92ZUluY2lkZW50cyh0W3JdKTtlPWUmJnMucmVzdWx0LHMucmVzdWx0P2kucHVzaChzLmV4ZWN1dGUpOm49bi5jb25jYXQocy5lcnJvcnMpfXJldHVybntyZXN1bHQ6ZSxlcnJvcnM6bixleGVjdXRlOnpyKGkpfX19LHtrZXk6XCJyZXNpemVJbmNpZGVudFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnB1dE1lc3NhZ2VPblBpcGUoXCJyZXNpemVcIix7aW5jaWRlbnRJZDp0LmlkLG5ld1NpemU6dC5uZXdTaXplLGZyYWN0aW9uOnQuZnJhY3Rpb24sY29udGV4dERhdGE6e2NsaXBJZDp0aGlzLmlkLGNvbnRleHQ6dGhpcy5jb250ZXh0fSxhdWRpbzp0aGlzLmF1ZGlvQ2xpcH0sdC5pZCx7c2VsZkV4ZWN1dGU6ITEsZGlyZWN0aW9uOlBpfSksbj17fSxpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciByPWVbaV0ucmVzcG9uc2UuZ2V0SW5jaWRlbnRzQnlDaGFubmVsKGVbaV0ucG9zaXRpb25EZWx0YSk7Zm9yKHZhciBzIGluIHIpe3ZhciBhO2lpKG4scyl8fChuW3NdPVtdKSwoYT1uW3NdKS5wdXNoLmFwcGx5KGEsayhyW3NdKSl9fXZhciBvPTA7ZS5sZW5ndGg+MCYmKG89ZVswXS5wb3NpdGlvbkRlbHRhKTt2YXIgdT10aGlzLmNoZWNrUmVzaXplKHQuZnJhY3Rpb24sbixvKTtpZih1LnJlc3VsdCl7cmV0dXJue3Jlc3VsdDohMCxleGVjdXRlOmZ1bmN0aW9uKCl7dS5leGVjdXRlKCk7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspZVtuXS5yZXNwb25kZXIuc2V0TmV3RHVyYXRpb24odC5uZXdTaXplKX19fXJldHVybiB1fX0se2tleTpcImNoZWNrUmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MCxpPSEwLHI9W10scz1bXTtmb3IodmFyIGEgaW4gZSl7dmFyIG89Q2koZVthXSx0LG4pLHU9dGhpcy5pbnN0YW50aWF0ZWRDaGFubmVsc1thXS5jaGVja1Jlc2l6ZWRJbmNpZGVudHMobyk7aSYmKGk9dS5yZXN1bHQpLHUucmVzdWx0P3MucHVzaCh1LmV4ZWN1dGUpOnI9ci5jb25jYXQodS5lcnJvcnMpfXJldHVybntyZXN1bHQ6aSxlcnJvcnM6cixleGVjdXRlOnpyKHMpfX19LHtrZXk6XCJjb250ZXh0XCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4gbnVsbCE9PShlPSh0PXRoaXMub3duQ29udGV4dCkuY29udGV4dExvYWRlZCkmJnZvaWQgMCE9PWV8fCh0LmNvbnRleHRMb2FkZWQ9ITApLHRoaXMub3duQ29udGV4dH19LHtrZXk6XCJnZXRJbmNpZGVudHNCeUNoYW5uZWxcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLGU9e307cmV0dXJuIGVbRnJdPVt7bWlsbGlzZWNvbmQ6dCxpbmNpZGVudDp0aGlzLGlkOnRoaXMuaWR9XSxlfX0se2tleTpcInNldFZvbHVtZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMudm9sdW1lPXBhcnNlRmxvYXQodCl9fSx7a2V5OlwiX29uR2V0Q29udGV4dE9uY2VcIix2YWx1ZTpmdW5jdGlvbih0KXt9fSx7a2V5OlwiaGFuZGxlUmVjYWxjRHVyYXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHRoaXMuX2NhbGN1bGF0ZUR1cmF0aW9uKCkpZm9yKHZhciBuPTA7bjx0aGlzLmR1cmF0aW9uU3Vicy5sZW5ndGg7bisrKXRoaXMuZHVyYXRpb25TdWJzW25dKHRoaXMuZHVyYXRpb24pO3JldHVybiEwfX0se2tleTpcIm9uUHJvZ3Jlc3NcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXTtpZighMSE9PXRoaXMuY29udGV4dFJlYWR5KXtmb3IodmFyIHIgaW4gbnx8KG49dGhpcy5pZCksdGhpcy5pbnN0YW50aWF0ZWRDaGFubmVscyl7dmFyIHM9dGhpcy5pbnN0YW50aWF0ZWRDaGFubmVsc1tyXTtzLm1vdmVUbyh0aGlzLnJ1blRpbWVJbmZvLmN1cnJlbnRNaWxsaXNlY29uZCxlLG4saSl9dGhpcy5vbkFmdGVyUHJvZ3Jlc3ModCxlKX1lbHNlIHRoaXMuc2V0QmxvY2soKX19LHtrZXk6XCJvbkFmdGVyUHJvZ3Jlc3NcIix2YWx1ZTpmdW5jdGlvbih0LGUpe319LHtrZXk6XCJmbGFzaFwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuaW5zdGFudGlhdGVkQ2hhbm5lbHMpe3RoaXMuaW5zdGFudGlhdGVkQ2hhbm5lbHNbdF0ubW92ZVRvKDAsdGhpcy5ydW5UaW1lSW5mby5jdXJyZW50TWlsbGlzZWNvbmQsdGhpcy5pZCwhMCl9fX0se2tleTpcInN1YnNjcmliZVRvRHVyYXRpb25DaGFuZ2VcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmR1cmF0aW9uU3Vicy5wdXNoKHQpfX0se2tleTpcImhhbmRsZVNldEJsb2NraW5nV2FpdGluZ1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7fX0se2tleTpcImhhbmRsZVJlbW92ZUJsb2NraW5nV2FpdGluZ1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7fX1dKSxufShOaSkscXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7cih0aGlzLHQpLHRoaXMub3V0cHV0PVhuLmNyZWF0ZUdhaW4oKSx0aGlzLmdhaW5Ob2RlPVhuLmNyZWF0ZUdhaW4oKSxYbi5jcmVhdGVTdGVyZW9QYW5uZXImJih0aGlzLnBhbm5lck5vZGU9WG4uY3JlYXRlU3RlcmVvUGFubmVyKCkpLFhuLmNyZWF0ZVN0ZXJlb1Bhbm5lcj8odGhpcy5wYW5uZXJOb2RlLmNvbm5lY3QodGhpcy5nYWluTm9kZSksdGhpcy5nYWluTm9kZS5jb25uZWN0KHRoaXMub3V0cHV0KSx0aGlzLmlucHV0PXRoaXMucGFubmVyTm9kZSk6KHRoaXMuZ2Fpbk5vZGUuY29ubmVjdCh0aGlzLm91dHB1dCksdGhpcy5pbnB1dD10aGlzLmdhaW5Ob2RlKX1yZXR1cm4gYSh0LFt7a2V5OlwiY29ubmVjdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMub3V0cHV0LmNvbm5lY3QodCl9fSx7a2V5OlwiZGlzY29ubmVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5vdXRwdXQuZGlzY29ubmVjdCgpfX1dKSx0fSgpO2Z1bmN0aW9uIEtyKHQpe2Zvcih2YXIgZT13aW5kb3cuYXRvYih0KSxuPWUubGVuZ3RoLGk9bmV3IFVpbnQ4QXJyYXkobikscj0wO3I8bjtyKyspaVtyXT1lLmNoYXJDb2RlQXQocik7cmV0dXJuIGkuYnVmZmVyfXZhciBXcj0vXFxbZGF0YSgtbWNpZD1cIitcXHcrXCIpK1xcXS9nLEpyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3IodGhpcyx0KSx0aGlzLnN1YnNjcmliZXJzPVtdfXJldHVybiBhKHQsW3trZXk6XCJzdWJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuc3Vic2NyaWJlcnMucHVzaChlKX19LHtrZXk6XCJwdWJcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuc3Vic2NyaWJlcnMubGVuZ3RoO2UrKyl0aGlzLnN1YnNjcmliZXJzW2VdKHQpfX1dKSx0fSgpLEhyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30saT1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMDtyKHRoaXMsdCksdGhpcy50b3RhbFNvdXJjZXM9bi5sZW5ndGgsdGhpcy5hdWRpb1NvdXJjZXM9e30sdGhpcy5lbGVtZW50c0J5TUNJRD17fTtmb3IodmFyIHM9ZnVuY3Rpb24odCl7dmFyIHI9blt0XSxzPXttY2lkOnIubWNpZHx8ZmkoKSxpZDpyLmlkLHNyYzpyLnNyYyxjbGFzc2VzOnIuY2xhc3Nlc3x8W10sYmFzZTY0OnIuYmFzZTY0fHwhMSxwdWJTdWI6bmV3IEpyLHNvdW5kTG9hZGVkOiExLHN0YXJ0VmFsdWVzOnIuc3RhcnRWYWx1ZXN8fHt9fTtpZihlLmF1ZGlvU291cmNlc1tzLmlkXT1zLGUuZWxlbWVudHNCeU1DSURbcy5tY2lkXT1zLHIuYmFzZTY0KVhuLmRlY29kZUF1ZGlvRGF0YShLcihyLnNyYyksKGZ1bmN0aW9uKHQpe2UuX3NldEJ1ZmZlcihzLHQsaSl9KSk7ZWxzZXt2YXIgYT1uZXcgWE1MSHR0cFJlcXVlc3Q7YS5vcGVuKFwiR0VUXCIscy5zcmMsITApLGEucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIixlLnNvdW5kTG9hZGVkPSExLGEub25sb2FkPWZ1bmN0aW9uKCl7WG4uZGVjb2RlQXVkaW9EYXRhKGEucmVzcG9uc2UsKGZ1bmN0aW9uKHQpe2UuX3NldEJ1ZmZlcihzLHQsaSl9KSxlLm9uRXJyb3IpfSxhLnNlbmQoKX19LGE9MDthPG4ubGVuZ3RoO2ErKylzKGEpO3RoaXMuY29udGV4dD17ZG9jdW1lbnQ6ZG9jdW1lbnQsd2luZG93OndpbmRvdyxyb290RWxlbWVudDpkb2N1bWVudC5ib2R5LHVubW91bnQ6ZnVuY3Rpb24oKXt9LG1hc3Rlck5vZGU6aSxhdWRpb0NvbnRleHQ6WG4sZ2V0RWxlbWVudHM6dGhpcy5nZXRFbGVtZW50cy5iaW5kKHRoaXMpLGdldE1DSUQ6dGhpcy5nZXRNQ0lELmJpbmQodGhpcyksc2V0TUNJRDp0aGlzLnNldE1DSUQuYmluZCh0aGlzKSxnZXRFbGVtZW50U2VsZWN0b3JCeU1DSUQ6dGhpcy5nZXRFbGVtZW50U2VsZWN0b3JCeU1DSUQuYmluZCh0aGlzKSxnZXRFbGVtZW50QnlNQ0lEOnRoaXMuZ2V0RWxlbWVudEJ5TUNJRC5iaW5kKHRoaXMpfX1yZXR1cm4gYSh0LFt7a2V5OlwiX3NldEJ1ZmZlclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt0LnNvdW5kTG9hZGVkPSEwLHQuYnVmZmVyPWUsdC5hdWRpb05vZGVTZXQ9bmV3IHFyLHQuYXVkaW9Ob2RlU2V0LmNvbm5lY3Qobi5pbnB1dCksdC5wdWJTdWIucHViKCl9fSx7a2V5OlwiZ2V0RWxlbWVudEJ5TUNJRFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBpaSh0aGlzLmVsZW1lbnRzQnlNQ0lELHQpP3RoaXMuZWxlbWVudHNCeU1DSURbdF06bnVsbH19LHtrZXk6XCJnZXRFbGVtZW50c1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKFwiflwiIT09dC5jaGFyQXQoMCkpe2lmKFdyLmV4ZWModCkpe3ZhciBlPXQuc3BsaXQoJ1wiJylbMV07cmV0dXJuIHRoaXMuZWxlbWVudHNCeU1DSURbZV19cmV0dXJuW119aWYoXCIjXCI9PT0odD10LnN1YnN0cigxKSkuY2hhckF0KDApKXJldHVybiBpaSh0aGlzLmF1ZGlvU291cmNlcyx0LnN1YnN0cigxKSk/W3RoaXMuYXVkaW9Tb3VyY2VzW3Quc3Vic3RyKDEpXV06W107aWYoXCIuXCI9PT10LmNoYXJBdCgwKSl7dmFyIG49dC5zdWJzdHIoMSksaT1bXTtmb3IodmFyIHIgaW4gdGhpcy5hdWRpb1NvdXJjZXMpci5jbGFzc2VzLmluZGV4T2Yobik+PTAmJmkucHVzaChyKTtyZXR1cm4gaX19fSx7a2V5OlwiZ2V0TUNJRFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0Lm1jaWR9fSx7a2V5Olwic2V0TUNJRFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dC5tY2lkPWV9fSx7a2V5OlwiZ2V0RWxlbWVudFNlbGVjdG9yQnlNQ0lEXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuJ1tkYXRhLW1jaWQ9XCInLmNvbmNhdCh0LCdcIl0nKX19XSksdH0oKSxVcj1mdW5jdGlvbih0KXt1KGksdCk7dmFyIGU9cChpKTtmdW5jdGlvbiBpKHQscyl7dmFyIGE7cih0aGlzLGkpLChhPWUuY2FsbCh0aGlzLHQscykpLmF1ZGlvTm9kZVNldD1uZXcgcXIsYS5hdWRpb05vZGVTZXQuY29ubmVjdChYbi5kZXN0aW5hdGlvbik7dmFyIG89bmV3IEhyKGEucHJvcHMuYXVkaW9Tb3VyY2VzLGEuYXVkaW9Ob2RlU2V0KTtyZXR1cm4gYS5vd25Db250ZXh0PW4obih7fSxvLmNvbnRleHQpLHt9LHtpc0hvc3RlZENsaXA6ITAsaW5pdFBhcmFtczpzLmluaXRQYXJhbXN9KSxhLmF1ZGlvQ2xpcD0hMCxhfXJldHVybiBhKGksW3trZXk6XCJoYW5kbGVSZWNhbGNEdXJhdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7bShsKGkucHJvdG90eXBlKSxcImhhbmRsZVJlY2FsY0R1cmF0aW9uXCIsdGhpcykuY2FsbCh0aGlzLHQsZSkmJnRoaXMucHV0TWVzc2FnZU9uUGlwZShcInJlY2FsY0R1cmF0aW9uXCIse30sXCJHcm91cHNcIix7c2VsZkV4ZWN1dGU6ITEsZGlyZWN0aW9uOkFpfSl9fSx7a2V5Olwib25Qcm9ncmVzc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSYmYXJndW1lbnRzWzNdLHM9dGhpcy5kZWxheSt0aGlzLmNhbGN1bGF0ZWREdXJhdGlvbit0aGlzLmhpYXR1cyxhPTA9PT1zPzA6ZSVzOzAhPT1lJiYwPT09YSYmKGE9dGhpcy5kZWxheSt0aGlzLmNhbGN1bGF0ZWREdXJhdGlvbik7dmFyIG89YS10aGlzLmRlbGF5O2lmKCEobzwwKSl7bz50aGlzLmNhbGN1bGF0ZWREdXJhdGlvbiYmKG89dGhpcy5jYWxjdWxhdGVkRHVyYXRpb24pO3ZhciB1PTA9PT10aGlzLmNhbGN1bGF0ZWREdXJhdGlvbj8wOm8vdGhpcy5jYWxjdWxhdGVkRHVyYXRpb247bShsKGkucHJvdG90eXBlKSxcIm9uUHJvZ3Jlc3NcIix0aGlzKS5jYWxsKHRoaXMsdSxvLHRoaXMuaWQscil9fX0se2tleTpcIl9vbkdldENvbnRleHRPbmNlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5hdWRpb05vZGVTZXQuZGlzY29ubmVjdCgpLHRoaXMucGFyZW50Q2xpcENvbnRleHQ9dCx0aGlzLmF1ZGlvTm9kZVNldC5jb25uZWN0KHQubWFzdGVyTm9kZS5pbnB1dCl9fSx7a2V5OlwibGFzdFdpc2hcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuYXVkaW9Ob2RlU2V0Lm91dHB1dC5kaXNjb25uZWN0KCksdGhpcy5hdWRpb05vZGVTZXQub3V0cHV0LmNvbm5lY3QoWG4uZGVzdGluYXRpb24pfX0se2tleTpcInNldFZvbHVtZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuYXVkaW9Ob2RlU2V0Lm91dHB1dC5nYWluLnZhbHVlPXR9fV0pLGl9KEdyKSxacj1mdW5jdGlvbih0KXt1KG4sdCk7dmFyIGU9cChuKTtmdW5jdGlvbiBuKCl7cmV0dXJuIHIodGhpcyxuKSxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gYShuLFt7a2V5Olwib25Qcm9ncmVzc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoIXRoaXMuZWxlbWVudC5zb3VuZExvYWRlZClyZXR1cm4gdGhpcy5zZXRCbG9jayhcImxvYWRpbmcgc291bmRcIiksdGhpcy5lbGVtZW50LnB1YlN1Yi5zdWIodGhpcy5pZCwoZnVuY3Rpb24oKXtlLnVuYmxvY2soKX0pKSwhMTtpZihcImdhaW5cIj09PXRoaXMuYXR0cmlidXRlS2V5KXt2YXIgbj0odGhpcy50YXJnZXRWYWx1ZS10aGlzLmluaXRpYWxWYWx1ZSkqdCt0aGlzLmluaXRpYWxWYWx1ZTt0aGlzLmVsZW1lbnQuYXVkaW9Ob2RlU2V0LmdhaW5Ob2RlLmdhaW4udmFsdWU9bn1lbHNlIGlmKFwicGFuXCI9PT10aGlzLmF0dHJpYnV0ZUtleSl7dmFyIGk9KHRoaXMudGFyZ2V0VmFsdWUtdGhpcy5pbml0aWFsVmFsdWUpKnQrdGhpcy5pbml0aWFsVmFsdWU7dGhpcy5lbGVtZW50LmF1ZGlvTm9kZVNldC5wYW5uZXJOb2RlLnBhbi52YWx1ZT1pfX19LHtrZXk6XCJnZXRTY3JhdGNoVmFsdWVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwicGFuXCI9PT10aGlzLmF0dHJpYnV0ZUtleT9paSh0aGlzLmVsZW1lbnQuc3RhcnRWYWx1ZXMsXCJwYW5cIik/dGhpcy5lbGVtZW50LnN0YXJ0VmFsdWVzLnBhbjowOlwiZ2FpblwiPT09dGhpcy5hdHRyaWJ1dGVLZXk/aWkodGhpcy5lbGVtZW50LnN0YXJ0VmFsdWVzLFwiZ2FpblwiKT90aGlzLmVsZW1lbnQuc3RhcnRWYWx1ZXMuZ2FpbjoxOnZvaWQgMH19XSksbn0oSGkpLFFyPVwifHx8XCIsWHI9ZnVuY3Rpb24odCl7dShuLHQpO3ZhciBlPXAobik7ZnVuY3Rpb24gbih0KXt2YXIgaTtyZXR1cm4gcih0aGlzLG4pLChpPWUuY2FsbCh0aGlzLHQpKS5wbGF5aW5nSW5jaWRlbnRzSWRzPVtdLGkudHJhbnNpdGlvbmVkPSExLHQuc3Vic2NyaWJlKGZpKCksaS5fc3RhdGVDaGFuZ2UuYmluZChoKGkpKSwwLDEsITApLGl9cmV0dXJuIGEobixbe2tleTpcIl9zdGF0ZUNoYW5nZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7XCJwYXVzZWRcIiE9PWUmJlwiaWRsZVwiIT09ZSYmXCJibG9ja2VkXCIhPT1lfHwodGhpcy5fc3RvcFBsYXlpbmdJbmNpZGVudHMoKSx0aGlzLnRyYW5zaXRpb25lZD0hMCl9fSx7a2V5OlwiX3N0b3BQbGF5aW5nSW5jaWRlbnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMucGxheWluZ0luY2lkZW50c0lkcy5sZW5ndGg7dCsrKXt2YXIgZT10aGlzLnBsYXlpbmdJbmNpZGVudHNJZHNbdF0uc3BsaXQoUXIpO3RoaXMuX2luY2lkZW50QnlJZChlWzBdKS5zdG9wKGVbMV0pfXRoaXMucGxheWluZ0luY2lkZW50c0lkcz1bXX19LHtrZXk6XCJtb3ZlVG9cIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXTtpZihcInRyYW5zaXRpb25hbFwiPT09dGhpcy5ydW5UaW1lSW5mby5zdGF0ZXx8aSl7dGhpcy50cmFuc2l0aW9uZWQ9ITAsdGhpcy5fc3RvcFBsYXlpbmdJbmNpZGVudHMoKTtmb3IodmFyIHI9MDtyPHRoaXMuaW5jaWRlbnRzLmxlbmd0aDtyKyspe3ZhciBzPXRoaXMuaW5jaWRlbnRzW3JdLGE9cy5pZCxvPXMubWlsbGlzZWNvbmQsdT10aGlzLl9pbmNpZGVudEJ5SWQoYSksbD12b2lkIDAsYz12b2lkIDA7ZTxvPyhsPTAsYz0wKTplPm8rdS5kdXJhdGlvbj8obD0xLGM9dS5kdXJhdGlvbik6bD0oYz1lLW8pL3UuZHVyYXRpb24sdS5vblByb2dyZXNzKGwsYyxuLCEwKX19ZWxzZXt0aGlzLnRyYW5zaXRpb25lZCYmKHQ9MCx0aGlzLnRyYW5zaXRpb25lZD0hMSk7Zm9yKHZhciBoPXQ+ZSxkPXRoaXMuaW5jaWRlbnRzLHA9MDtwPGQubGVuZ3RoO3ArKyl7dmFyIGY9ZFtwXSxtPWYubWlsbGlzZWNvbmQsdj10aGlzLl9pbmNpZGVudEJ5SWQoZi5pZCksZz12LmR1cmF0aW9uLHk9bStnLGs9XCJcIi5jb25jYXQoZi5pZCkuY29uY2F0KFFyKS5jb25jYXQobik7aWYoeT50JiZ5PD1lfHxoKXt2LnN0b3Aobik7dmFyIGI9dGhpcy5wbGF5aW5nSW5jaWRlbnRzSWRzLmluZGV4T2Yoayk7Yj4tMSYmdGhpcy5wbGF5aW5nSW5jaWRlbnRzSWRzLnNwbGljZShiLDEpfXZhciB4PWg/MDp0O2lmKG0+PXgmJm08ZSYmeT5lKXt2YXIgQz0oZS1tKS9nPj0xLEk9Qz8xOihlLW0pL2csdz1DP2c6ZS1tLEU9di5wbGF5KEksdyxuKTtFJiZ0aGlzLnBsYXlpbmdJbmNpZGVudHNJZHMucHVzaChrKX19dGhpcy5ydW5UaW1lSW5mby5jdXJyZW50TWlsbGlzZWNvbmQ9ZX19fV0pLG59KGppKSxZcj1QKG51bGwsKGZ1bmN0aW9uKHQpe3JldHVybntGOmZ1bmN0aW9uIGUoKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30saT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scz1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMDtyKHRoaXMsZSksdCh0aGlzKSx0aGlzLmF0dHJzPW4sdGhpcy5wcm9wcz1pLHRoaXMuZG5hPXMsdGhpcy5jb250ZXh0PXMuY29udGV4dCx0aGlzLm1jaWQ9cy5tY2lkLHRoaXMuaWQ9aS5pZHx8ZmkoKSx0aGlzLm1vZGVsSWQ9aS5tb2RlbElkLHRoaXMuZ290Q29udGV4dD0hMSx0aGlzLnBsdWdpbl9jaGFubmVsX2NsYXNzPVhyLHRoaXMubWNfcGx1Z2luX25wbV9uYW1lPVwibW90b3ItY29ydGV4LWpzLW1lZGlhLXBsYXliYWNrXCIsaWkoaSxcInBsdWdpbl9jaGFubmVsX2NsYXNzXCIpJiYodGhpcy5wbHVnaW5fY2hhbm5lbF9jbGFzcz1pLnBsdWdpbl9jaGFubmVsX2NsYXNzKSxpaShpLFwibWNfcGx1Z2luX25wbV9uYW1lXCIpJiYodGhpcy5tY19wbHVnaW5fbnBtX25hbWU9aS5tY19wbHVnaW5fbnBtX25hbWUpLHRoaXMuaGFzSW5jaWRlbnRzPSExLHRoaXMuYXV0b0dlbmVyYXRlZD0hMSx0aGlzLm9uSW5pdGlhbGlzZShuLGkpfSxkOlt7a2luZDpcImdldFwiLGtleTpcInNlbGVjdG9yXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wcy5zZWxlY3Rvcn19LHtraW5kOlwiZ2V0XCIsa2V5OlwiZWxlbWVudFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dC5nZXRFbGVtZW50QnlNQ0lEKHRoaXMubWNpZCl9fSx7a2luZDpcIm1ldGhvZFwiLGRlY29yYXRvcnM6W0ppXSxrZXk6XCJnZXRJbmNpZGVudHNCeUNoYW5uZWxcIix2YWx1ZTpmdW5jdGlvbigpe319LHtraW5kOlwibWV0aG9kXCIsa2V5OlwiX29uR2V0Q29udGV4dE9uY2VcIix2YWx1ZTpmdW5jdGlvbigpe3RyeXtpZighMD09PXRoaXMuY29udGV4dC5mcmFnbWVudClyZXR1cm47dGhpcy5nb3RDb250ZXh0fHwodGhpcy5vbkdldENvbnRleHQoKSx0aGlzLmdvdENvbnRleHQ9ITApfWNhdGNoKHQpe3lpLmVycm9yKHQpLHlpLmVycm9yKHRoaXMubWNpZCl9fX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJvbkdldENvbnRleHRcIix2YWx1ZTpmdW5jdGlvbigpe3lpLmluZm8oJ092ZXJ3cml0dGUgdGhlIFwib25HZXRDb250ZXh0XCIgbWV0aG9kIHdpdGggdGhlIGNvZGUgeW91IHdhbnQgdG8gZ2V0IGV4ZWN1dGVkJyxcImluZm9cIil9fSx7a2luZDpcIm1ldGhvZFwiLGtleTpcImxhc3RXaXNoXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2luZDpcIm1ldGhvZFwiLGtleTpcIm9uSW5pdGlhbGlzZVwiLHZhbHVlOmZ1bmN0aW9uKCl7eWkuaW5mbygnT3ZlcndyaXR0ZSB0aGUgXCJvbkluaWFsaXNlXCIgbWV0aG9kIHdpdGggdGhlIGNvZGUgeW91IHdhbnQgdG8gZ2V0IGV4ZWN1dGVkJyxcImluZm9cIil9fSx7a2luZDpcIm1ldGhvZFwiLGtleTpcIm9uUHJvZ3Jlc3NcIix2YWx1ZTpmdW5jdGlvbih0LGUpe319LHtraW5kOlwibWV0aG9kXCIsa2V5OlwicGxheVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiEwfX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJzdG9wXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2luZDpcIm1ldGhvZFwiLGRlY29yYXRvcnM6W1ZpXSxrZXk6XCJzZXRCbG9ja1wiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tpbmQ6XCJtZXRob2RcIixkZWNvcmF0b3JzOlskaV0sa2V5OlwidW5ibG9ja1wiLHZhbHVlOmZ1bmN0aW9uKCl7fX1dfX0pKSx0cz17bnBtX25hbWU6XCJAa2lzc215YnV0dG9uL21vdG9yY29ydGV4LXNvdW5kc3lzdGVtXCIsbmFtZTpcIkludGVybmFsIE1vdG9yQ29ydGV4IFNvdW5kc3lzdGVtXCIsaW5jaWRlbnRzOlt7ZXhwb3J0YWJsZTpmdW5jdGlvbih0KXt1KG4sdCk7dmFyIGU9cChuKTtmdW5jdGlvbiBuKCl7cmV0dXJuIHIodGhpcyxuKSxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gYShuLFt7a2V5OlwicGxheVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoIXRoaXMuZWxlbWVudC5zb3VuZExvYWRlZClyZXR1cm4gdGhpcy5zZXRCbG9jayhcImxvYWRpbmcgc291bmRcIiksdGhpcy5lbGVtZW50LnB1YlN1Yi5zdWIodGhpcy5pZCwoZnVuY3Rpb24oKXtlLnVuYmxvY2soKX0pKSwhMTt2YXIgbj0wO3JldHVybiBpaSh0aGlzLnByb3BzLFwic3RhcnRGcm9tXCIpJiYobj10aGlzLnByb3BzLnN0YXJ0RnJvbSksdGhpcy5hdWRpb05vZGU9WG4uY3JlYXRlQnVmZmVyU291cmNlKCksdGhpcy5hdWRpb05vZGUuYnVmZmVyPXRoaXMuZWxlbWVudC5idWZmZXIsdGhpcy5hdWRpb05vZGUuY29ubmVjdCh0aGlzLmVsZW1lbnQuYXVkaW9Ob2RlU2V0LmlucHV0KSx0aGlzLmF1ZGlvTm9kZS5zdGFydCgwLCh0K24pLzFlMyksITB9fSx7a2V5Olwic3RvcFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5hdWRpb05vZGUmJnRoaXMuYXVkaW9Ob2RlLnN0b3AoKX19XSksbn0oWXIpLG5hbWU6XCJBdWRpb1BsYXliYWNrXCJ9LHtleHBvcnRhYmxlOlpyLG5hbWU6XCJBdWRpb0VmZmVjdFwifV0sQ2xpcDp7ZXhwb3J0YWJsZTpVcn0sYXVkaW86XCJvbmx5XCJ9LGVzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsO3IodGhpcyx0KSx0aGlzLnJlYWxBcnJheT1bXSxudWxsIT1lJiYodGhpcy5yZWFsQXJyYXk9ZSl9cmV0dXJuIGEodCxbe2tleTpcIl9oYXNPd25Qcm9wZXJ0eVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBpaSh0aGlzLnJlYWxBcnJheSx0KX19LHtrZXk6XCJfZ2V0XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmVhbEFycmF5W3RdfX0se2tleTpcIl9zZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMucmVhbEFycmF5W3RdPWV9fSx7a2V5OlwiX2tleXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLnJlYWxBcnJheSl9fSx7a2V5OlwiX2RlbGV0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBkZWxldGUgdGhpcy5yZWFsQXJyYXlbdF19fSx7a2V5OlwiX2V4cG9ydFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVhbEFycmF5fX1dKSx0fSgpLG5zPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtyKHRoaXMsdCksdGhpcy5vcmlnaW5hbEFycmF5PWUsdGhpcy5leHRyYUFycmF5PXt9LHRoaXMuYWRkZWRLZXlzPVtdLHRoaXMucmVtb3ZlZEtleXM9bmV3IFNldH1yZXR1cm4gYSh0LFt7a2V5OlwiX2hhc093blByb3BlcnR5XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGlpKHRoaXMub3JpZ2luYWxBcnJheSx0KXx8aWkodGhpcy5leHRyYUFycmF5LHQpfX0se2tleTpcIl9nZXRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gaWkodGhpcy5leHRyYUFycmF5LHQpP3RoaXMuZXh0cmFBcnJheVt0XTppaSh0aGlzLm9yaWdpbmFsQXJyYXksdCk/dGhpcy5vcmlnaW5hbEFycmF5W3RdOnZvaWQgMH19LHtrZXk6XCJfc2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmV4dHJhQXJyYXlbdF09ZSxpaSh0aGlzLm9yaWdpbmFsQXJyYXksdCl8fHRoaXMuYWRkZWRLZXlzLnB1c2godCksdGhpcy5yZW1vdmVkS2V5cy5kZWxldGUodCl9fSx7a2V5OlwiX2tleXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1PYmplY3Qua2V5cyh0aGlzLm9yaWdpbmFsQXJyYXkpO3JldHVybiBlLnB1c2guYXBwbHkoZSxrKHRoaXMuYWRkZWRLZXlzKSksZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiF0LnJlbW92ZWRLZXlzLmhhcyhlKX0pKX19LHtrZXk6XCJfZGVsZXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5hZGRlZEtleXMuaW5kZXhPZih0KTtyZXR1cm4gZT4tMT8odGhpcy5hZGRlZEtleXMuc3BsaWNlKGUpLGRlbGV0ZSB0aGlzLmV4dHJhQXJyYXlbdF0pOih0aGlzLnJlbW92ZWRLZXlzLmFkZCh0KSwhMCl9fSx7a2V5OlwiX2V4cG9ydFwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuZXh0cmFBcnJheSl0aGlzLm9yaWdpbmFsQXJyYXlbdF09dGhpcy5leHRyYUFycmF5W3RdO3ZhciBlLG49RSh0aGlzLnJlbW92ZWRLZXlzKTt0cnl7Zm9yKG4ucygpOyEoZT1uLm4oKSkuZG9uZTspe3ZhciBpPWUudmFsdWU7ZGVsZXRlIHRoaXMub3JpZ2luYWxBcnJheVtpXX19Y2F0Y2godCl7bi5lKHQpfWZpbmFsbHl7bi5mKCl9cmV0dXJuIHRoaXMub3JpZ2luYWxBcnJheX19XSksdH0oKTtmdW5jdGlvbiBpcyh0LGUsbixpKXt2YXIgcj0hMTtmb3IodmFyIHMgaW4gZSlpaShuLHMpfHwocj0hMCxpW3NdPWVbc10pO3JldHVybiB0LmFuaW1hdGVkQXR0cmlidXRlVmFsdWU9aSxyfWZ1bmN0aW9uIHJzKHQsZSxuLGkpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdJiZhcmd1bWVudHNbNF0scz10W2ldLGE9ZS5fZ2V0KHMuaWQpO2Euc2V0SW5pdGlhbFZhbHVlKG4scik7dmFyIG89aXMoYSxhLmluaXRpYWxWYWx1ZSxhLm9yaWdpbmFsQW5pbWF0ZWRBdHRyaWJ1dGVWYWx1ZSxKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGEuYW5pbWF0ZWRBdHRyaWJ1dGVWYWx1ZSkpKTtvJiYoYS5sYXN0V2lzaCgpLGEub25HZXRDb250ZXh0KCkpLG8mJmk8dC5sZW5ndGgtMSYmcnModCxlLGEuYW5pbWF0ZWRBdHRyaWJ1dGVWYWx1ZSxpKzEsITEpfXZhciBzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cih0aGlzLHQpLHRoaXMubGFuZXM9e30sZS5sYW5lcyYmKHRoaXMubGFuZXM9ZS5sYW5lcyksdGhpcy5jb21ib0F0dHJpYnV0ZXM9e30sbnVsbCE9ZS5jb21ib0F0dHJpYnV0ZXMmJih0aGlzLmNvbWJvQXR0cmlidXRlcz1lLmNvbWJvQXR0cmlidXRlcyksdGhpcy5iZWxvbmdpbmdMYW5lS2V5c0J5QW5pbWF0aW9uSWQ9e30sZS5iZWxvbmdpbmdMYW5lS2V5c0J5QW5pbWF0aW9uSWQmJih0aGlzLmJlbG9uZ2luZ0xhbmVLZXlzQnlBbmltYXRpb25JZD1lLmJlbG9uZ2luZ0xhbmVLZXlzQnlBbmltYXRpb25JZCksdGhpcy5pbmNpZGVudHNCeUlkPW5ldyBlcyh7fSksZS5pbmNpZGVudHNCeUlkJiYodGhpcy5pbmNpZGVudHNCeUlkPWUuaW5jaWRlbnRzQnlJZCl9cmV0dXJuIGEodCxbe2tleTpcIl9yZXNpemVcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9T2JqZWN0LmtleXModGhpcy5sYW5lcyksbj0wO248ZS5sZW5ndGg7bisrKWZvcih2YXIgaT1lW25dLHI9dGhpcy5sYW5lc1tpXSxzPTA7czxyLmxlbmd0aDtzKyspcltzXS5taWxsaXNlY29uZD1yW3NdLm1pbGxpc2Vjb25kKnR9fSx7a2V5OlwiY3JlYXRlVGVzdExhbmVzU2FuYm94XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bGFuZXM6X24odGhpcy5sYW5lcyksYmVsb25naW5nTGFuZUtleXNCeUFuaW1hdGlvbklkOl9uKHRoaXMuYmVsb25naW5nTGFuZUtleXNCeUFuaW1hdGlvbklkKSxpbmNpZGVudHNCeUlkOm5ldyBucyh0aGlzLmluY2lkZW50c0J5SWQuX2V4cG9ydCgpKX07cmV0dXJuIHRoaXMuY29tYm9BdHRyaWJ1dGVzJiYoZS5jb21ib0F0dHJpYnV0ZXM9dGhpcy5jb21ib0F0dHJpYnV0ZXMpLG5ldyB0KGUpfX0se2tleTpcImdldExhbmVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmxhbmVzW21pKHQsZSldfX0se2tleTpcImFwcGx5U2FuZGJveENoYW5nZXNcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmxhbmVzPXQubGFuZXMuZXhwb3J0RmxhdHRlbmVkKCksdGhpcy5iZWxvbmdpbmdMYW5lS2V5c0J5QW5pbWF0aW9uSWQ9dC5iZWxvbmdpbmdMYW5lS2V5c0J5QW5pbWF0aW9uSWQuZXhwb3J0RmxhdHRlbmVkKCksdGhpcy5pbmNpZGVudHNCeUlkPW5ldyBlcyh0LmluY2lkZW50c0J5SWQuX2V4cG9ydCgpKX19LHtrZXk6XCJsYW5lRXhpc3RzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdLGk9bWkodCxlKTtyZXR1cm4hIXRoaXMubGFuZXMuaGFzT3duUHJvcGVydHkoaSl8fChuJiZ0aGlzLmxhbmVzLnNldFZhbHVlKGksW10pLCExKX19LHtrZXk6XCJnZXRPdmVybGFwcGluZ0FuaW1zXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMscj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106W10scz1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XT9hcmd1bWVudHNbNF06bnVsbDtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmxhbmVzW21pKGUsbildfHxbXSkuZmlsdGVyKChmdW5jdGlvbihlKXt2YXIgbj10LmluY2lkZW50LmR1cmF0aW9uO251bGwhPXMmJihuPXMpO3ZhciBhPWkuaW5jaWRlbnRzQnlJZC5fZ2V0KGUuaWQpLmR1cmF0aW9uO3JldHVybiBlLmlkIT09dC5pbmNpZGVudC5pZCYmIXIuaW5jbHVkZXMoZS5pZCkmJihlLm1pbGxpc2Vjb25kPj10Lm1pbGxpc2Vjb25kJiZlLm1pbGxpc2Vjb25kPG4rdC5taWxsaXNlY29uZHx8ZS5taWxsaXNlY29uZCthPnQubWlsbGlzZWNvbmQmJmUubWlsbGlzZWNvbmQrYTw9bit0Lm1pbGxpc2Vjb25kfHxlLm1pbGxpc2Vjb25kPHQubWlsbGlzZWNvbmQmJmUubWlsbGlzZWNvbmQrYT5uK3QubWlsbGlzZWNvbmQpfSkpfX0se2tleTpcImFkZEVsZW1lbnRUb0xhbmVcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLHM9W10sYT1taSh0LGUpO3RoaXMuaW5jaWRlbnRzQnlJZC5fc2V0KGkuaWQsaSk7dmFyIG89e21pbGxpc2Vjb25kOm4saWQ6aS5pZH07dGhpcy5sYW5lRXhpc3RzKHQsZSwhMCksdGhpcy5sYW5lcy5wdXNoVmFsdWUoYSxvKSx0aGlzLmxhbmVzW2FdLnNvcnRCeShcIm1pbGxpc2Vjb25kXCIpO3ZhciB1PXRoaXMubGFuZXNbYV0sbD10aGlzLmxhbmVzW2FdLmZpbmRJbmRleCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQ9PT1pLmlkfSkpO3JldHVybiBpaShpLmlkKXx8dGhpcy5iZWxvbmdpbmdMYW5lS2V5c0J5QW5pbWF0aW9uSWQuc2V0VmFsdWUoaS5pZCxbXSksdGhpcy5iZWxvbmdpbmdMYW5lS2V5c0J5QW5pbWF0aW9uSWQucHVzaFZhbHVlKGkuaWQsYSksMD09PWw/dGhpcy5sYW5lc1thXS5sZW5ndGg+MT9zLnB1c2goKGZ1bmN0aW9uKCl7aS5zZXRJbml0aWFsVmFsdWUoci5pbmNpZGVudHNCeUlkLl9nZXQodVsxXS5pZCkucHVyZUluaXRpYWxWYWx1ZXMpfSkpOnMucHVzaCgoZnVuY3Rpb24oKXtpLnNldEluaXRpYWxWYWx1ZSgpfSkpOnMucHVzaCgoZnVuY3Rpb24oKXtpLnNldEluaXRpYWxWYWx1ZShyLmluY2lkZW50c0J5SWQuX2dldCh1W2wtMV0uaWQpLmFuaW1hdGVkQXR0cmlidXRlVmFsdWUpfSkpLGlpKHRoaXMuY29tYm9BdHRyaWJ1dGVzLGUpJiZzLnB1c2goKGZ1bmN0aW9uKCl7cmV0dXJuIHJzKHUsci5pbmNpZGVudHNCeUlkLGkuaW5pdGlhbFZhbHVlLGwpfSkpLGwrMTx1Lmxlbmd0aCYmcy5wdXNoKChmdW5jdGlvbigpe3IuaW5jaWRlbnRzQnlJZC5fZ2V0KHVbbCsxXS5pZCkuc2V0SW5pdGlhbFZhbHVlKGkuYW5pbWF0ZWRBdHRyaWJ1dGVWYWx1ZSksci5pbmNpZGVudHNCeUlkLl9nZXQodVtsKzFdLmlkKS5nb3RDb250ZXh0JiYoci5pbmNpZGVudHNCeUlkLl9nZXQodVtsKzFdLmlkKS5sYXN0V2lzaCgpLHIuaW5jaWRlbnRzQnlJZC5fZ2V0KHVbbCsxXS5pZCkub25HZXRDb250ZXh0KCkpfSkpLHN9fSx7a2V5OlwidXBkYXRlTGFuZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMsaT17fSxyPTA7cjx0Lmxlbmd0aDtyKyspZm9yKHZhciBzPXRoaXMuYmVsb25naW5nTGFuZUtleXNCeUFuaW1hdGlvbklkW3Rbcl1dLGE9MDthPHMubGVuZ3RoO2ErKyl7dmFyIG89c1thXTtpaShpLG8pfHwoaVtvXT17YW5pbWF0aW9uczpbXSxsYW5lOnRoaXMubGFuZXNbb10sbGFuZURhdGE6ZGkoc1thXSl9KSxpW29dLmFuaW1hdGlvbnMucHVzaCh0W3JdKX1mb3IodmFyIHUgaW4gaSl7dmFyIGw9aVt1XSxjPWwubGFuZURhdGEsaD1sLmxhbmUsZD1sLmFuaW1hdGlvbnMscD1rKGgpO3Auc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5taWxsaXNlY29uZC1lLm1pbGxpc2Vjb25kfSkpO2Zvcih2YXIgZj1paSh0aGlzLmNvbWJvQXR0cmlidXRlcyxjLmF0dHJpYnV0ZSksbT0wO208aC5sZW5ndGg7bSsrKWQuaW5jbHVkZXMoaFttXS5pZCkmJihoW21dLm1pbGxpc2Vjb25kKz1lKTtoLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubWlsbGlzZWNvbmQtZS5taWxsaXNlY29uZH0pKSx0aGlzLmxhbmVzW3VdPWg7Zm9yKHZhciB2PWZ1bmN0aW9uKHQpe3ZhciBlPWRbdF0saT1wLmZpbmRJbmRleCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQ9PT1lfSkpLHI9aC5maW5kSW5kZXgoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkPT09ZX0pKTtpZihpPT09ciYmcjw9MSlyZXR1cm5cImNvbnRpbnVlXCI7dmFyIHM9bi5pbmNpZGVudHNCeUlkLl9nZXQoaFtyXS5pZCk7aWYoaSsxPGgubGVuZ3RoKWlmKDA9PT1pKWlmKGYpcnMoaCxuLmluY2lkZW50c0J5SWQscy5wdXJlSW5pdGlhbFZhbHVlcywwLCEwKTtlbHNle3ZhciBhPW4uaW5jaWRlbnRzQnlJZC5fZ2V0KHBbMV0uaWQpO2Euc2V0SW5pdGlhbFZhbHVlKHMucHVyZUluaXRpYWxWYWx1ZXMpLGEub25HZXRDb250ZXh0KCl9ZWxzZSBpZihmKXt2YXIgbz1yPmk/aTpyO3JzKGgsbi5pbmNpZGVudHNCeUlkLG4uaW5jaWRlbnRzQnlJZC5fZ2V0KHBbaS0xXS5pZCkuYW5pbWF0ZWRBdHRyaWJ1dGVWYWx1ZSxvLCEwKX1lbHNlIG4uaW5jaWRlbnRzQnlJZC5fZ2V0KHBbaSsxXS5pZCkuc2V0SW5pdGlhbFZhbHVlKG4uaW5jaWRlbnRzQnlJZC5fZ2V0KHBbaS0xXS5pZCkuYW5pbWF0ZWRBdHRyaWJ1dGVWYWx1ZSksbi5pbmNpZGVudHNCeUlkLl9nZXQocFtpKzFdLmlkKS5vbkdldENvbnRleHQoKTtpZigwPT09cj9mP3JzKGgsbi5pbmNpZGVudHNCeUlkLG4uaW5jaWRlbnRzQnlJZC5fZ2V0KHBbMF0uaWQpLnB1cmVJbml0aWFsVmFsdWVzLHIsITApOihzLnNldEluaXRpYWxWYWx1ZShuLmluY2lkZW50c0J5SWQuX2dldChwWzBdLmlkKS5wdXJlSW5pdGlhbFZhbHVlcykscy5vbkdldENvbnRleHQoKSk6Zj9ycyhoLG4uaW5jaWRlbnRzQnlJZCxuLmluY2lkZW50c0J5SWQuX2dldChoW3ItMV0uaWQpLmFuaW1hdGVkQXR0cmlidXRlVmFsdWUsciwhMCk6KHMuc2V0SW5pdGlhbFZhbHVlKG4uaW5jaWRlbnRzQnlJZC5fZ2V0KGhbci0xXS5pZCkuYW5pbWF0ZWRBdHRyaWJ1dGVWYWx1ZSkscy5vbkdldENvbnRleHQoKSkscisxPj1oLmxlbmd0aClyZXR1cm5cImNvbnRpbnVlXCI7aWYoZilyZXR1cm4gcnMoaCxuLmluY2lkZW50c0J5SWQscy5hbmltYXRlZEF0dHJpYnV0ZVZhbHVlLHIrMSwhMCksXCJjb250aW51ZVwiO3ZhciB1PW4uaW5jaWRlbnRzQnlJZC5fZ2V0KGhbcisxXS5pZCk7dS5zZXRJbml0aWFsVmFsdWUocy5hbmltYXRlZEF0dHJpYnV0ZVZhbHVlKSx1Lm9uR2V0Q29udGV4dCgpfSxnPTA7ZzxkLmxlbmd0aDtnKyspdihnKX19fSx7a2V5OlwiZGVsZXRlQW5pbWF0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT17fSxpPTA7aTx0Lmxlbmd0aDtpKyspe2Zvcih2YXIgcj10W2ldLHM9dGhpcy5iZWxvbmdpbmdMYW5lS2V5c0J5QW5pbWF0aW9uSWRbcl0sYT0wO2E8cy5sZW5ndGg7YSsrKXtmb3IodmFyIG89dGhpcy5sYW5lc1tzW2FdXSx1PS0xLGw9MDtsPG8ubGVuZ3RoO2wrKylpZihvW2xdLmlkPT09cil7dT1sO2JyZWFrfWZvcih2YXIgYz1uKHt9LG9bdV0pLGg9dGhpcy5pbmNpZGVudHNCeUlkLl9nZXQoYy5pZCksZD1kaShzW2FdKSxwPVtdLGY9MDtmPG8ubGVuZ3RoO2YrKylvW2ZdLmlkIT09ciYmcC5wdXNoKG9bZl0pO2lmKHRoaXMubGFuZXNbc1thXV09cCwwIT09KG89dGhpcy5sYW5lc1tzW2FdXSkubGVuZ3RoKXtlW3NbYV1dPWRpKHNbYV0pO3ZhciBtPXRoaXMuaW5jaWRlbnRzQnlJZC5fZ2V0KGMuaWQpLnB1cmVJbml0aWFsVmFsdWVzO2lmKCEodT49by5sZW5ndGh8fCExPT09bSkpaWYoaWkodGhpcy5jb21ib0F0dHJpYnV0ZXMsZC5hdHRyaWJ1dGUpKXJzKG8sdGhpcy5pbmNpZGVudHNCeUlkLG0sdSwhMCk7ZWxzZXt2YXIgdj10aGlzLmluY2lkZW50c0J5SWQuX2dldChvW3VdLmlkKTt2LnNldEluaXRpYWxWYWx1ZShtKSx2Lm9uR2V0Q29udGV4dCgpfX1lbHNlIGgub25Qcm9ncmVzcygwLDApLGRlbGV0ZSB0aGlzLmxhbmVzW3NbYV1dLGlpKGUsc1thXSkmJmRlbGV0ZSBlW3NbYV1dfWRlbGV0ZSB0aGlzLmJlbG9uZ2luZ0xhbmVLZXlzQnlBbmltYXRpb25JZFt0W2ldXX1yZXR1cm4gZX19LHtrZXk6XCJyZWNhbGNTY3JhdGNoVmFsdWVzXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPU9iamVjdC5rZXlzKHRoaXMubGFuZXMpLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXSxyPXRoaXMubGFuZXNbaV07aWYoci5sZW5ndGg+MCl7dmFyIHM9dGhpcy5pbmNpZGVudHNCeUlkLl9nZXQoclswXS5pZCksYT1zLmdldFNjcmF0Y2hWYWx1ZSh0KSxvPWRpKGkpO2lpKHRoaXMuY29tYm9BdHRyaWJ1dGVzLG8uYXR0cmlidXRlKT9ycyhyLHRoaXMuaW5jaWRlbnRzQnlJZCxhLDAsITApOnMuc2V0SW5pdGlhbFZhbHVlKGEpLHMubGFzdFdpc2goKSxzLm9uR2V0Q29udGV4dCgpfX19fV0pLHR9KCksYXM9ZnVuY3Rpb24odCl7dShpLHQpO3ZhciBlPXAoaSk7ZnVuY3Rpb24gaSh0KXt2YXIgbjtyZXR1cm4gcih0aGlzLGkpLChuPWUuY2FsbCh0aGlzLHQpKS5jb21ib0F0dHJpYnV0ZXM9e30sbi5maXhlZEF0dHJpYnV0ZU5hbWU9XCJfXCIsbnVsbCE9dC5jb21ib0F0dHJpYnV0ZXMmJihuLmNvbWJvQXR0cmlidXRlcz10LmNvbWJvQXR0cmlidXRlcyksbi5MYW5lc0hhbmRsZXI9bmV3IHNzKHtjb21ib0F0dHJpYnV0ZXM6bi5jb21ib0F0dHJpYnV0ZXN9KSxufXJldHVybiBhKGksW3trZXk6XCJzZXRDb21ib0F0dHJpYnV0ZXNcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmNvbWJvQXR0cmlidXRlcz10LHRoaXMuTGFuZXNIYW5kbGVyPW5ldyBzcyh7Y29tYm9BdHRyaWJ1dGVzOnRoaXMuY29tYm9BdHRyaWJ1dGVzfSl9fSx7a2V5OlwibGFuZXNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5MYW5lc0hhbmRsZXIubGFuZXN9fSx7a2V5OlwiaW5jaWRlbnRzQnlJZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLkxhbmVzSGFuZGxlci5pbmNpZGVudHNCeUlkfX0se2tleTpcIl9yZXNpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLkxhbmVzSGFuZGxlci5fcmVzaXplKHQpfX0se2tleTpcImNoZWNrQWRkaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcImFsbC1vci1ub3RoaW5nXCIsaT10aGlzLkxhbmVzSGFuZGxlci5jcmVhdGVUZXN0TGFuZXNTYW5ib3goKSxyPVtdLHM9W10sYT1bXSxvPWZ1bmN0aW9uKG4pe3ZhciBvPSExLHU9dFtuXSxsPXUuaW5jaWRlbnQsYz1sLm1jaWQsaD1sLmF0dHJpYnV0ZXx8ZS5maXhlZEF0dHJpYnV0ZU5hbWU7aS5sYW5lRXhpc3RzKGMsaCksci5wdXNoKHttY2lkOmMsYXR0cmlidXRlOmh9KTt2YXIgZD1pLmdldE92ZXJsYXBwaW5nQW5pbXModSxjLGgpO2lmKGQubGVuZ3RoPjAmJihvPSEwLGEucHVzaCh7dHlwZTpcInVuYXV0aG9yaXNlZCwgb3ZlcmxhcHBpbmcgaW5jaWRlbnRzIG9uIHRoZSBzYW1lIGVsZW1lbnRcIixtZXRhOntlbGVtZW50X21jaWQ6YyxhdHRyaWJ1dGU6aCxpbmNpZGVudDp1LG92ZXJsYXBwaW5nQW5pbXM6ZH19KSksIW8pe3ZhciBwPWkuYWRkRWxlbWVudFRvTGFuZShjLGgsdS5taWxsaXNlY29uZCxsKTtzLnB1c2goKGZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDxwLmxlbmd0aDt0KyspcFt0XSgpO2wuX29uR2V0Q29udGV4dE9uY2UoKX0pKX19LHU9MDt1PHQubGVuZ3RoO3UrKylvKHUpO2lmKGEubGVuZ3RoPjAmJlwiYWxsLW9yLW5vdGhpbmdcIj09PW4pcmV0dXJue3Jlc3VsdDohMSxlcnJvcnM6YX07dmFyIGw9dGhpcy5MYW5lc0hhbmRsZXIsYz1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8ci5sZW5ndGg7dCsrKXt2YXIgZT1taShyW3RdLm1jaWQsclt0XS5hdHRyaWJ1dGUpLG49aS5sYW5lc1tlXS5leHBvcnRGbGF0dGVuZWQoKTtuLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubWlsbGlzZWNvbmQtZS5taWxsaXNlY29uZH0pKSxpLmxhbmVzLnNldFZhbHVlKGUsbil9Zm9yKHZhciBhPTA7YTxzLmxlbmd0aDthKyspc1thXSgpO2wuYXBwbHlTYW5kYm94Q2hhbmdlcyhpKX07cmV0dXJue3Jlc3VsdDohMCxlcnJvcnM6YSxleGVjdXRlOmN9fX0se2tleTpcImNoZWNrRWRpdFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPVtdLHI9MDtyPHQubGVuZ3RoO3IrKylpLnB1c2godFtyXS5pZCk7Zm9yKHZhciBzPXRoaXMuTGFuZXNIYW5kbGVyLmNyZWF0ZVRlc3RMYW5lc1NhbmJveCgpLGE9W10sbz0wO288dC5sZW5ndGg7bysrKWZvcih2YXIgdT10W29dLmluY2lkZW50LmlkLGw9dFtvXS5pbmNpZGVudC5tY2lkLGM9dFtvXS5pbmNpZGVudC5hdHRyaWJ1dGV8fHRoaXMuZml4ZWRBdHRyaWJ1dGVOYW1lLGg9cy5nZXRMYW5lKGwsYyksZD0wO2Q8aC5sZW5ndGg7ZCsrKWlmKGhbZF0uaWQ9PT11KXt2YXIgcD1uKHt9LGhbZF0pO3AubWlsbGlzZWNvbmQrPWUscC5pbmNpZGVudD1zLmluY2lkZW50c0J5SWQuX2dldChwLmlkKTt2YXIgZj1zLmdldE92ZXJsYXBwaW5nQW5pbXMocCxsLGMsaSk7Zi5sZW5ndGg+MCYmYS5wdXNoKHt0eXBlOlwiYW5hdXRob3Jpc2VkLCBvdmVybGFwcGluZyBhbmltYXRpb25zIG9uIHRoZSBzYW1lIGVsZW1lbnRcIixtZXRhOntlbGVtZW50X21jaWQ6bCxhdHRyaWJ1dGU6YyxuZXdBbmltYXRpb246cCxvdmVybGFwcGluZ0FuaW1zOmZ9fSk7YnJlYWt9aWYoYS5sZW5ndGg+MClyZXR1cm57cmVzdWx0OiExLGVycm9yczphfTt2YXIgbT10aGlzO3JldHVybntyZXN1bHQ6ITAsZXhlY3V0ZTpmdW5jdGlvbigpe20uTGFuZXNIYW5kbGVyLnVwZGF0ZUxhbmUoaSxlKX19fX0se2tleTpcImNoZWNrUmVzaXplZEluY2lkZW50c1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLGk9W10scj0wO3I8dC5sZW5ndGg7cisrKWkucHVzaCh0W3JdLmlkKTtmb3IodmFyIHM9dGhpcy5MYW5lc0hhbmRsZXIuY3JlYXRlVGVzdExhbmVzU2FuYm94KCksYT1bXSxvPTA7bzx0Lmxlbmd0aDtvKyspZm9yKHZhciB1PXRoaXMuTGFuZXNIYW5kbGVyLmluY2lkZW50c0J5SWQuX2dldCh0W29dLmlkKSxsPXUubWNpZCxjPXUuYXR0cmlidXRlfHx0aGlzLmZpeGVkQXR0cmlidXRlTmFtZSxoPXMuZ2V0TGFuZShsLGMpLGQ9e21jaWQ6bCxhdHRyaWJ1dGU6Y30scD10W29dLmVuZC10W29dLnN0YXJ0LGY9MDtmPGgubGVuZ3RoO2YrKylpZihoW2ZdLmlkPT09dFtvXS5pZCl7aWYoIWUpe3ZhciBtPWhbZl0sdj1uKHt9LG0pO3YubWlsbGlzZWNvbmQrPXRbb10uc3RhcnREZWx0YSx2LmluY2lkZW50PXMuaW5jaWRlbnRzQnlJZC5fZ2V0KHYuaWQpO3ZhciBnPXMuZ2V0T3ZlcmxhcHBpbmdBbmltcyh2LGQubWNpZCxkLmF0dHJpYnV0ZSxpLHApO2cubGVuZ3RoPjAmJmEucHVzaCh7dHlwZTpcInVuYXV0aG9yaXplZCBvdmVybGFwcGluZyBhbmltYXRpb25zIG9uIHRoZSBzYW1lIGVsZW1lbnRcIixtZXRhOntlbGVtZW50X21jaWQ6ZC5tY2lkLGF0dHJpYnV0ZTpkLmF0dHJpYnV0ZSxuZXdBbmltYXRpb246dixvdmVybGFwcGluZ0FuaW1zOmd9fSl9YnJlYWt9aWYoYS5sZW5ndGg+MClyZXR1cm57cmVzdWx0OiExLGVycm9yczphfTt2YXIgeT10aGlzLGs9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl5LkxhbmVzSGFuZGxlci51cGRhdGVMYW5lKFt0W2VdLmlkXSx0W2VdLnN0YXJ0RGVsdGEpfTtyZXR1cm57ZXhlY3V0ZTprLHJlc3VsdDohMH19fSx7a2V5OlwiY2hlY2tEZWxldGVcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wO248dC5sZW5ndGg7bisrKWUucHVzaCh0W25dLmlkKTt2YXIgaT10aGlzO3JldHVybntyZXN1bHQ6ITAsZXhlY3V0ZTpmdW5jdGlvbigpe2kuTGFuZXNIYW5kbGVyLmRlbGV0ZUFuaW1hdGlvbnMoZSl9fX19LHtrZXk6XCJyZWNhbGNTY3JhdGNoVmFsdWVzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5MYW5lc0hhbmRsZXIucmVjYWxjU2NyYXRjaFZhbHVlcyh0KX19LHtrZXk6XCJzbGlwSW50b0xhbmVGb3J3YXJkc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXMscz1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XSYmYXJndW1lbnRzWzRdLGE9dC5maWx0ZXIoKGZ1bmN0aW9uKHQpe3ZhciBpPXIuaW5jaWRlbnRzQnlJZC5fZ2V0KHQuaWQpLmR1cmF0aW9uK3QubWlsbGlzZWNvbmQ7cmV0dXJuIGk+PWUmJmk8PW58fGk+PW4mJnQubWlsbGlzZWNvbmQ8PW59KSk7aWYoMD09PWEubGVuZ3RoKXtpZihzJiYwPT09ZSl7dmFyIG89dGhpcy5pbmNpZGVudHNCeUlkLl9nZXQodFswXS5pZCk7by5vblByb2dyZXNzKDAsMCxpKX1yZXR1cm4hMH12YXIgdT1hLmxlbmd0aC0xLGw9dGhpcy5pbmNpZGVudHNCeUlkLl9nZXQoYVt1XS5pZCksYz1hW3VdLm1pbGxpc2Vjb25kLGg9MSxkPWwuZHVyYXRpb247bC5kdXJhdGlvbitjPm4mJihoPShkPW4tYykvbC5kdXJhdGlvbiksbC5vblByb2dyZXNzKGgsZCxpKX19LHtrZXk6XCJzbGlwVG9MYW5lQmFja3dhcmRzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcyxzPXQuZmlsdGVyKChmdW5jdGlvbih0KXt2YXIgaT1yLmluY2lkZW50c0J5SWQuX2dldCh0LmlkKS5kdXJhdGlvbit0Lm1pbGxpc2Vjb25kO3JldHVybiBpPD1uJiZpPj1lfHx0Lm1pbGxpc2Vjb25kPj1lJiZ0Lm1pbGxpc2Vjb25kPD1ufHx0Lm1pbGxpc2Vjb25kPGUmJmk+bn0pKTtpZigwPT09cy5sZW5ndGgpcmV0dXJuITA7dmFyIGE9dGhpcy5pbmNpZGVudHNCeUlkLl9nZXQoc1swXS5pZCksbz1zWzBdLm1pbGxpc2Vjb25kLHU9MCxsPTA7bzxuJiYodT0obi1vKS9hLmR1cmF0aW9uLGw9bi1vKSxhLm9uUHJvZ3Jlc3ModSxsLGkpfX0se2tleTpcIm1vdmVUb1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXSxyPU9iamVjdC5rZXlzKHRoaXMubGFuZXMpLHM9MDtzPHIubGVuZ3RoO3MrKyl7dmFyIGE9dGhpcy5sYW5lc1tyW3NdXTt0PD1lP3RoaXMuc2xpcEludG9MYW5lRm9yd2FyZHMoYSx0LGUsbixpKTp0aGlzLnNsaXBUb0xhbmVCYWNrd2FyZHMoYSx0LGUsbixpKX19fV0pLGl9KEVpKTtvKGFzLFwidHlwZVwiLFwiYXR0cmlidXRlc1wiKTt2YXIgb3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7cih0aGlzLHQpLHRoaXMuY3VzdG9tRW50aXRpZXM9e319cmV0dXJuIGEodCxbe2tleTpcImNhbGNDbGlwRGltc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXt1c2U6ITEsd2lkdGg6bnVsbCxoZWlnaHQ6bnVsbH07cmV0dXJuIGlpKHQsXCJvcmlnaW5hbERpbXNcIikmJm51bGwhPXQub3JpZ2luYWxEaW1zLndpZHRoJiZudWxsIT10Lm9yaWdpbmFsRGltcy5oZWlnaHQ/e3VzZTohMCx3aWR0aDp0Lm9yaWdpbmFsRGltcy53aWR0aC5udW1iZXIrdC5vcmlnaW5hbERpbXMud2lkdGgudW5pdCxoZWlnaHQ6dC5vcmlnaW5hbERpbXMuaGVpZ2h0Lm51bWJlcit0Lm9yaWdpbmFsRGltcy5oZWlnaHQudW5pdH06KGlpKHQsXCJjb250YWluZXJQYXJhbXNcIikmJihpaSh0LmNvbnRhaW5lclBhcmFtcyxcIndpZHRoXCIpJiYoZS51c2U9ITAsZS53aWR0aD10LmNvbnRhaW5lclBhcmFtcy53aWR0aCksaWkodC5jb250YWluZXJQYXJhbXMsXCJoZWlnaHRcIikmJihlLnVzZT0hMCxlLmhlaWdodD10LmNvbnRhaW5lclBhcmFtcy5oZWlnaHQpKSxlKX19LHtrZXk6XCJzY2FsaW5nQ2FsY3VsYXRvclwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCFpaSh0LFwiY29udGFpbmVyUGFyYW1zXCIpfHwhaWkodCxcIm9yaWdpbmFsRGltc1wiKXx8bnVsbD09dC5vcmlnaW5hbERpbXMud2lkdGgmJm51bGw9PXQub3JpZ2luYWxEaW1zLmhlaWdodClyZXR1cm57d2lkdGg6MSxoZWlnaHQ6MX07dmFyIGU9bGkodC5jb250YWluZXJQYXJhbXMpLG49bnVsbCxpPW51bGw7cmV0dXJuIG51bGwhPT1lLndpZHRoJiZudWxsIT09dC5vcmlnaW5hbERpbXMud2lkdGgmJihlLndpZHRoLnVuaXQ9PT10Lm9yaWdpbmFsRGltcy53aWR0aC51bml0P249ZS53aWR0aC5udW1iZXIvdC5vcmlnaW5hbERpbXMud2lkdGgubnVtYmVyOnlpLndhcm5pbmcoXCJjb250YWluZXJQYXJhbXMgYW5kIG9yaWdpbmFsRGltcyB3aWR0aCBvZiBJbmNpZGVudCBoYXZlIGRpZmZlcmVudCBkaW1lbnNpb25zLlxcbiAgICAgICAgICBjb250YWluZXJQYXJhbXMud2lkdGggd2lsbCBiZSBpZ25vcmVkXCIpKSxudWxsIT09ZS5oZWlnaHQmJm51bGwhPT10Lm9yaWdpbmFsRGltcy5oZWlnaHQmJihlLmhlaWdodC51bml0PT09dC5vcmlnaW5hbERpbXMuaGVpZ2h0LnVuaXQ/aT1lLmhlaWdodC5udW1iZXIvdC5vcmlnaW5hbERpbXMuaGVpZ2h0Lm51bWJlcjp5aS53YXJuaW5nKFwiY29udGFpbmVyUGFyYW1zIGFuZCBvcmlnaW5hbERpbXMgaGVpZ2h0IG9mIEluY2lkZW50IGhhdmUgZGlmZmVyZW50IGRpbWVuc2lvbnMuXFxuICAgICAgICAgIGNvbnRhaW5lclBhcmFtcy53aWR0aCB3aWxsIGJlIGlnbm9yZWRcIikpLG51bGw9PT1uJiZudWxsPT09aT97d2lkdGg6MSxoZWlnaHQ6MX06KG51bGwhPT1uJiZudWxsPT09aT9pPW46bnVsbCE9PWkmJm51bGw9PT1uJiYobj1pKSx7d2lkdGg6bixoZWlnaHQ6aX0pfX0se2tleTpcImdldEVsZW1lbnRCeU1DSURcIix2YWx1ZTpmdW5jdGlvbih0KXtpZihpaSh0aGlzLmN1c3RvbUVudGl0aWVzLHQpKXJldHVybiB0aGlzLmN1c3RvbUVudGl0aWVzW3RdO2lmKGlpKHRoaXMuZWxlbWVudHNCeU1DSUQsdCkpcmV0dXJuIHRoaXMuZWxlbWVudHNCeU1DSURbdF07dmFyIGU9dGhpcy5jb250ZXh0LnJvb3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5nZXRFbGVtZW50U2VsZWN0b3JCeU1DSUQodCkpO3JldHVybiB0aGlzLmVsZW1lbnRzQnlNQ0lEW3RdPWUsZX19LHtrZXk6XCJnZXRFbGVtZW50c1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKG51bGw9PXR8fFwiXCI9PT10KXJldHVybltdO2lmKFwiIVwiPT09dC5jaGFyQXQoMCkpe2lmKFwiI1wiPT09KHQ9dC5zdWJzdHIoMSkpLmNoYXJBdCgwKSlyZXR1cm5bdGhpcy5jdXN0b21FbnRpdGllc1t0LnN1YnN0cigxKV1dO2lmKFwiLlwiPT09dC5jaGFyQXQoMCkpe3ZhciBlPVtdO2Zvcih2YXIgbiBpbiB0aGlzLmN1c3RvbUVudGl0aWVzKXt2YXIgaT10aGlzLmN1c3RvbUVudGl0aWVzW25dO2kuY2xhc3Nlcy5pbmNsdWRlcyh0LnN1YnN0cigxKSkmJmUucHVzaChpKX1yZXR1cm4gZX19cmV0dXJuIEFycmF5LmZyb20odGhpcy5jb250ZXh0LnJvb3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodCkpfX0se2tleTpcImdldE1DSURcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5jdXN0b21FbnRpdHk/dC5pZDp0LmdldEF0dHJpYnV0ZSgkKX19LHtrZXk6XCJzZXRNQ0lEXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0LnNldEF0dHJpYnV0ZSgkLGUpfX0se2tleTpcImdldEVsZW1lbnRTZWxlY3RvckJ5TUNJRFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBpaSh0aGlzLmN1c3RvbUVudGl0aWVzLHQpP1wiISNcIi5jb25jYXQodCk6XCJbXCIuY29uY2F0KCQsJz1cIicpLmNvbmNhdCh0LCdcIl0nKX19LHtrZXk6XCJzZXRDdXN0b21FbnRpdHlcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpbXTtyZXR1cm4gaWkodGhpcy5jdXN0b21FbnRpdGllcyx0KT8oeWkuZXJyb3IoXCJDbGlwIFwiLmNvbmNhdCh0aGlzLmlkLFwiIGFscmVhZHkgaGFzIGN1c3RvbSBFbnRpdHkgd2l0aCBpZDogXCIpLmNvbmNhdCh0KSksITEpOih0aGlzLmN1c3RvbUVudGl0aWVzW3RdPXtpZDp0LGVudGl0eTplLGNsYXNzZXM6bixjdXN0b21FbnRpdHk6ITB9LCEwKX19XSksdH0oKTtmdW5jdGlvbiB1cyh0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl07aWYobmkodCkpcmV0dXJuIHQoZSk7dmFyIGk9Um4odCx7aXRlbXM6e2luaXRQYXJhbXM6ZX0sa2V5czp7fX0sbik7cmV0dXJuIHRpKGkpP2k6aS5vdXRlckhUTUx9ZnVuY3Rpb24gbHModCxlKXtpZihcImdvb2dsZS1mb250XCI9PT1lLnR5cGUpcmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtyZXR1cm4gbi5zZXRBdHRyaWJ1dGUoXCJyZWxcIixcInN0eWxlc2hlZXRcIiksSWkoZS5zcmMpPyhuLnNldEF0dHJpYnV0ZShcImhyZWZcIixlLnNyYyksbik6KHlpLmVycm9yKFwiT25seSB2YWxpZCBnb29nbGUgZm9udCB1cmwgYXJlIGFjY2VwdGVkIG9uIHNyYyBvZiBhIGdvb2dsZS1mb250LiBcIi5jb25jYXQoZS5zcmMsXCIgcHJvdmlkZWQuIE5vIGZvbnQgd2lsbCBsb2FkZWRcIikpLG4pfSh0LGUpO3lpLmVycm9yKFwiVGhlIHByb3ZpZGVkIGZvbnQgdHlwZSBpcyBub3Qgb25lIG9mIHRoZSBzdXBwb3J0ZWQuIFwiLmNvbmNhdChlLnR5cGUsXCIgcHJvdmlkZWQuIEFib3J0aW5nIGxvYWRpbmcgZm9udC5cIikpO3ZhciBuPXQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7cmV0dXJuIG4uc2V0QXR0cmlidXRlKFwicmVsXCIsXCJzdHlsZXNoZWV0XCIpLG59dmFyIGNzPWZ1bmN0aW9uKHQpe3Uobix0KTt2YXIgZT1wKG4pO2Z1bmN0aW9uIG4oKXt2YXIgdCxzPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpZihyKHRoaXMsbiksdD1lLmNhbGwodGhpcyksIWVpKHMpKXJldHVybiB5aS5lcnJvcihcIkNvbnRleHRIYW5kbGVyIGV4cGVjdHMgYW4gb2JqZWN0IG9uIGl0cyBjb25zdHJ1Y3Rvci4gXCIuY29uY2F0KGkocyksXCIgcGFzc2VkXCIpKSxkKHQsITEpO2lmKCFpaShzLFwiaHRtbFwiKSlyZXR1cm4geWkuZXJyb3IoXCJDb250ZXh0SGFuZGxlciBleHBlY3RzIHRoZSBodG1sIGtleSBvbiBpdHMgY29uc3RydWN0b3IgcHJvcGVydGllcyB3aGljaCBpcyBtaXNzaW5nXCIpLGQodCwhMSk7aWYoIWlpKHMsXCJjc3NcIikpcmV0dXJuIHlpLmVycm9yKFwiQ29udGV4dEhhbmRsZXIgZXhwZWN0cyB0aGUgY3NzIGtleSBvbiBpdHMgY29uc3RydWN0b3IgcHJvcGVydGllcyB3aGljaCBpcyBtaXNzaW5nXCIpLGQodCwhMSk7aWYoaWkocyxcImluaXRQYXJhbXNcIil8fHlpLmluZm8oXCJDb250ZXh0SGFuZGxlciBnb3QgbnVsbCBpbml0UGFyYW1zXCIpLCFpaShzLFwiaG9zdFwiKSlyZXR1cm4geWkuZXJyb3IoXCJDb250ZXh0SGFuZGxlciBleHBlY3RzIHRoZSBob3N0IGtleSBvbiBpdHMgY29uc3RydWN0b3IgcHJvcGVydGllcyB3aGljaCBpcyBtaXNzaW5nXCIpLGQodCwhMSk7dC5pc0RPTT0hMDt2YXIgYT1zLmhvc3Qub3duZXJEb2N1bWVudDtpZighYS5nZXRFbGVtZW50QnlJZChcIkBraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvaWZyYW1lQ29udGV4dEhhbmRsZXIvY3NzXCIpKXt2YXIgbz1cIlxcbiAgICAgICAgICAgIGlmcmFtZVtzZWFtbGVzc117XFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgICAgICAgICAgICAgICBib3JkZXI6IDBweCBub25lIHRyYW5zcGFyZW50O1xcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwcHg7XFxuICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIFwiLHU9YS5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7dS5pZD1cIkBraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvaWZyYW1lQ29udGV4dEhhbmRsZXIvY3NzXCIsdS50eXBlPVwidGV4dC9jc3NcIjt2YXIgbD1hLmhlYWR8fGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO3Uuc3R5bGVTaGVldD91LnN0eWxlU2hlZXQuY3NzVGV4dD1vOnUuYXBwZW5kQ2hpbGQoYS5jcmVhdGVUZXh0Tm9kZShvKSksbC5hcHBlbmRDaGlsZCh1KX12YXIgYz1hLmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7cy5ob3N0LmFwcGVuZENoaWxkKGMpO3ZhciBwPXQuc2NhbGluZ0NhbGN1bGF0b3IocyksZj10LmNhbGNDbGlwRGltcyhzKTtjLnNldEF0dHJpYnV0ZShcInNlYW1sZXNzXCIsXCJzZWFtbGVzc1wiKSwhMD09PWYudXNlJiYobnVsbCE9PWYud2lkdGgmJmMuc2V0QXR0cmlidXRlKFwid2lkdGhcIixmLndpZHRoKSxudWxsIT09Zi5oZWlnaHQmJmMuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsZi5oZWlnaHQpKSxjLnN0eWxlLnRyYW5zZm9ybT1cInNjYWxlKFwiLmNvbmNhdChwLndpZHRoLFwiLCBcIikuY29uY2F0KHAuaGVpZ2h0LFwiKVwiKSxjLnN0eWxlLnRyYW5zZm9ybU9yaWdpbj1cInRvcCBsZWZ0XCIsYy5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsYy5zcmM9XCJcIjt2YXIgbT1jLmNvbnRlbnRXaW5kb3d8fGMuY29udGVudERvY3VtZW50O20uZG9jdW1lbnQmJihtPW0uZG9jdW1lbnQpLG0ud3JpdGUodXMocy5odG1sLHMuaW5pdFBhcmFtcywhMCkpO3ZhciB2PVwiXFxuICAgICAgICBib2R5e1xcbiAgICAgICAgICAgIHBhZGRpbmc6MDtcXG4gICAgICAgICAgICBtYXJnaW46MDtcXG4gICAgICAgIH1cXG4gICAgICAgIFwiLGc9bS5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7Zy50eXBlPVwidGV4dC9jc3NcIixnLnN0eWxlU2hlZXQ/Zy5zdHlsZVNoZWV0LmNzc1RleHQ9dXMocy5jc3Mscy5pbml0UGFyYW1zKSt2OmcuYXBwZW5kQ2hpbGQoYS5jcmVhdGVUZXh0Tm9kZSh1cyhzLmNzcyxzLmluaXRQYXJhbXMpK3YpKTt2YXIgeT1tLmhlYWR8fG0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO2lmKHkuYXBwZW5kQ2hpbGQoZyksaWkocyxcImZvbnRzXCIpKWZvcih2YXIgaz0wO2s8cy5mb250cy5sZW5ndGg7aysrKXt2YXIgYj1zLmZvbnRzW2tdLHg9bHMobSxiKTt5LmFwcGVuZENoaWxkKHgpfXJldHVybiB0LnJvb3RFbGVtZW50PWMsbS5jbG9zZSgpLHQuY29udGV4dD17ZG9jdW1lbnQ6bSx3aW5kb3c6Yy5jb250ZW50V2luZG93fHxjLGNsaXBDb250YWluZXI6Yyxyb290RWxlbWVudDptLmJvZHksdW5tb3VudDpmdW5jdGlvbigpe3MuaG9zdC5yZW1vdmVDaGlsZChjKX0sZ2V0RWxlbWVudHM6dC5nZXRFbGVtZW50cy5iaW5kKGgodCkpLGdldE1DSUQ6dC5nZXRNQ0lELmJpbmQoaCh0KSksc2V0TUNJRDp0LnNldE1DSUQuYmluZChoKHQpKSxnZXRFbGVtZW50U2VsZWN0b3JCeU1DSUQ6dC5nZXRFbGVtZW50U2VsZWN0b3JCeU1DSUQuYmluZChoKHQpKSxnZXRFbGVtZW50QnlNQ0lEOnQuZ2V0RWxlbWVudEJ5TUNJRC5iaW5kKGgodCkpLHNldEN1c3RvbUVudGl0eTp0LnNldEN1c3RvbUVudGl0eS5iaW5kKGgodCkpfSx0LmVsZW1lbnRzQnlNQ0lEPXt9LHR9cmV0dXJuIG59KG9zKSxocz1mdW5jdGlvbih0KXt1KG4sdCk7dmFyIGU9cChuKTtmdW5jdGlvbiBuKCl7dmFyIHQscz1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aWYocih0aGlzLG4pLHQ9ZS5jYWxsKHRoaXMpLCFlaShzKSlyZXR1cm4geWkuZXJyb3IoXCJDb250ZXh0SGFuZGxlciBleHBlY3RzIGFuIG9iamVjdCBvbiBpdHMgY29uc3RydWN0b3IuIFwiLmNvbmNhdChpKHMpLFwiIHBhc3NlZFwiKSksZCh0KTtpZighaWkocyxcImh0bWxcIikpcmV0dXJuIHlpLmVycm9yKFwiQ29udGV4dEhhbmRsZXIgZXhwZWN0cyB0aGUgaHRtbCBrZXkgb24gaXRzIGNvbnN0cnVjdG9yIHByb3BlcnRpZXMgd2hpY2ggaXMgbWlzc2luZ1wiKSxkKHQpO2lmKCFpaShzLFwiY3NzXCIpKXJldHVybiB5aS5lcnJvcihcIkNvbnRleHRIYW5kbGVyIGV4cGVjdHMgdGhlIGNzcyBrZXkgb24gaXRzIGNvbnN0cnVjdG9yIHByb3BlcnRpZXMgd2hpY2ggaXMgbWlzc2luZ1wiKSxkKHQpO2lmKCFpaShzLFwiaG9zdFwiKSlyZXR1cm4geWkuZXJyb3IoXCJDb250ZXh0SGFuZGxlciBleHBlY3RzIHRoZSBob3N0IGtleSBvbiBpdHMgY29uc3RydWN0b3IgcHJvcGVydGllcyB3aGljaCBpcyBtaXNzaW5nXCIpLGQodCk7dC5pc0RPTT0hMDt2YXIgYT1zLmhvc3Quc2hhZG93Um9vdDthfHwoYT1zLmhvc3QuYXR0YWNoU2hhZG93KHttb2RlOlwib3BlblwifSkpO3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdT10LnNjYWxpbmdDYWxjdWxhdG9yKHMpLGw9dC5jYWxjQ2xpcERpbXMocyk7by5zZXRBdHRyaWJ1dGUoXCJkYXRhLW1vdG9yb2NvcnRleC1jb250YWluZXJcIixcInRydWVcIiksITA9PT1sLnVzZSYmKG51bGwhPT1sLndpZHRoJiYoby5zdHlsZS53aWR0aD1sLndpZHRoKSxudWxsIT09bC5oZWlnaHQmJihvLnN0eWxlLmhlaWdodD1sLmhlaWdodCkpLG8uc3R5bGUudHJhbnNmb3JtPVwic2NhbGUoXCIuY29uY2F0KHUud2lkdGgsXCIsIFwiKS5jb25jYXQodS5oZWlnaHQsXCIpXCIpLG8uc3R5bGUudHJhbnNmb3JtT3JpZ2luPVwidG9wIGxlZnRcIixvLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixvLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsby5pbm5lckhUTUw9dXMocy5odG1sLHMuaW5pdFBhcmFtcywhMCksYS5hcHBlbmRDaGlsZChvKTt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2xvdFwiKTthLmFwcGVuZENoaWxkKGMpO3ZhciBwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtpZihwLnR5cGU9XCJ0ZXh0L2Nzc1wiLHAuc3R5bGVTaGVldD9wLnN0eWxlU2hlZXQuY3NzVGV4dD11cyhzLmNzcyxzLmluaXRQYXJhbXMpOnAuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJbZGF0YS1tb3Rvcm9jb3J0ZXgtY29udGFpbmVyXSB7IGFsbDogaW5pdGlhbDsgfVwiK3VzKHMuY3NzLHMuaW5pdFBhcmFtcykpKSxhLmFwcGVuZENoaWxkKHApLHQuZm9udFRhZ3M9W10saWkocyxcImZvbnRzXCIpKWZvcih2YXIgZj0wO2Y8cy5mb250cy5sZW5ndGg7ZisrKXt2YXIgbT1zLmZvbnRzW2ZdLHY9bHMoZG9jdW1lbnQsbSk7ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKHYpLHQuZm9udFRhZ3MucHVzaCh2KX1yZXR1cm4gby5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLHQucm9vdEVsZW1lbnQ9byx0LmNvbnRleHQ9e2RvY3VtZW50OmRvY3VtZW50LHdpbmRvdzp3aW5kb3csY2xpcENvbnRhaW5lcjp0LnJvb3RFbGVtZW50LHJvb3RFbGVtZW50Om8sdW5tb3VudDpmdW5jdGlvbigpe3RyeXthLmlubmVySFRNTD1cIlwiO2Zvcih2YXIgdD0wO3Q8dGhpcy5mb250VGFncy5sZW5ndGg7dCsrKWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXS5yZW1vdmVDaGlsZCh0aGlzLmZvbnRUYWdzW3RdKX1jYXRjaCh0KXt5aS53YXJuaW5nKFwiVGhlIGVsZW1lbnQgb2YgdGhlIENsaXAgdG8gYmUgcmVtb3ZlZCBzZWVtcyBub3QgdG8gZXhpc3QgYW55IG1vcmVcIil9fSxnZXRFbGVtZW50czp0LmdldEVsZW1lbnRzLmJpbmQoaCh0KSksZ2V0TUNJRDp0LmdldE1DSUQuYmluZChoKHQpKSxzZXRNQ0lEOnQuc2V0TUNJRC5iaW5kKGgodCkpLGdldEVsZW1lbnRTZWxlY3RvckJ5TUNJRDp0LmdldEVsZW1lbnRTZWxlY3RvckJ5TUNJRC5iaW5kKGgodCkpLGdldEVsZW1lbnRCeU1DSUQ6dC5nZXRFbGVtZW50QnlNQ0lELmJpbmQoaCh0KSksc2V0Q3VzdG9tRW50aXR5OnQuc2V0Q3VzdG9tRW50aXR5LmJpbmQoaCh0KSl9LHQuZWxlbWVudHNCeU1DSUQ9e30sdH1yZXR1cm4gbn0ob3MpLGRzPWZ1bmN0aW9uKHQpe3UoaSx0KTt2YXIgZT1wKGkpO2Z1bmN0aW9uIGkoKXt2YXIgdCxzLGEsbz1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bnVsbDtyKHRoaXMsaSksbnVsbD09PXU/KHM9e30sYT1vKToocz1vLGE9dSksdD1lLmNhbGwodGhpcyxzLGEpLGE9bihuKHt9LGEpLHt9LHtodG1sOlwiXCIhPT10Lmh0bWw/dC5odG1sOmEuaHRtbCxjc3M6XCJcIiE9PXQuY3NzP3QuY3NzOmEuY3NzLGZvbnRzOnQuZm9udHMubGVuZ3RoPjA/dC5mb250czphLmZvbnRzfSk7dmFyIGw9Tjt0LmNsaXBUeXBlPWw7dmFyIGM9bmV3KGRvY3VtZW50LmhlYWQuY3JlYXRlU2hhZG93Um9vdHx8ZG9jdW1lbnQuaGVhZC5hdHRhY2hTaGFkb3c/aHM6Y3MpKGEpO3JldHVybiB0Lm93bkNvbnRleHQ9bihuKHt9LGMuY29udGV4dCkse30se2lzSG9zdGVkQ2xpcDp0LmlzSG9zdGVkQ2xpcCxpbml0UGFyYW1zOmEuaW5pdFBhcmFtc30pLHQuaWZyYW1lPWMuaWZyYW1lRWxlbWVudCx0LmZvcmNlRXhwb3J0SW5jaWRlbnRzPSEwLHQub25BZnRlclJlbmRlcigpLHR9cmV0dXJuIGEoaSxbe2tleTpcIm9uQWZ0ZXJSZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJodG1sXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJcIn19LHtrZXk6XCJjc3NcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cIlwifX0se2tleTpcImZvbnRzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuW119fSx7a2V5Olwicm9vdEVsZW1lbnRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0LmNsaXBDb250YWluZXJ9fSx7a2V5OlwiZXhwb3J0Q29uc3RydWN0aW9uQXJndW1lbnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm57YXR0cnM6dGhpcy5hdHRycyxwcm9wczpuKG4oe30sdGhpcy5wcm9wcykse30se2hvc3Q6dm9pZCAwLGh0bWw6ITA9PT10aGlzLkRlc2NyaXB0aXZlSW5jaWRlbnQuY29uc3RydWN0b3IuY3VzdG9tQ2xpcD9cIlwiOnRoaXMuY29udGV4dC5yb290RWxlbWVudC5pbm5lckhUTUx9KX19fSx7a2V5Olwic2V0Q3VzdG9tRW50aXR5XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06W107cmV0dXJuIHRoaXMuY29udGV4dC5zZXRDdXN0b21FbnRpdHkodCxlLG4pfX1dKSxpfShHcikscHM9ZnVuY3Rpb24odCl7dShzLHQpO3ZhciBlPXAocyk7ZnVuY3Rpb24gcygpe3ZhciB0LGE9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3IodGhpcyxzKSx0PWUuY2FsbCh0aGlzKTt2YXIgbz1uKHt9LGEpO2lmKCFlaShvKSlyZXR1cm4geWkuZXJyb3IoXCJIVE1MRnJhZ21lbnRDb250ZXh0SGFuZGxlciBleHBlY3RzIGFuIG9iamVjdCBvbiBpdHMgY29uc3RydWN0b3IuIFwiLmNvbmNhdChpKG8pLFwiIHBhc3NlZFwiKSksZCh0LCExKTtpaShvLFwiaHRtbFwiKXx8KG8uaHRtbD1cIlwiKSx0LmlzRE9NPSEwO3ZhciB1PWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIGlpKG8sXCJjb250YWluZXJQYXJhbXNcIikmJihpaShvLFwid2lkdGhcIikmJihsLnN0eWxlLndpZHRoPW8uY29udGFpbmVyUGFyYW1zLndpZHRoKSxpaShvLFwiaGVpZ2h0XCIpJiYobC5zdHlsZS5oZWlnaHQ9by5jb250YWluZXJQYXJhbXMuaGVpZ2h0KSksbC5pbm5lckhUTUw9dXMoby5odG1sLG8uaW5pdFBhcmFtcywhMCksdS5hcHBlbmRDaGlsZChsKSxsLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsdC5yb290RWxlbWVudD1sLHQuY29udGV4dD17ZG9jdW1lbnQ6ZG9jdW1lbnQsd2luZG93OndpbmRvdyxjbGlwQ29udGFpbmVyOnQucm9vdEVsZW1lbnQscm9vdEVsZW1lbnQ6bCx1bm1vdW50OmZ1bmN0aW9uKCl7by5ob3N0LnJlbW92ZUNoaWxkKHUpfSxnZXRFbGVtZW50czp0LmdldEVsZW1lbnRzLmJpbmQoaCh0KSksZ2V0TUNJRDp0LmdldE1DSUQuYmluZChoKHQpKSxzZXRNQ0lEOnQuc2V0TUNJRC5iaW5kKGgodCkpLGdldEVsZW1lbnRTZWxlY3RvckJ5TUNJRDp0LmdldEVsZW1lbnRTZWxlY3RvckJ5TUNJRC5iaW5kKGgodCkpLGdldEVsZW1lbnRCeU1DSUQ6dC5nZXRFbGVtZW50QnlNQ0lELmJpbmQoaCh0KSksc2V0Q3VzdG9tRW50aXR5OnQuc2V0Q3VzdG9tRW50aXR5LmJpbmQoaCh0KSksZnJhZ21lbnQ6ITB9LHQuZWxlbWVudHNCeU1DSUQ9e30sdH1yZXR1cm4gc30ob3MpLGZzPWZ1bmN0aW9uKHQpe3UoaSx0KTt2YXIgZT1wKGkpO2Z1bmN0aW9uIGkoKXt2YXIgdCxzLGEsbz1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bnVsbDtyKHRoaXMsaSksbnVsbD09PXU/KHM9e30sYT1vKToocz1vLGE9dSksdD1lLmNhbGwodGhpcyxzLGEpO3ZhciBsPW5ldyBwcyhuKG4oe30sYSkse30se2h0bWw6aWkoYSxcImh0bWxcIik/YS5odG1sOnQuaHRtbCxjc3M6aWkoYSxcImNzc1wiKT9hLmNzczp0LmNzcyxmb250czppaShhLFwiZm9udHNcIik/YS5mb250czp0LmZvbnRzfSkpO3JldHVybiB0Lm93bkNvbnRleHQ9bihuKHt9LGwuY29udGV4dCkse30se2lzSG9zdGVkQ2xpcDohMX0pLHQuaWZyYW1lPWwuaWZyYW1lRWxlbWVudCx0LmZvcmNlRXhwb3J0SW5jaWRlbnRzPSEwLHQub25ET01DTGlwSW5pdGlhbGlzZSgpLHR9cmV0dXJuIGEoaSxbe2tleTpcImV4cG9ydENvbnN0cnVjdGlvbkFyZ3VtZW50c1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue2F0dHJzOnRoaXMuYXR0cnMscHJvcHM6bihuKHt9LHRoaXMucHJvcHMpLHt9LHtodG1sOnRoaXMuY29udGV4dC5yb290RWxlbWVudC5pbm5lckhUTUx9KX19fSx7a2V5Olwib25ET01DTGlwSW5pdGlhbGlzZVwiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleTpcInJvb3RFbGVtZW50XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dC5jbGlwQ29udGFpbmVyfX1dKSxpfShHciksbXM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7cih0aGlzLHQpLHRoaXMuaXNOdWxsQ2xpcD0hMH1yZXR1cm4gYSh0LFt7a2V5OlwiZHVyYXRpb25cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMH19LHtrZXk6XCJhZGRJbmNpZGVudFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue3Jlc3VsdDohMCxleGVjdXRlOmZ1bmN0aW9uKCl7fX19fSx7a2V5OlwibW92ZUluY2lkZW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm57cmVzdWx0OiEwLGV4ZWN1dGU6ZnVuY3Rpb24oKXt9fX19LHtrZXk6XCJyZW1vdmVJbmNpZGVudFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue3Jlc3VsdDohMCxleGVjdXRlOmZ1bmN0aW9uKCl7fX19fSx7a2V5OlwicmVzaXplSW5jaWRlbnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybntyZXN1bHQ6ITAsZXhlY3V0ZTpmdW5jdGlvbigpe319fX0se2tleTpcImdldEluY2lkZW50c0J5Q2hhbm5lbFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue319fSx7a2V5OlwiZmxhc2hcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJfcmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5Olwib25Qcm9ncmVzc1wiLHZhbHVlOmZ1bmN0aW9uKCl7fX1dKSx0fSgpLHZzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtyKHRoaXMsdCksdGhpcy5ydW5UaW1lSW5mbz17Y3VycmVudE1pbGxpc2Vjb25kOjAsc3RhdGU6XCJ0cmFuc2l0aW9uYWxcIn0sdGhpcy5pZD1maSgpLHRoaXMucmVhbENsaXA9ZS5kZXNjcmlwdGl2ZUluY2lkZW50LnJlYWxDbGlwO3ZhciBpPWUuZGVzY3JpcHRpdmVJbmNpZGVudC5yZWFsQ2xpcC5leHBvcnRDb25zdHJ1Y3Rpb25Bcmd1bWVudHMoKSxzPW4obih7fSxpLnByb3BzKSx7fSx7c2VsZWN0b3I6dm9pZCAwLGhvc3Q6ZS5ob3N0LGlkOnRoaXMuaWR9KTt0aGlzLm93bkNsaXA9bmV3IGUuZGVzY3JpcHRpdmVJbmNpZGVudC5jb25zdHJ1Y3Rvci5JbmNpZGVudChpLmF0dHJzLHMpLGUuZGVzY3JpcHRpdmVJbmNpZGVudC5yZWFsQ2xpcC5hZGRDb250ZXh0KHtjbGlwSWQ6dGhpcy5pZCxjb250ZXh0OnRoaXMub3duQ2xpcC5jb250ZXh0LHN5bmNocm9uaXplOmUuc3luY2hyb25pemUscnVuVGltZUluZm86dGhpcy5ydW5UaW1lSW5mb30sITApfXJldHVybiBhKHQsW3trZXk6XCJvblByb2dyZXNzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gdGhpcy5yZWFsQ2xpcC5pbnN0YW50aWF0ZWRDaGFubmVscyl7dGhpcy5yZWFsQ2xpcC5pbnN0YW50aWF0ZWRDaGFubmVsc1tuXS5tb3ZlVG8odGhpcy5ydW5UaW1lSW5mby5jdXJyZW50TWlsbGlzZWNvbmQsZSx0aGlzLmlkLCEwKX10aGlzLnJ1blRpbWVJbmZvLmN1cnJlbnRNaWxsaXNlY29uZD1lfX1dKSx0fSgpO2Z1bmN0aW9uIGdzKCl7cmV0dXJue3Jlc3VsdDohMH19ZnVuY3Rpb24geXModCxlKXtyZXR1cm4gbmV3IFByb3h5KHQse2dldDpmdW5jdGlvbih0LG4pe3JldHVybiBuaSh0W25dKT9nczpcIm5vbkJsb2NraW5nRXJyb3JDbGlwXCI9PT1ufHwoXCJlcnJvcnNcIj09PW4/ZTp0W25dKX19KX12YXIga3M9UChudWxsLChmdW5jdGlvbih0LGUpe3ZhciBpPWZ1bmN0aW9uKGUpe3UocyxlKTt2YXIgaT1wKHMpO2Z1bmN0aW9uIHMoZSl7dmFyIGEsbyx1LGw9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGw7aWYocih0aGlzLHMpLG51bGw9PT1sPyhvPXt9LHU9ZSk6KG89ZSx1PWwpLGE9aS5jYWxsKHRoaXMsbyx1KSx0KGgoYSkpLGEubXVzdEhhdmVOdWxsQ2xpcD0hMSxhLmluaXRQYXJhbXM9dS5pbml0UGFyYW1zfHx7fSxpaSh1LFwiaW5pdFBhcmFtc1ZhbGlkYXRpb25SdWxlc1wiKSl7dmFyIGM9YmkodS5pbml0UGFyYW1zVmFsaWRhdGlvblJ1bGVzLGEuaW5pdFBhcmFtcyxcIkVycm9yIG9uIGluaXRQYXJhbXMgdmFsaWRhdGlvblwiKTtpZighYy5yZXN1bHQpcmV0dXJuIHlpLmVycm9yKFwiQ2xpcCBpbml0UGFyYW1zIHZhbGlkYXRpb24gZmFpbGVkLiBTd2l0Y2hpbmcgdG8gbm9uLWJsb2NraW5nIGJsYW5rIENsaXBcIiksZChhLHlzKGgoYSksYy5lcnJvcnMpKX12YXIgcD1raSh7cHJvcHM6YS5wcm9wc30seHIsYS5jb25zdHJ1Y3RvcixhLmlkKTtpZighcC5yZXN1bHQpcmV0dXJuIGQoYSxwKTthLmF0dHJpYnV0ZXNTdGFnZ2Vycz1bXSxhLnByb3BzU3RhZ2dlcnM9W107dmFyIGY9YS5zZXR1cER5bmFtaWNWYWx1ZXMoKTthLmlzVGhlUm9vdENsaXA9ITEsYS5pc0V4cG9ydGFibGVUb0pTT05Gb3JtYXQ9ITAsT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHUsXCJodG1sXCIpJiZuaSh1Lmh0bWwpJiYoYS5pc0V4cG9ydGFibGVUb0pTT05Gb3JtYXQ9ITEpO3ZhciBtPXtpZDphLmlkLGF0dHJzOm8scHJvcHM6bihuKHt9LHUpLHt9LHtodG1sOk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh1LFwiaHRtbFwiKT91Lmh0bWw6YS5odG1sLGNzczpPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodSxcImNzc1wiKT91LmNzczphLmNzcyxmb250czpPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodSxcImZvbnRzXCIpP3UuZm9udHM6YS5mb250cyxydW5UaW1lSW5mbzphLnJ1blRpbWVJbmZvLHN1YnNjcmliZTphLnN1YnNjcmliZS5iaW5kKGgoYSkpLHJlcGVhdHM6MSxkZWxheTowLGhpYXR1czowfSkscGx1Z2luX25wbV9uYW1lOmEuY29uc3RydWN0b3IucGx1Z2luX25wbV9uYW1lLENoYW5uZWw6YS5jb25zdHJ1Y3Rvci5DaGFubmVsLERlc2NyaXB0aXZlSW5jaWRlbnQ6aChhKX07aWYoYS5hdWRpbz1cIm9uXCIsT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEuY29uc3RydWN0b3IsXCJhdWRpb1wiKSYmKGEuYXVkaW89YS5jb25zdHJ1Y3Rvci5hdWRpbyksT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHUsXCJhdWRpb1wiKSYmKGEuYXVkaW89dS5hdWRpbyksT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHUsXCJzZWxlY3RvclwiKSYmdm9pZCAwIT09dS5zZWxlY3RvciYmITAhPT1hLmNvbnN0cnVjdG9yLmN1c3RvbUNsaXApbS5JbmNpZGVudD1mcztlbHNlIGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh1LFwic2VsZWN0b3JcIikmJnZvaWQgMCE9PXUuc2VsZWN0b3ImJiEwPT09YS5jb25zdHJ1Y3Rvci5jdXN0b21DbGlwKXtkZWxldGUgbS5wcm9wcy5zZWxlY3Rvcjt2YXIgdj1uZXcgZnMoe2h0bWw6JzxkaXYgaWQ9XCJjbGlwLWNvbnRhaW5lclwiPjwvZGl2Pid9KTttLnByb3BzLmhvc3Q9di5yb290RWxlbWVudCxtLkluY2lkZW50PWEuY29uc3RydWN0b3IuSW5jaWRlbnR9ZWxzZVwib25seVwiPT09YS5hdWRpbyYmITAhPT1hLnByb3BzLnJvb3Q/YS5pc1RoZVJvb3RDbGlwPSExOihhLmlzVGhlUm9vdENsaXA9ITAsYS5ibG9ja2luZ1dhaXRpbmdzPXt9LG0uSW5jaWRlbnQ9YS5jb25zdHJ1Y3Rvci5JbmNpZGVudCk7aWYoXCJvblwiPT09YS5hdWRpb3x8XCJvZmZcIj09PWEuYXVkaW8/aWkoZi5hdHRycyxcImV4cHJlc3Npb25cIil8fGlpKGYucHJvcHMsXCJleHByZXNzaW9uXCIpPyhhLm11c3RIYXZlTnVsbENsaXA9ITAsYS5yZWFsQ2xpcD1uZXcgbXMpOmEucmVhbENsaXA9WmkobSk6YS5yZWFsQ2xpcD1uZXcgbXMsXCJvblwiPT09YS5hdWRpb3x8XCJvbmx5XCI9PT1hLmF1ZGlvKXt2YXIgZz17aWQ6YS5pZCxhdHRyczp7fSxwcm9wczp7YXVkaW9Tb3VyY2VzOk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh1LFwiYXVkaW9Tb3VyY2VzXCIpP3UuYXVkaW9Tb3VyY2VzOmEuYXVkaW9Tb3VyY2VzLHJ1blRpbWVJbmZvOmEucnVuVGltZUluZm8sc3Vic2NyaWJlOmEuc3Vic2NyaWJlLmJpbmQoaChhKSksaGlhdHVzOmEuaGlhdHVzLGRlbGF5OmEuZGVsYXkscmVwZWF0czphLnJlcGVhdHMsaW5pdFBhcmFtczphLmluaXRQYXJhbXN9LHBsdWdpbl9ucG1fbmFtZTphLmNvbnN0cnVjdG9yLnBsdWdpbl9ucG1fbmFtZSxDaGFubmVsOmEuY29uc3RydWN0b3IuQ2hhbm5lbCxJbmNpZGVudDpVcixEZXNjcmlwdGl2ZUluY2lkZW50OmgoYSl9O2EuYXVkaW9DbGlwPVppKGcpfWVsc2UgYS5hdWRpbz1cIm9mZlwiLGEuYXVkaW9DbGlwPW5ldyBtcztyZXR1cm4gYS5keW5hbWljRHVyYXRpb25WYWx1ZT1udWxsLGEucGFzc2l2ZUFkZGl0aW9uPSEwLGEuX2J1aWxkVHJlZSgpLGEucGFzc2l2ZUFkZGl0aW9uPSExLGEuY29uc3RydWN0b3IuaXNBbmltYXRpb24mJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLnByb3BzLFwiZHVyYXRpb25cIikmJmEucmVzaXplKGEuZHVyYXRpb24pLGF9cmV0dXJuIHN9KGUpO3JldHVybntGOmksZDpbe2tpbmQ6XCJmaWVsZFwiLHN0YXRpYzohMCxrZXk6XCJpc0NsaXBcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiEwfX0se2tpbmQ6XCJmaWVsZFwiLHN0YXRpYzohMCxrZXk6XCJJbmNpZGVudFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGRzfX0se2tpbmQ6XCJmaWVsZFwiLHN0YXRpYzohMCxrZXk6XCJwbHVnaW5fbnBtX25hbWVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiQGtpc3NteWJ1dHRvbi9zZWxmLWNvbnRhaW5lZC1pbmNpZGVudHNcIn19LHtraW5kOlwiZmllbGRcIixzdGF0aWM6ITAsa2V5OlwidmVyc2lvblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGlyfX0se2tpbmQ6XCJmaWVsZFwiLHN0YXRpYzohMCxrZXk6XCJDaGFubmVsXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gaml9fSx7a2luZDpcImZpZWxkXCIsc3RhdGljOiEwLGtleTpcIkNsYXNzTmFtZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJIVE1MQ2xpcFwifX0se2tpbmQ6XCJmaWVsZFwiLHN0YXRpYzohMCxrZXk6XCJwcm9wc1ZhbGlkYXRpb25SdWxlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHhyfX0se2tpbmQ6XCJnZXRcIixrZXk6XCJzZWxlY3RvclRvUGFzc1RvQ2hpbGRyZW5cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsfX0se2tpbmQ6XCJnZXRcIixrZXk6XCJpbmhlcml0ZWRTZWxlY3RvclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luaGVyaXRlZFNlbGVjdG9yfX0se2tpbmQ6XCJzZXRcIixrZXk6XCJpbmhlcml0ZWRTZWxlY3RvclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX2luaGVyaXRlZFNlbGVjdG9yPXR9fSx7a2luZDpcImdldFwiLGtleTpcImh0bWxcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiXCJ9fSx7a2luZDpcImdldFwiLGtleTpcImNzc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJcIn19LHtraW5kOlwiZ2V0XCIsa2V5OlwiZm9udHNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybltdfX0se2tpbmQ6XCJnZXRcIixrZXk6XCJhdWRpb1NvdXJjZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybltdfX0se2tpbmQ6XCJtZXRob2RcIixkZWNvcmF0b3JzOlskcl0sa2V5Olwic2V0dXBEeW5hbWljVmFsdWVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2luZDpcIm1ldGhvZFwiLGtleTpcImRldGFjaEZyb21QYXJlbnRcIix2YWx1ZTpmdW5jdGlvbigpe20obChpLnByb3RvdHlwZSksXCJkZXRhY2hGcm9tUGFyZW50XCIsdGhpcykuY2FsbCh0aGlzKSx0aGlzLm11c3RIYXZlTnVsbENsaXAmJih0aGlzLnJlYWxDbGlwPW5ldyBtcyl9fSx7a2luZDpcImdldFwiLGtleTpcImR1cmF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuZHluYW1pY0R1cmF0aW9uVmFsdWU/dGhpcy5keW5hbWljRHVyYXRpb25WYWx1ZTp0aGlzLnByb3BzU3RhZ2dlcnMubGVuZ3RoPjA/XCJkeW5hbWljXCI6T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMucHJvcHMsXCJkdXJhdGlvblwiKT90aGlzLnJlcGVhdHMqKHRoaXMuZGVsYXkrdGhpcy5wcm9wcy5kdXJhdGlvbit0aGlzLmhpYXR1cyk6bShsKGkucHJvdG90eXBlKSxcImR1cmF0aW9uXCIsdGhpcyl9fSx7a2luZDpcInNldFwiLGtleTpcImR1cmF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoMCE9dGhpcy5wcm9wc1N0YWdnZXJzLmxlbmd0aCl7Zm9yKHZhciBlPTA7ZTx0aGlzLnByb3BzU3RhZ2dlcnMubGVuZ3RoO2UrKylpZihcInJlcGVhdHNcIiE9PXRoaXMucHJvcHNTdGFnZ2Vyc1tlXS5wYXRoKXt2YXIgbj10aGlzLnByb3BzU3RhZ2dlcnNbZV0uc3RhZ2dlci5yZXNpemUodC90aGlzLmR1cmF0aW9uKTtnaSh0aGlzLnByb3BzLHRoaXMucHJvcHNTdGFnZ2Vyc1tlXS5wYXRoLG4pfXRoaXMuZHluYW1pY0R1cmF0aW9uVmFsdWU9dH1lbHNlIGcobChpLnByb3RvdHlwZSksXCJkdXJhdGlvblwiLHQsdGhpcywhMCl9fSx7a2luZDpcIm1ldGhvZFwiLGtleTpcInN5c3RvbGVEaWFzdG9sZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuY29uc3RydWN0b3IuaXNBbmltYXRpb24mJih0aGlzLnByb3BzLmR1cmF0aW9uP3RoaXMucHJvcHMuZHVyYXRpb24qPXQ6dGhpcy5wcm9wcy5kdXJhdGlvbj10KnRoaXMuY2FsY3VsYXRlZER1cmF0aW9uKSx0aGlzLnJlYWxDbGlwLl9yZXNpemUodCksbShsKGkucHJvdG90eXBlKSxcInN5c3RvbGVEaWFzdG9sZVwiLHRoaXMpLmNhbGwodGhpcyx0KX19LHtraW5kOlwibWV0aG9kXCIsa2V5OlwiZXhwb3J0TGl2ZURlZmluaXRpb25cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF0sZT1tKGwoaS5wcm90b3R5cGUpLFwiZXhwb3J0TGl2ZURlZmluaXRpb25cIix0aGlzKS5jYWxsKHRoaXMsdCk7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IuaXNBbmltYXRpb24mJihlLnByb3BzLmR1cmF0aW9uPXRoaXMucHJvcHMuZHVyYXRpb24/dGhpcy5wcm9wcy5kdXJhdGlvbjp0aGlzLmNhbGN1bGF0ZWREdXJhdGlvbiksbmkodGhpcy5wcm9wcy5odG1sKSYmKGUucHJvcHMuaHRtbD10aGlzLnByb3BzLmh0bWwpLG5pKHRoaXMucHJvcHMuY3NzKSYmKGUucHJvcHMuY3NzPXRoaXMucHJvcHMuY3NzKSxlfX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJfYnVpbGRUcmVlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2b2lkIDAhPT10aGlzLnJlYWxDbGlwJiZ0aGlzLmJ1aWxkVHJlZSgpfX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJyZXNpemVcIix2YWx1ZTpmdW5jdGlvbih0KXtpZihcImR5bmFtaWNcIj09PXRoaXMuZHVyYXRpb24pcmV0dXJue3Jlc3VsdDohMSxyZWFzb246XCJJbmNpZGVudHMgd2l0aCBkeW5hbWljIGR1cmF0aW9uIGNhbid0IGJlIHJlc2l6ZWQuIE9uY2UgdGhlIEluY2lkZW50IGVudGVycyBhIENsaXAgaXQnbGwgYmVjb21lIHJlc2l6YWJsZVwifTt2YXIgZT10L3RoaXMuZHVyYXRpb247cmV0dXJuIHRoaXMucmVhbENsaXAuX3Jlc2l6ZShlKSx0aGlzLmF1ZGlvQ2xpcC5fcmVzaXplKGUpLHRoaXMuZHVyYXRpb249dCx0aGlzLmNvbnN0cnVjdG9yLmlzQW5pbWF0aW9uJiYodGhpcy5wcm9wcy5kdXJhdGlvbj90aGlzLnByb3BzLmR1cmF0aW9uKj1lOnRoaXMucHJvcHMuZHVyYXRpb249dGhpcy5jYWxjdWxhdGVkRHVyYXRpb24pLHRoaXMucHV0TWVzc2FnZU9uUGlwZShcInJlY2FsY0R1cmF0aW9uXCIse30sXCJHcm91cHNcIix7c2VsZkV4ZWN1dGU6ITEsZGlyZWN0aW9uOkFpfSksdGhpcy5wdXRNZXNzYWdlT25QaXBlKFwiZmxhc2hcIix7fSxcIlJvb3RDbGlwXCIse3NlbGZFeGVjdXRlOiEwLGRpcmVjdGlvbjpBaX0pLHtyZXN1bHQ6ITB9fX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJtYW5hZ2VFZGl0QXR0clByb3BzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm57cmVzdWx0OiExLGVycm9yczpbXCJDbGlwcyBhdHRyaWJ1dGVzIGFuZCBwcm9wZXJ0aWVzIGNhbiBub3QgYmUgZWRpdGVkXCJdfX19LHtraW5kOlwibWV0aG9kXCIsa2V5OlwiaGFuZGxlQ2hlY2tGb3JDbGlwXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4hMH19LHtraW5kOlwibWV0aG9kXCIsa2V5OlwiaGFuZGxlR2V0RWxlbWVudHNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnJlYWxDbGlwLmdldEVsZW1lbnRzKGUuc2VsZWN0b3IpfX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJoYW5kbGVDaGVja0FkZGl0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnJlYWxDbGlwLmFkZEluY2lkZW50KGUpLGk9dGhpcy5hdWRpb0NsaXAuYWRkSW5jaWRlbnQoZSk7cmV0dXJuITA9PT1uLnJlc3VsdCYmITA9PT1pLnJlc3VsdD8obi5leGVjdXRlKCksaS5leGVjdXRlKCksdGhpcy5wdXRNZXNzYWdlT25QaXBlKFwiZmxhc2hcIix7fSxcIlJvb3RDbGlwXCIse3NlbGZFeGVjdXRlOiEwLGRpcmVjdGlvbjpBaX0pLHtyZXN1bHQ6ITB9KTpufX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJoYW5kbGVDaGVja01vdmVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMucmVhbENsaXAubW92ZUluY2lkZW50KGUpLGk9dGhpcy5hdWRpb0NsaXAubW92ZUluY2lkZW50KGUpO3JldHVybiEwPT09bi5yZXN1bHQmJiEwPT09aS5yZXN1bHQ/KG4uZXhlY3V0ZSgpLGkuZXhlY3V0ZSgpLHRoaXMucHV0TWVzc2FnZU9uUGlwZShcImZsYXNoXCIse30sXCJSb290Q2xpcFwiLHtzZWxmRXhlY3V0ZTohMCxkaXJlY3Rpb246QWl9KSx7cmVzdWx0OiEwfSk6bn19LHtraW5kOlwibWV0aG9kXCIsa2V5OlwiaGFuZGxlQ2hlY2tEZWxldGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5yZWFsQ2xpcC5yZW1vdmVJbmNpZGVudChlKSxpPXRoaXMuYXVkaW9DbGlwLnJlbW92ZUluY2lkZW50KGUpO3JldHVybiEwPT09bi5yZXN1bHQmJiEwPT09aS5yZXN1bHQ/KG4uZXhlY3V0ZSgpLGkuZXhlY3V0ZSgpLHRoaXMucHV0TWVzc2FnZU9uUGlwZShcImZsYXNoXCIse30sXCJSb290Q2xpcFwiLHtzZWxmRXhlY3V0ZTohMCxkaXJlY3Rpb246QWl9KSx7cmVzdWx0OiEwfSk6bn19LHtraW5kOlwibWV0aG9kXCIsa2V5OlwiaGFuZGxlQ2hlY2tSZXNpemVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMucmVhbENsaXAucmVzaXplSW5jaWRlbnQoZSksaT10aGlzLmF1ZGlvQ2xpcC5yZXNpemVJbmNpZGVudChlKTtyZXR1cm4hMD09PW4ucmVzdWx0JiYhMD09PWkucmVzdWx0PyhuLmV4ZWN1dGUoKSxpLmV4ZWN1dGUoKSx0aGlzLnB1dE1lc3NhZ2VPblBpcGUoXCJmbGFzaFwiLHt9LFwiUm9vdENsaXBcIix7c2VsZkV4ZWN1dGU6ITAsZGlyZWN0aW9uOkFpfSkse3Jlc3VsdDohMH0pOm59fSx7a2luZDpcIm1ldGhvZFwiLGtleTpcImhhbmRsZUZsYXNoXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZighdGhpcy5pc1RoZVJvb3RDbGlwKXJldHVybiB0aGlzLmJ5cGFzcygpO3RoaXMuZmxhc2goKX19LHtraW5kOlwibWV0aG9kXCIsa2V5OlwiZXhwb3J0RGVmaW5pdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bShsKGkucHJvdG90eXBlKSxcImV4cG9ydERlZmluaXRpb25cIix0aGlzKS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLmlzQW5pbWF0aW9uJiYodC5wcm9wcy5kdXJhdGlvbj10aGlzLnByb3BzLmR1cmF0aW9uP3RoaXMucHJvcHMuZHVyYXRpb246dGhpcy5jYWxjdWxhdGVkRHVyYXRpb24pLHR9fSx7a2luZDpcIm1ldGhvZFwiLGtleTpcImhhbmRsZVNldEJsb2NrXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZighdGhpcy5pc1RoZVJvb3RDbGlwKXJldHVybiB0aGlzLmJ5cGFzcygpO1widHJhbnNpdGlvbmFsXCIhPT10aGlzLnJ1blRpbWVJbmZvLnN0YXRlJiYoXCJibG9ja2VkXCIhPT10aGlzLnJ1blRpbWVJbmZvLnN0YXRlJiYodGhpcy5zdGF0dXNCZWZvcmVCbG9jaz10aGlzLnJ1blRpbWVJbmZvLnN0YXRlKSx0aGlzLmJsb2NraW5nV2FpdGluZ3NbZS5pZF09ZSx0aGlzLmJsb2NrKCkpfX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJoYW5kbGVVbkJsb2NrXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZighdGhpcy5pc1RoZVJvb3RDbGlwKXJldHVybiB0aGlzLmJ5cGFzcygpO09iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmJsb2NraW5nV2FpdGluZ3MsZS5pZCkmJihkZWxldGUgdGhpcy5ibG9ja2luZ1dhaXRpbmdzW2UuaWRdLDA9PT1PYmplY3Qua2V5cyh0aGlzLmJsb2NraW5nV2FpdGluZ3MpLmxlbmd0aCYmKFwicGxheWluZ1wiPT09dGhpcy5zdGF0dXNCZWZvcmVCbG9jaz8odGhpcy5wcmV2aW91c1RpbWVTdGFtcD0tMSx0aGlzLnBsYXkoKSk6dGhpcy5hcm0oKSkpfX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJzdG9wXCIsdmFsdWU6ZnVuY3Rpb24oKXttKGwoaS5wcm90b3R5cGUpLFwic3RvcFwiLHRoaXMpLmNhbGwodGhpcyksdGhpcy5ibG9ja2luZ1dhaXRpbmdzPXt9fX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJvblByb2dyZXNzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLnJlYWxDbGlwLm9uUHJvZ3Jlc3ModCxlKSx0aGlzLmF1ZGlvQ2xpcC5vblByb2dyZXNzKHQsZSl9fSx7a2luZDpcIm1ldGhvZFwiLGtleTpcInBhc3RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaXNUaGVSb290Q2xpcD9uZXcgdnMoe2hvc3Q6dCxkZXNjcmlwdGl2ZUluY2lkZW50OnRoaXN9KTpudWxsfX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJmbGFzaFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5yZWFsQ2xpcC5mbGFzaCgpfX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJzZXRWb2x1bWVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdDwwfHx0PjE/e3Jlc3VsdDohMSxlcnJvcnM6W3t0eXBlOlwiaW52YWxpZCB2b2x1bWUgbnVtYmVyXCJ9XX06XCJvZmZcIj09PXRoaXMuYXVkaW8/e3Jlc3VsdDohMSxlcnJvcnM6W3t0eXBlOlwiY2FuIG5vdCBzZXQgdm9sdW1lIG9mIENsaXAgd2l0aCBhdWRpbyBvZmZcIn1dfToodGhpcy5hdWRpb0NsaXAuc2V0Vm9sdW1lKHQpLHtyZXN1bHQ6ITB9KX19XX19KSxmdW5jdGlvbih0KXt1KG4sdCk7dmFyIGU9cChuKTtmdW5jdGlvbiBuKHQsaSl7dmFyIHM7cmV0dXJuIHIodGhpcyxuKSwocz1lLmNhbGwodGhpcyx0LGkpKS5ydW5UaW1lSW5mbz17Y3VycmVudE1pbGxpc2Vjb25kOjAsc3RhdGU6XCJpZGxlXCJ9LHMubGlzdGVuZXJzPXt9LHMucHJldmlvdXNUaW1lU3RhbXA9LTEscy5zcGVlZD0xLHN9cmV0dXJuIGEobixbe2tleTpcIl9zZXRTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHQhPT10aGlzLnJ1blRpbWVJbmZvLnN0YXRlKWZvcih2YXIgZSBpbiB0aGlzLnJ1blRpbWVJbmZvLnN0YXRlPXQsdGhpcy5wdXRNZXNzYWdlT25QaXBlKFwic2V0U3RhdGVcIix0LFwiQ2xpcHNcIix7c2VsZkV4ZWN1dGU6ITEsZGlyZWN0aW9uOlBpfSksdGhpcy5saXN0ZW5lcnMpe3RoaXMubGlzdGVuZXJzW2VdLmZ1bmN0KHRoaXMucnVuVGltZUluZm8uY3VycmVudE1pbGxpc2Vjb25kLHQpfX19LHtrZXk6XCJoYW5kbGVTZXRTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5fc2V0U3RhdGUoZSl9fSx7a2V5OlwicGxheVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07aWYoXCJpZGxlXCI9PT10aGlzLnJ1blRpbWVJbmZvLnN0YXRlfHxcInBhdXNlZFwiPT09dGhpcy5ydW5UaW1lSW5mby5zdGF0ZXx8XCJhcm1lZFwiPT09dGhpcy5ydW5UaW1lSW5mby5zdGF0ZXx8XCJ0cmFuc2l0aW9uYWxcIj09PXRoaXMucnVuVGltZUluZm8uc3RhdGV8fFwiYmxvY2tlZFwiPT09dGhpcy5ydW5UaW1lSW5mby5zdGF0ZSl7aWYoXCJwYXVzZWRcIj09PXRoaXMucnVuVGltZUluZm8uc3RhdGUpe3ZhciBuPShuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMucGF1c2VNb21lbnQ7dGhpcy5wcmV2aW91c1RpbWVTdGFtcCs9bn10aGlzLl9zZXRTdGF0ZShcInBsYXlpbmdcIiksdGhpcy5vblBsYXkoKSxlfHx3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbihlKXt0LnN0ZXAoZSl9KSl9fX0se2tleTpcInBhdXNlXCIsdmFsdWU6ZnVuY3Rpb24oKXtcInBsYXlpbmdcIj09PXRoaXMucnVuVGltZUluZm8uc3RhdGUmJih0aGlzLl9zZXRTdGF0ZShcInBhdXNlZFwiKSx0aGlzLnBhdXNlTW9tZW50PShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMub25XYWl0KCkpfX0se2tleTpcImFybVwiLHZhbHVlOmZ1bmN0aW9uKCl7XCJ0cmFuc2l0aW9uYWxcIiE9PXRoaXMucnVuVGltZUluZm8uc3RhdGUmJlwiYmxvY2tlZFwiIT09dGhpcy5ydW5UaW1lSW5mby5zdGF0ZXx8dGhpcy5fc2V0U3RhdGUoXCJhcm1lZFwiKX19LHtrZXk6XCJjb21wbGV0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0U3RhdGUoXCJpZGxlXCIpLHRoaXMucHJldmlvdXNUaW1lU3RhbXA9LTF9fSx7a2V5Olwic3RvcFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0U3RhdGUoXCJ0cmFuc2l0aW9uYWxcIiksdGhpcy5wcmV2aW91c1RpbWVTdGFtcD0tMX19LHtrZXk6XCJibG9ja1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0U3RhdGUoXCJibG9ja2VkXCIpLHRoaXMucHJldmlvdXNUaW1lU3RhbXA9LTF9fSx7a2V5Olwib25QbGF5XCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5Olwib25XYWl0XCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OlwicGxheWFibGVQcm9ncmVzc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5pc1RoZVJvb3RDbGlwKXtmb3IodmFyIG4gaW4gdGhpcy5saXN0ZW5lcnMpe3ZhciBpPXRoaXMubGlzdGVuZXJzW25dOyEwIT09aS5vbmx5T25TdGF0ZUNoYW5nZSYmKE1hdGguYWJzKGUraS5jYXZhRGVsdGEtdGhpcy5ydW5UaW1lSW5mby5jdXJyZW50TWlsbGlzZWNvbmQpPmkudGhyZXNob2xkPyhpLmZ1bmN0KGhpKGUsaS5yb3VuZFRvKSx0aGlzLnJ1blRpbWVJbmZvLnN0YXRlKSxpLmNhdmFEZWx0YT0wKTppLmNhdmFEZWx0YSs9TWF0aC5hYnMoZS10aGlzLnJ1blRpbWVJbmZvLmN1cnJlbnRNaWxsaXNlY29uZCkpfXJldHVybiB0aGlzLm9uUHJvZ3Jlc3ModCxlKSx0aGlzLnJ1blRpbWVJbmZvLmN1cnJlbnRNaWxsaXNlY29uZD1lLCEwfXJldHVybiExfX0se2tleTpcImV4ZWN1dGlvblNwZWVkXCIsc2V0OmZ1bmN0aW9uKHQpe3RoaXMuaXNUaGVSb290Q2xpcCYmKHRoaXMuc3BlZWQ9cGFyc2VGbG9hdCh0KSl9fSx7a2V5Olwic3RlcFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07aWYoXCJwbGF5aW5nXCI9PT10aGlzLnJ1blRpbWVJbmZvLnN0YXRlKXt2YXIgbj10aGlzOy0xPT09dGhpcy5wcmV2aW91c1RpbWVTdGFtcCYmKHRoaXMucHJldmlvdXNUaW1lU3RhbXA9dCk7dmFyIGk9e21pbGxpc2Vjb25kczpNYXRoLnJvdW5kKHRoaXMucnVuVGltZUluZm8uY3VycmVudE1pbGxpc2Vjb25kKyh0LXRoaXMucHJldmlvdXNUaW1lU3RhbXApKnRoaXMuc3BlZWQpLGZyYWN0aW9uOih0aGlzLnJ1blRpbWVJbmZvLmN1cnJlbnRNaWxsaXNlY29uZCsodC10aGlzLnByZXZpb3VzVGltZVN0YW1wKSp0aGlzLnNwZWVkKS90aGlzLmR1cmF0aW9ufTtpZihpLmZyYWN0aW9uPj0xKXJldHVybiB0aGlzLnBsYXlhYmxlUHJvZ3Jlc3MoMSx0aGlzLmR1cmF0aW9uKSx2b2lkIHRoaXMuY29tcGxldGUoKTtpZihpLmZyYWN0aW9uPDApcmV0dXJuIHRoaXMucGxheWFibGVQcm9ncmVzcygwLDApLHZvaWQgdGhpcy5jb21wbGV0ZSgpO3RoaXMucGxheWFibGVQcm9ncmVzcyhpLmZyYWN0aW9uLGkubWlsbGlzZWNvbmRzKSx0aGlzLnByZXZpb3VzVGltZVN0YW1wPXQsZXx8d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShuLnN0ZXAuYmluZChuKSl9fX0se2tleTpcInN1YnNjcmliZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdJiZhcmd1bWVudHNbNF07bnx8KG49MCksaXx8KGk9MSksdGhpcy5saXN0ZW5lcnNbdF09e2Z1bmN0OmUsdGhyZXNob2xkOm4scm91bmRUbzppLGNhdmFEZWx0YTowLG9ubHlPblN0YXRlQ2hhbmdlOnJ9fX0se2tleTpcInVuc3Vic2NyaWJlXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWkodGhpcy5saXN0ZW5lcnMsdCkmJmRlbGV0ZSB0aGlzLmxpc3RlbmVyc1t0XX19LHtrZXk6XCJzdWJzY3JpYmVUb0R1cmF0aW9uQ2hhbmdlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLmlzVGhlUm9vdENsaXAmJih0aGlzLnJlYWxDbGlwLnN1YnNjcmliZVRvRHVyYXRpb25DaGFuZ2UodCksITApfX1dKSxufShOcikpLGJzPWZ1bmN0aW9uKHQpe3Uobix0KTt2YXIgZT1wKG4pO2Z1bmN0aW9uIG4odCl7dmFyIGkscyxhPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpudWxsO3JldHVybiByKHRoaXMsbiksbnVsbD09PWEmJmlpKHQsXCJhdWRpb1NvdXJjZXNcIik/KGk9e30scz10KTpudWxsPT09YT8oaT10LHM9e30pOihpPXQscz1hKSxzLmF1ZGlvPVwib25seVwiLGUuY2FsbCh0aGlzLGkscyl9cmV0dXJuIG59KGtzKSx4cz1Vbi5jb21waWxlKHtpbmNpZGVudHM6e3R5cGU6XCJhcnJheVwiLGl0ZW1zOnt0eXBlOlwib2JqZWN0XCIscHJvcHM6e3Bvc2l0aW9uOnt0eXBlOlwiYW1vdW50XCIsaW50ZWdlcjohMCxtaW46MCxvcHRpb25hbDohMX0sYXR0cnM6e3R5cGU6XCJvYmplY3RcIixvcHRpb25hbDohMX0scHJvcHM6e3R5cGU6XCJvYmplY3RcIixvcHRpb25hbDohMX0saW5jaWRlbnRDbGFzczp7dHlwZTpcImFueVwiLG9wdGlvbmFsOiExfX19fX0pLENzPVwiQ29tYm9zIGRvbid0IGFsbG93IGV4dGVybmFsIGFkZGl0aW9uIG9yIG1hbmlwdWxhdGlvbiB0byB0aGVpciBJbmNpZGVudHNcIjtmdW5jdGlvbiBJcygpe3JldHVybiB5aS5lcnJvcihDcykse3Jlc3VsdDohMSxlcnJvcnM6W0NzXX19dmFyIHdzPWZ1bmN0aW9uKHQpe3UoaSx0KTt2YXIgZT1wKGkpO2Z1bmN0aW9uIGkodCxuKXt2YXIgcztyKHRoaXMsaSksbyhoKHM9ZS5jYWxsKHRoaXMsdCxuKSksXCJhZGRJbmNpZGVudFwiLElzKSxvKGgocyksXCJtb3ZlSW5jaWRlbnRcIixJcyksbyhoKHMpLFwicmVtb3ZlSW5jaWRlbnRcIixJcyksbyhoKHMpLFwiaGFuZGxlQ2hlY2tBZGRpdGlvblwiLHZpKSxvKGgocyksXCJoYW5kbGVDaGVja01vdmVcIix2aSksbyhoKHMpLFwiaGFuZGxlQ2hlY2tEZWxldGlvblwiLHZpKSxvKGgocyksXCJoYW5kbGVDaGVja1Jlc2l6ZVwiLHZpKSxudWxsIT09cy5pbmNpZGVudHMmJihzLmF0dHJzLmluY2lkZW50cz1zLmluY2lkZW50cyxzLmF0dHJpYnV0ZXNTdGFnZ2Vycz1bXSxzLnByb3BzU3RhZ2dlcnM9W10scy5zZXR1cER5bmFtaWNWYWx1ZXMoKSk7dmFyIGE9a2kocy5wcm9wcyxJcixzLmNvbnN0cnVjdG9yKTtpZighYS5yZXN1bHQpcmV0dXJuIGQocyxhKTt2YXIgdT14cyhzLmF0dHJzKTtpZih1Lmxlbmd0aD4wKXJldHVybiB5aS5lcnJvcihcIlRoZSBwcm92aWRlZCBhdHRyaWJ1dGVzIGZvciBDb21ibyBJbmNpZGVudCBhcmUgaW52YWxpZFwiKSxkKHMse3Jlc3VsdDohMSxlcnJvcnM6dX0pO2Zvcih2YXIgbD1bXSxjPTA7YzxzLmF0dHJzLmxlbmd0aDtjKyspe3ZhciBwPXMuYXR0cnNbY107aWYobnVsbCE9PXAuaW5jaWRlbnRDbGFzcy5hdHRyc1ZhbGlkYXRpb25SdWxlcyl7dmFyIGY9cC5pbmNpZGVudENsYXNzLmF0dHJzVmFsaWRhdGlvbk1ldGhvZChwLmF0dHJzKTtmLmxlbmd0aD4wJiZsLmNvbmNhdChmLmVycm9ycyl9dmFyIG09a2kocC5wcm9wcyxwLmluY2lkZW50Q2xhc3MucHJvcHNWYWxpZGF0aW9uUnVsZXMscC5pbmNpZGVudENsYXNzKTttLnJlc3VsdHx8bC5jb25jYXQobS5lcnJvcnMpfXJldHVybiBsLmxlbmd0aD4wP2Qocyx7cmVzdWx0OiExLGVycm9yczpsfSk6KHMuZHluYW1pY0R1cmF0aW9uVmFsdWU9bnVsbCxzKX1yZXR1cm4gYShpLFt7a2V5OlwiaW5jaWRlbnRzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fSx7a2V5OlwiZHVyYXRpb25cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuZHluYW1pY0R1cmF0aW9uVmFsdWU/dGhpcy5keW5hbWljRHVyYXRpb25WYWx1ZTpcImR5bmFtaWNcIn0sc2V0OmZ1bmN0aW9uKHQpe2cobChpLnByb3RvdHlwZSksXCJkdXJhdGlvblwiLHQsdGhpcywhMCl9fSx7a2V5OlwiZXhwb3J0RGVmaW5pdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bihuKHt9LHRoaXMuYXR0cnMpLHt9LHtpbmNpZGVudHM6ZnVuY3Rpb24gdChlKXtmb3IodmFyIGk9W10scj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgcz1lW3JdLGE9cy5hdHRycztcIkNvbWJvXCI9PT1zLmluY2lkZW50Q2xhc3MuQ2xhc3NOYW1lJiYoYT1uKG4oe30sYSkse30se2luY2lkZW50czp0KGEuaW5jaWRlbnRzKX0pKSxpLnB1c2goe0NsYXNzTmFtZTpzLmluY2lkZW50Q2xhc3MuQ2xhc3NOYW1lfHxzLmluY2lkZW50Q2xhc3MudGFyZ2V0Q2xhc3MuQ2xhc3NOYW1lLHBsdWdpbl9ucG1fbmFtZTpzLmluY2lkZW50Q2xhc3MucGx1Z2luX25wbV9uYW1lfHxzLmluY2lkZW50Q2xhc3MudGFyZ2V0Q2xhc3MucGx1Z2luX25wbV9uYW1lLHZlcnNpb246cy5pbmNpZGVudENsYXNzLnZlcnNpb258fHMuaW5jaWRlbnRDbGFzcy50YXJnZXRDbGFzcy52ZXJzaW9uLGF0dHJzOmEscHJvcHM6SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzLnByb3BzKSkscG9zaXRpb246cy5wb3NpdGlvbn0pfXJldHVybiBpfSh0aGlzLmF0dHJzLmluY2lkZW50cyl9KTtyZXR1cm57Q2xhc3NOYW1lOnRoaXMuY29uc3RydWN0b3IuQ2xhc3NOYW1lLHZlcnNpb246dGhpcy5jb25zdHJ1Y3Rvci52ZXJzaW9uLHBsdWdpbjp0aGlzLmNvbnN0cnVjdG9yLnBsdWdpbnx8dGhpcy5jb25zdHJ1Y3Rvci5wbHVnaW5fbnBtX25hbWUscGx1Z2luX25wbV9uYW1lOnRoaXMuY29uc3RydWN0b3IucGx1Z2luX25wbV9uYW1lLGF0dHJzOnQscHJvcHM6SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnByb3BzKSksaW5jaWRlbnRzOnt9LGR1cmF0aW9uOnRoaXMuZHVyYXRpb259fX0se2tleTpcImV4cG9ydExpdmVEZWZpbml0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdLGU9dGhpcy5hdHRycztudWxsIT09dGhpcy5pbmNpZGVudHMmJihlPW4obih7fSx0aGlzLmF0dHJzKSx7fSx7aW5jaWRlbnRzOnZvaWQgMH0pKTt2YXIgaT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMucHJvcHMpKTtyZXR1cm4gdHx8ZGVsZXRlIGkuaWQse0NsYXNzOnRoaXMuY29uc3RydWN0b3IsYXR0cnM6ZSxwcm9wczppLGluY2lkZW50czp7fX19fV0pLGl9KE5yKTtvKHdzLFwiaXNDb21ib1wiLCEwKSxvKHdzLFwiQ2xhc3NOYW1lXCIsXCJDb21ib1wiKSxvKHdzLFwiYXR0cnNWYWxpZGF0aW9uUnVsZXNcIixudWxsKSxvKHdzLFwicHJvcHNWYWxpZGF0aW9uUnVsZXNcIixJcik7dmFyIEVzPVAobnVsbCwoZnVuY3Rpb24odCxlKXt2YXIgbj1mdW5jdGlvbihlKXt1KGksZSk7dmFyIG49cChpKTtmdW5jdGlvbiBpKGUscyl7dmFyIGE7cih0aGlzLGkpLHZvaWQgMD09PXMmJihzPWUsZT17fSksYT1uLmNhbGwodGhpcyxzKSx0KGgoYSkpO3ZhciBvPWtpKHMseXIsYS5jb25zdHJ1Y3RvcixhLmlkKTtyZXR1cm4gby5yZXN1bHQ/KGEuaW5oZXJpdGVkU2VsZWN0b3I9bnVsbCxhLmF0dHJzPWUsaWkocyxcImR1cmF0aW9uXCIpfHwocy5kdXJhdGlvbj0wKSxhLnByb3BzPXMsYS5hdHRyaWJ1dGVzU3RhZ2dlcnM9W10sYS5wcm9wc1N0YWdnZXJzPVtdLGEuc2V0dXBEeW5hbWljVmFsdWVzKCksYS5keW5hbWljRHVyYXRpb25WYWx1ZT1udWxsLGEucGFzc2l2ZT0hMSxhKTpkKGEsbyl9cmV0dXJuIGl9KGUpO3JldHVybntGOm4sZDpbe2tpbmQ6XCJmaWVsZFwiLHN0YXRpYzohMCxrZXk6XCJJbmNpZGVudFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIEhpfX0se2tpbmQ6XCJmaWVsZFwiLHN0YXRpYzohMCxrZXk6XCJwbHVnaW5fbnBtX25hbWVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwibW90b3ItY29ydGV4LWpzLWF0dHJpYnV0ZVwifX0se2tpbmQ6XCJmaWVsZFwiLHN0YXRpYzohMCxrZXk6XCJ2ZXJzaW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gaXJ9fSx7a2luZDpcImZpZWxkXCIsc3RhdGljOiEwLGtleTpcIkNoYW5uZWxcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBhc319LHtraW5kOlwiZmllbGRcIixzdGF0aWM6ITAsa2V5OlwiQ2xhc3NOYW1lXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cIkluY2lkZW50XCJ9fSx7a2luZDpcImZpZWxkXCIsc3RhdGljOiEwLGtleTpcImF0dHJzVmFsaWRhdGlvblJ1bGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19LHtraW5kOlwiZmllbGRcIixzdGF0aWM6ITAsa2V5OlwicHJvcHNWYWxpZGF0aW9uUnVsZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB5cn19LHtraW5kOlwibWV0aG9kXCIsZGVjb3JhdG9yczpbQXJdLGtleTpcImVkaXRBdHRyaWJ1dGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2luZDpcIm1ldGhvZFwiLGRlY29yYXRvcnM6W1ByXSxrZXk6XCJlZGl0UHJvcGVydGllc1wiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tpbmQ6XCJtZXRob2RcIixkZWNvcmF0b3JzOltUcl0sa2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2luZDpcIm1ldGhvZFwiLGRlY29yYXRvcnM6W3dyXSxrZXk6XCJjbG9uZVwiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tpbmQ6XCJtZXRob2RcIixkZWNvcmF0b3JzOltTcl0sa2V5Olwic2VsZWN0b3JcIix2YWx1ZTpmdW5jdGlvbigpe319LHtraW5kOlwibWV0aG9kXCIsZGVjb3JhdG9yczpbT3JdLGtleTpcImdldEVsZW1lbnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2luZDpcIm1ldGhvZFwiLGRlY29yYXRvcnM6WyRyXSxrZXk6XCJzZXR1cER5bmFtaWNWYWx1ZXNcIix2YWx1ZTpmdW5jdGlvbigpe319LHtraW5kOlwiZ2V0XCIsa2V5OlwiZHVyYXRpb25cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5keW5hbWljRHVyYXRpb25WYWx1ZT90aGlzLmR5bmFtaWNEdXJhdGlvblZhbHVlOnRoaXMucHJvcHNTdGFnZ2Vycy5sZW5ndGg+MD9cImR5bmFtaWNcIjptKGwobi5wcm90b3R5cGUpLFwiZHVyYXRpb25cIix0aGlzKX19LHtraW5kOlwic2V0XCIsa2V5OlwiZHVyYXRpb25cIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLnByb3BzU3RhZ2dlcnMubGVuZ3RoPjApe2Zvcih2YXIgZT0wO2U8dGhpcy5wcm9wc1N0YWdnZXJzLmxlbmd0aDtlKyspaWYoXCJyZXBlYXRzXCIhPT10aGlzLnByb3BzU3RhZ2dlcnNbZV0ucGF0aCl7dmFyIGk9dGhpcy5wcm9wc1N0YWdnZXJzW2VdLnN0YWdnZXIucmVzaXplKHQvdGhpcy5kdXJhdGlvbik7Z2kodGhpcy5wcm9wcyx0aGlzLnByb3BzU3RhZ2dlcnNbZV0ucGF0aCxpKX10aGlzLmR5bmFtaWNEdXJhdGlvblZhbHVlPXR9ZWxzZSBnKGwobi5wcm90b3R5cGUpLFwiZHVyYXRpb25cIix0LHRoaXMsITApfX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJtYW5hZ2VFZGl0QXR0clByb3BzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnBhcmVudE5vZGUsaT1uLmdldExlYWZQb3NpdGlvbih0aGlzLmlkKTtuLnJlbW92ZUluY2lkZW50KHRoaXMuaWQpO3ZhciByPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpc1tlXSkpO3RoaXNbZV09dDt2YXIgcz1uLmFkZEluY2lkZW50KHRoaXMsaSk7cmV0dXJuIHMucmVzdWx0fHwobi5yZW1vdmVJbmNpZGVudCh0aGlzLmlkKSx0aGlzW2VdPXIsbi5hZGRJbmNpZGVudCh0aGlzLGkpKSxzfX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJkZXRhY2hGcm9tUGFyZW50XCIsdmFsdWU6ZnVuY3Rpb24oKXttKGwobi5wcm90b3R5cGUpLFwiZGV0YWNoRnJvbVBhcmVudFwiLHRoaXMpLmNhbGwodGhpcyksdGhpcy5pbmhlcml0ZWRTZWxlY3Rvcj1udWxsfX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJoYW5kbGVDaGVja0ZvckludmFsaWRTZWxlY3RvcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc2VsZWN0b3IoKTtyZXR1cm4gbnVsbD09PXQ/e2lkOnRoaXMuaWQsQ2xhc3NOYW1lOnRoaXMuY29uc3RydWN0b3IuQ2xhc3NOYW1lLHBsdWdpbl9ucG1fbmFtZTp0aGlzLmNvbnN0cnVjdG9yLnBsdWdpbl9ucG1fbmFtZSxlcnJvcjpcIm51bGwgc2VsZWN0b3JcIn06XCImXCI9PT10LmNoYXJBdCgwKT97aWQ6dGhpcy5pZCxDbGFzc05hbWU6dGhpcy5jb25zdHJ1Y3Rvci5DbGFzc05hbWUscGx1Z2luX25wbV9uYW1lOnRoaXMuY29uc3RydWN0b3IucGx1Z2luX25wbV9uYW1lLGVycm9yOlwicmVsYXRpdmUgc2VsZWN0b3Igd2l0aCBubyBpbmhlcml0ZWQgc2VsZWN0b3JcIixzZWxlY3Rvcjp0fTp0aGlzLmJ5cGFzcygpfX0se2tpbmQ6XCJtZXRob2RcIixrZXk6XCJleHBvcnREZWZpbml0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm57Q2xhc3NOYW1lOnRoaXMuY29uc3RydWN0b3IuQ2xhc3NOYW1lLHZlcnNpb246dGhpcy5jb25zdHJ1Y3Rvci52ZXJzaW9uLHBsdWdpbjp0aGlzLmNvbnN0cnVjdG9yLnBsdWdpbnx8dGhpcy5jb25zdHJ1Y3Rvci5wbHVnaW5fbnBtX25hbWUscGx1Z2luX25wbV9uYW1lOnRoaXMuY29uc3RydWN0b3IucGx1Z2luX25wbV9uYW1lLGF0dHJzOnRoaXMuYXR0cnMscHJvcHM6dGhpcy5wcm9wc319fSx7a2luZDpcIm1ldGhvZFwiLGtleTpcImV4cG9ydExpdmVEZWZpbml0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdLGU9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnByb3BzKSk7cmV0dXJuITE9PT10JiZkZWxldGUgZS5pZCx7Q2xhc3M6dGhpcy5jb25zdHJ1Y3RvcixhdHRyczpKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuYXR0cnMpKSxwcm9wczplfX19XX19KSxUaSksQXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zdGFydHNXaXRoKFwib25cIikmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGV9LFBzPWZ1bmN0aW9uKHQpe3JldHVybiB0LnN1YnN0cigyKS50b0xvd2VyQ2FzZSgpfSxPcz1mdW5jdGlvbih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0fTtmdW5jdGlvbiBUcyh0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiBlLmlubmVySFRNTD10LnRyaW0oKSxlLmZpcnN0Q2hpbGR9ZnVuY3Rpb24gU3ModCxlKXtpZighZSlyZXR1cm4gdDtmb3IodmFyIG49MCxpPU9iamVjdC5lbnRyaWVzKGUpO248aS5sZW5ndGg7bisrKXt2YXIgcj15KGlbbl0sMikscz1yWzBdLGE9clsxXTtpZihBcyhzKSl0LmFkZEV2ZW50TGlzdGVuZXIoUHMocyksYSk7ZWxzZSBpZihcImNsYXNzXCI9PT1zKXt2YXIgbyx1PUFycmF5LmlzQXJyYXkoYSk/YTphLnNwbGl0KFwiIFwiKTsobz10LmNsYXNzTGlzdCkuYWRkLmFwcGx5KG8sayh1KSl9ZWxzZSB0LnNldEF0dHJpYnV0ZShzLGEpfXJldHVybiB0fXZhciBfcz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7aWYocih0aGlzLHQpLCFpaShlLFwiaW5jaWRlbnRcIikpcmV0dXJuIHlpLmVycm9yKCdKb3VybmV5IGNvbnN0cnVjdG9yIGV4cGVjdHMgYW4gSW5jaWRlbnQgb24gaXRzIHByb3BlcnRpZXMgb24gdGhlIGtleSBcImluY2lkZW50XCInKSwhMTt0aGlzLm1lbW9yeT1lLmNhcHN1bGVNZW1vcnksdGhpcy5zdGF0aW9ucz1bXSx0aGlzLmluY2lkZW50PWUuaW5jaWRlbnQsdGhpcy5zdGFydE1pbGxpc2Vjb25kPTEqdGhpcy5pbmNpZGVudC5ydW5UaW1lSW5mby5jdXJyZW50TWlsbGlzZWNvbmQsdGhpcy5zdGFydFN0YXRlPVwiXCIuY29uY2F0KHRoaXMuaW5jaWRlbnQucnVuVGltZUluZm8uc3RhdGUpLHRoaXMuaW5jaWRlbnQuc3RvcCgpfXJldHVybiBhKHQsW3trZXk6XCJzdGF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5zdGF0aW9ucy5sZW5ndGg+MCYmdGhpcy5zdGF0aW9uc1t0aGlzLnN0YXRpb25zLmxlbmd0aC0xXSx0aGlzLnN0YXRpb25zLnB1c2godCksdGhpcy5pbmNpZGVudC5wbGF5YWJsZVByb2dyZXNzKHQvdGhpcy5pbmNpZGVudC5kdXJhdGlvbix0KX19LHtrZXk6XCJkZXN0aW5hdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGw7bnVsbCE9dD90aGlzLnN0YXRpb24odCk6dD10aGlzLnN0YXRpb25zW3RoaXMuc3RhdGlvbnMubGVuZ3RoLTFdLHRoaXMuaW5jaWRlbnQucGxheWFibGVQcm9ncmVzcyh0L3RoaXMuaW5jaWRlbnQuZHVyYXRpb24sdCksXCJwbGF5aW5nXCI9PT10aGlzLnN0YXJ0U3RhdGV8fFwiYmxvY2tlZFwiPT09dGhpcy5zdGFydFN0YXRlJiZcInBsYXlpbmdcIj09PXRoaXMuaW5jaWRlbnQuc3RhdHVzQmVmb3JlQmxvY2s/dGhpcy5pbmNpZGVudC5wbGF5KCk6dD49dGhpcy5pbmNpZGVudC5kdXJhdGlvbj90aGlzLmluY2lkZW50LmNvbXBsZXRlKCk6dGhpcy5pbmNpZGVudC5hcm0oKSx0aGlzLm1lbW9yeS5wdXNoKHRoaXMuZXhwb3J0Sm91cm5leUxvZyl9fSx7a2V5OlwiZXhwb3J0Sm91cm5leUxvZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue3N0YXJ0TWlsbGlzZWNvbmQ6dGhpcy5zdGFydE1pbGxpc2Vjb25kLHN0YXJ0U3RhdGU6dGhpcy5zdGFydFN0YXRlLHN0YXRpb25zOnRoaXMuc3RhdGlvbnN9fX1dKSx0fSgpLERzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3IodGhpcyx0KSx0aGlzLm1lbW9yeT1bXX1yZXR1cm4gYSh0LFt7a2V5Olwic3RhcnRKb3VybmV5XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/bmV3IF9zKHtpbmNpZGVudDp0LGNhcHN1bGVNZW1vcnk6dGhpcy5tZW1vcnl9KTooeWkuZXJyb3IoXCJzdGFydEpvdXJuZXkgZXhwZWN0cyBhbiBJbmNpZGVudCBhcyBhbiBhcmd1bWVudFwiKSwhMSl9fV0pLHR9KCk7ZnVuY3Rpb24gTXModCl7aWYoaWkodCxcImRlZmF1bHRcIikmJih0PXQuZGVmYXVsdCksaWkodCxcIm5wbV9uYW1lXCIpfHwodC5ucG1fbmFtZT1cInBsdWdpbl9cIi5jb25jYXQoKG5ldyBEYXRlKS5nZXRUaW1lKCkpKSwhZnVuY3Rpb24odCl7aWkodCxcImRlZmF1bHRcIikmJih0PXQuZGVmYXVsdCk7dmFyIGU9dC5ucG1fbmFtZSxuPSEwO2lmKGlpKHQsXCJuYW1lXCIpfHx5aS5ub3RpY2UoXCJOb3RpY2Ugb24gcGx1Z2luIFwiLmNvbmNhdChlLCcuIEEgcGx1Z2luIGlzIGFsd2F5cyBnb29kIHRvIGhhdmUgaXRzIG5hbWUgb25cXG4gICAgICAgIGl0cyBtYWluLmpzIGZpbGUsIHVuZGVyIHRoZSBrZXkgXCJuYW1lXCIuIEl0XFwncyBtaXNzaW5nIGZyb20gdGhpcyBwbHVnaW4nKSksaWkodCxcInZlcnNpb25cIil8fHlpLm5vdGljZShcIk5vdGljZSBvbiBcIi5jb25jYXQoZSxcIi4gUGx1Z2luIHNob3VsZCBhbHdheXMgZXhwb3NlIGl0cyB2ZXJzaW9uIG51bWJlciBvbiBtYWluLmpzIGZpbGUuXFxuICAgICAgUGx1Z2luIHZlcnNpb24gaXMgbWlzc2luZ1wiKSksaWkodCxcImluY2lkZW50c1wiKXx8aWkodCxcIkNsaXBcIil8fCh5aS5lcnJvcihcIkVycm9yIG9uIHBsdWdpbiBcIi5jb25jYXQoZSwnLiBBIHBsdWdpbiBtdXN0IGV4cG9zZSBhdCBsZWFzdCBvbmUgSW5jaWRlbnQgb3IgYSBDbGlwLlxcbiAgICAgICAgRXhwb3NlZCBwbHVnaW4gSW5jaWRlbnRzIHNob3VsZCBiZSBkZWZpbmVkIG9uIHRoZSBcImluY2lkZW50c1wiIGtleSBvZiB0aGUgbWFpbi5qcyBmaWxlIHdoaWxlIENsaXBzIG9uIHRoZSBcIkNsaXBcIi4nKSksbj0hMSksaWkodCxcImluY2lkZW50c1wiKSYmIUFycmF5LmlzQXJyYXkodC5pbmNpZGVudHMpKXlpLmVycm9yKFwiRXJyb3Igb24gcGx1Z2luIFwiLmNvbmNhdChlLCcuIHRoZVBsdWdpbiBleHBvc2VkIEluY2lkZW50cyBhcmUgZGVmaW5lZCBvbiB0aGUgXCJpbmNpZGVudHNcIiBrZXkgb2YgdGhlIG1haW4uanMgZmlsZSBpbiBhcnJheSBmb3JtYXQuXFxuICAgICAgICBQbGVhc2UgcmVmZXIgdG8gdGhlIGRvY3VtZW50YXRpb24nKSksbj0hMTtlbHNlIGlmKGlpKHQsXCJpbmNpZGVudHNcIikpZm9yKHZhciBpPTA7aTx0LmluY2lkZW50cy5sZW5ndGg7aSsrKXt2YXIgcj10LmluY2lkZW50c1tpXTtlaShyLmV4cG9ydGFibGUpJiZpaShyLmV4cG9ydGFibGUsXCJkZWZhdWx0XCIpJiYoci5leHBvcnRhYmxlPXIuZXhwb3J0YWJsZS5kZWZhdWx0KTt2YXIgcz1yLmV4cG9ydGFibGUucHJvdG90eXBlO3MgaW5zdGFuY2VvZiBOcnx8cyBpbnN0YW5jZW9mIGtzfHxzIGluc3RhbmNlb2YgSGl8fHMgaW5zdGFuY2VvZiBZcnx8KHlpLmVycm9yKFwiRXJyb3Igb24gcGx1Z2luIFwiLmNvbmNhdChlLFwiLiBFeHBvcnRhYmxlIEluY2lkZW50cyBieSBhbnkgcGx1Z2luIG11c3QgZXh0ZW5kIG9uZSBvZiB0aGUgYmFzZSBjbGFzc2VzIHByb3ZpZGVkIGJ5IE1vdG9yQ29ydGV4LlxcbiAgICAgICAgICAgICAgICBcIikuY29uY2F0KHIuZXhwb3J0YWJsZS5jb25zdHJ1Y3Rvci5uYW1lLFwiIGRvZXNuJ3QuXFxuUGxlYXNlIHJlZmVyIHRvIGRvY3VtZW50YXRpb25cIikpLG49ITEpLHMgaW5zdGFuY2VvZiBrcyYmKGlpKHIsXCJvcmlnaW5hbERpbXNcIik/ITE9PT11aShyLm9yaWdpbmFsRGltcykucmVzdWx0JiYoeWkuZXJyb3IoXCJFcnJvciBvbiBwbHVnaW4gXCIuY29uY2F0KGUsXCIuIEludmFsaWQgb3JpZ2luYWxEaW1zIHZhbHVlIHBhc3NlZCBvbiBcIikuY29uY2F0KHIubmFtZSkpLG49ITEpOnlpLmxvZyhcIldhcm5pbmcgb24gcGx1Z2luIFwiLmNvbmNhdChlLCcuIEl0XFwncyBhbHdheXMgZ29vZCB0byBwcm92aWRlIG9yaWdpbmFsRGltc1xcbndoZW4gZXhwb3NpbmcgSW5jaWRlbnRzIGV4dGVuZGluZyBET01DbGlwLiBCeSBkZWZpbmluZyB0aGVpciBvcmlnaW5hbCBkaW1zIHRoZSB1c2Vyc1xcbm9mIHlvdXIgcGx1Z2luIHdpbGwgYmUgYWJsZSB0byBkZWZpbmUgdGhlIGRlc2lyZWQgZGltZW5zaW9ucyBvZiB5b3VyIEluY2lkZW50IGJ5XFxudGhlIFwiY29udGFpbmVyUGFyYW1zIG9iamVjdFwiJykpKSxpaShyLFwibmFtZVwiKXx8KHlpLmVycm9yKFwiRXJyb3Igb24gcGx1Z2luIFwiLmNvbmNhdChlLCcuIEV4cG9ydGFibGUgSW5jaWRlbnRzIGJ5IGFueSBwbHVnaW4gbXVzdCBoYXZlIHRoZSBcIm5hbWVcIiBrZXkgd2hpY2ggZGVmaW5lcyB0aGUgbmFtZSBvZiB0aGUgZXhwb3J0ZWQgSW5jaWRlbnQuXFxuUGxlYXNlIHJlZmVyIHRvIGRvY3VtZW50YXRpb24nKSksbj0hMSl9cmV0dXJuIG59KHQpKXJldHVybiExO3ZhciBlPXt9O2lmKGlpKHQsXCJDbGlwXCIpKWlmKGlpKHQuQ2xpcCxcImV4cG9ydGFibGVcIikpe3ZhciBuLGkscyxhPShpPW49ZnVuY3Rpb24odCl7dShuLHQpO3ZhciBlPXAobik7ZnVuY3Rpb24gbigpe3JldHVybiByKHRoaXMsbiksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIG59KGtzKSxvKG4sXCJJbmNpZGVudFwiLHQuQ2xpcC5leHBvcnRhYmxlKSxvKG4sXCJwbHVnaW5cIix0Lm5wbV9uYW1lKSxvKG4sXCJ2ZXJzaW9uXCIsdC52ZXJzaW9ufHxcIipcIiksbyhuLFwiYXVkaW9cIix0LmF1ZGlvfHxcIm9mZlwiKSxvKG4sXCJjdXN0b21DbGlwXCIsITApLGkpO2lpKHQuQ2xpcCxcImF0dHJpYnV0ZXNWYWxpZGF0aW9uUnVsZXNcIikmJihzPVVuLmNvbXBpbGUodC5DbGlwLmF0dHJpYnV0ZXNWYWxpZGF0aW9uUnVsZXMpKTtlLkNsaXA9ZnVuY3Rpb24gZShuLGkpe3IodGhpcyxlKTt2YXIgbyx1PW4sbD1pO2lmKHZvaWQgMD09PWkmJih1PXt9LGw9biksaWkodC5DbGlwLFwiYXR0cmlidXRlc1ZhbGlkYXRpb25SdWxlc1wiKSl7dmFyIGM9cyh1KTtpZihjLmxlbmd0aD4wKXtmb3IodmFyIGg9XCJFcnJvciBvbiBwbHVnaW4ncyBcXFwiXCIuY29uY2F0KHQubnBtX25hbWUsJ1wiIENsaXAgaW5zdGFudGlhdGlvbi4gRXJyb3JzOicpLGQ9MDtkPGMubGVuZ3RoO2QrKyloKz1cIlxcbiAtIFwiLmNvbmNhdChjW2RdLm1lc3NhZ2UsXCIuIFwiKS5jb25jYXQoY1tkXS5hY3R1YWwsXCIgcHJvdmlkZWRcIik7cmV0dXJuIHlpLmVycm9yKGgpLHlpLmxvZyhcImJyZWFraW5nXCIpLHtyZXN1bHQ6ITEsZXJyb3JzOmN9fXlpLmxvZyhcImluc3RhbnRpYXRpbmdcIiksKG89bmV3IGEodSxsKSkuYXR0cnNWYWxpZGF0aW9uUnVsZXM9dC5DbGlwLmF0dHJpYnV0ZXNWYWxpZGF0aW9uUnVsZXMsby5hdHRyc1ZhbGlkYXRpb25NZXRob2Q9c31lbHNlIHlpLmxvZyhcImluc3RhbnRpYXRpbmdcIiksKG89bmV3IGEodSxsKSkuYXR0cnNWYWxpZGF0aW9uUnVsZXM9bnVsbCx5aS53YXJuaW5nKFwiSXQncyBhbHdheXMgZ29vZCB0byBwcm92aWRlIGF0dHJpYnV0ZXNWYWxpZGF0aW9uUnVsZXMgdG8gdGhlIGV4cG9ydGVkIGluY2lkZW50cy4gXCIuY29uY2F0KHQubnBtX25hbWUsXCIuXCIpLmNvbmNhdChvLmNvbnN0cnVjdG9yLm5hbWUsXCIgZG9lc24ndCBwcm92aWRlIGl0XCIpKTtyZXR1cm4gb319ZWxzZXt2YXIgbCxjLGg9KGM9bD1mdW5jdGlvbih0KXt1KG4sdCk7dmFyIGU9cChuKTtmdW5jdGlvbiBuKCl7cmV0dXJuIHIodGhpcyxuKSxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gbn0oa3MpLG8obCxcIkluY2lkZW50XCIsdC5DbGlwKSxvKGwsXCJwbHVnaW5cIix0Lm5wbV9uYW1lKSxvKGwsXCJ2ZXJzaW9uXCIsdC52ZXJzaW9ufHxcIipcIiksbyhsLFwiYXVkaW9cIix0LmF1ZGlvfHxcIm9mZlwiKSxvKGwsXCJjdXN0b21DbGlwXCIsITApLGMpO3lpLndhcm5pbmcoXCJJdCdzIGFsd2F5cyBnb29kIHRvIHByb3ZpZGUgYXR0cmlidXRlc1ZhbGlkYXRpb25SdWxlcyB0byB0aGUgZXhwb3J0ZWQgaW5jaWRlbnRzLiBcIi5jb25jYXQodC5ucG1fbmFtZSxcIi5DbGlwIGRvZXNuJ3QgcHJvdmlkZSBpdFwiKSksZS5DbGlwPWh9dmFyIGQ9YXM7aWYoaWkodCxcImNvbXBvc2l0ZUF0dHJpYnV0ZXNcIikmJihkPWZ1bmN0aW9uKGUpe3UoaSxlKTt2YXIgbj1wKGkpO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIHIodGhpcyxpKSxlLmNvbWJvQXR0cmlidXRlcz10LmNvbXBvc2l0ZUF0dHJpYnV0ZXMsbi5jYWxsKHRoaXMsZSl9cmV0dXJuIGl9KGFzKSksaWkodCxcImluY2lkZW50c1wiKSlmb3IodmFyIGY9ZnVuY3Rpb24obil7dmFyIGkscyxhPXQuaW5jaWRlbnRzW25dLmV4cG9ydGFibGUsbD1udWxsLGM9bnVsbCxoPSExO2lmKGlpKHQuaW5jaWRlbnRzW25dLFwiYXR0cmlidXRlc1ZhbGlkYXRpb25SdWxlc1wiKSl7aD0hMDt2YXIgZj1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHQuaW5jaWRlbnRzW25dLmF0dHJpYnV0ZXNWYWxpZGF0aW9uUnVsZXMpKTtpaSh0LmluY2lkZW50c1tuXS5hdHRyaWJ1dGVzVmFsaWRhdGlvblJ1bGVzLFwiYW5pbWF0ZWRBdHRyc1wiKSYmKGYuaW5pdGlhbFZhbHVlcz0oaT1mLmFuaW1hdGVkQXR0cnMsZnVuY3Rpb24gdChlKXtpZih0aShlKSYmKGU9e3R5cGU6ZX0pLGUub3B0aW9uYWw9ITAsXCJvYmplY3RcIj09PWUudHlwZSlmb3IodmFyIG4gaW4gZS5wcm9wcyl0KGUucHJvcHNbbl0pfShzPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaSkpKSxzKSksYz1mLGw9VW4uY29tcGlsZShmKX12YXIgbSx2LGc9dm9pZCAwO2lmKGEucHJvdG90eXBlIGluc3RhbmNlb2YgSGkpdj1tPWZ1bmN0aW9uKHQpe3Uobix0KTt2YXIgZT1wKG4pO2Z1bmN0aW9uIG4oKXtyZXR1cm4gcih0aGlzLG4pLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBufShFcyksbyhtLFwiSW5jaWRlbnRcIixhKSxvKG0sXCJwbHVnaW5fbnBtX25hbWVcIix0Lm5wbV9uYW1lKSxvKG0sXCJwbHVnaW5cIix0Lm5wbV9uYW1lKSxvKG0sXCJ2ZXJzaW9uXCIsdC52ZXJzaW9ufHxcIipcIiksbyhtLFwiQ2xhc3NOYW1lXCIsdC5pbmNpZGVudHNbbl0ubmFtZSksbyhtLFwiQ2hhbm5lbFwiLGQpLG8obSxcImF1ZGlvXCIsdC5hdWRpb3x8XCJvZmZcIiksbyhtLFwiYXR0cnNWYWxpZGF0aW9uUnVsZXNcIixjKSxvKG0sXCJhdHRyc1ZhbGlkYXRpb25NZXRob2RcIixsKSxnPXY7ZWxzZSBpZihhLnByb3RvdHlwZSBpbnN0YW5jZW9mIFlyKXt2YXIgeSxrO2s9eT1mdW5jdGlvbih0KXt1KG4sdCk7dmFyIGU9cChuKTtmdW5jdGlvbiBuKCl7cmV0dXJuIHIodGhpcyxuKSxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gbn0oRXMpLG8oeSxcIkluY2lkZW50XCIsYSksbyh5LFwicGx1Z2luX25wbV9uYW1lXCIsXCJAa2lzc215YnV0dG9uL21lZGlhLXBsYXliYWNrXCIpLG8oeSxcInBsdWdpblwiLHQubnBtX25hbWUpLG8oeSxcInZlcnNpb25cIix0LnZlcnNpb258fFwiKlwiKSxvKHksXCJDbGFzc05hbWVcIix0LmluY2lkZW50c1tuXS5uYW1lKSxvKHksXCJDaGFubmVsXCIsWHIpLG8oeSxcImF1ZGlvXCIsdC5hdWRpbz90LmF1ZGlvOlwib2ZmXCIpLG8oeSxcImF0dHJzVmFsaWRhdGlvblJ1bGVzXCIsYyksbyh5LFwiYXR0cnNWYWxpZGF0aW9uTWV0aG9kXCIsbCksZz1rfWVsc2UgaWYoYS5wcm90b3R5cGUgaW5zdGFuY2VvZiBrcyl7dmFyIGIseDt4PWI9ZnVuY3Rpb24odCl7dShuLHQpO3ZhciBlPXAobik7ZnVuY3Rpb24gbigpe3JldHVybiByKHRoaXMsbiksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIG59KGEpLG8oYixcInBsdWdpblwiLHQubnBtX25hbWUpLG8oYixcInZlcnNpb25cIix0LnZlcnNpb258fFwiKlwiKSxvKGIsXCJDbGFzc05hbWVcIix0LmluY2lkZW50c1tuXS5uYW1lKSxvKGIsXCJhdWRpb1wiLHQuYXVkaW8/dC5hdWRpbzpcIm9uXCIpLG8oYixcIm9yaWdpbmFsRGltc1wiLHVpKHQuaW5jaWRlbnRzW25dLm9yaWdpbmFsRGltcykuYW5hbHlzaXMpLG8oYixcImF0dHJzVmFsaWRhdGlvblJ1bGVzXCIsYyksbyhiLFwiYXR0cnNWYWxpZGF0aW9uTWV0aG9kXCIsbCksbyhiLFwiaXNBbmltYXRpb25cIiwhMCksZz14fWVsc2UgaWYoYS5wcm90b3R5cGUgaW5zdGFuY2VvZiBOcil7dmFyIEMsSTtJPUM9ZnVuY3Rpb24odCl7dShuLHQpO3ZhciBlPXAobik7ZnVuY3Rpb24gbigpe3JldHVybiByKHRoaXMsbiksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIG59KGEpLG8oQyxcInBsdWdpblwiLHQubnBtX25hbWUpLG8oQyxcInZlcnNpb25cIix0LnZlcnNpb258fFwiKlwiKSxvKEMsXCJDbGFzc05hbWVcIix0LmluY2lkZW50c1tuXS5uYW1lKSxvKEMsXCJhdHRyc1ZhbGlkYXRpb25SdWxlc1wiLGMpLG8oQyxcImF0dHJzVmFsaWRhdGlvbk1ldGhvZFwiLGwpLGc9SX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LmluY2lkZW50c1tuXS5uYW1lLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uIGUoaSxzKXt2YXIgYTtpZihyKHRoaXMsZSksaCl7dmFyIG89bChpKTtpZihvLmxlbmd0aD4wKXtmb3IodmFyIHU9XCJFcnJvciBvbiBwbHVnaW4ncyBcXFwiXCIuY29uY2F0KHQubnBtX25hbWUsJ1wiIFwiJykuY29uY2F0KHQuaW5jaWRlbnRzW25dLm5hbWUsJ1wiIGluc3RhbnRpYXRpb24uIEVycm9yczonKSxjPTA7YzxvLmxlbmd0aDtjKyspdSs9XCJcXG4gLSBcIi5jb25jYXQob1tjXS5tZXNzYWdlLFwiLiBcIikuY29uY2F0KG9bY10uYWN0dWFsLFwiIHByb3ZpZGVkXCIpO3JldHVybiB5aS5lcnJvcih1KSx7cmVzdWx0OiExLGVycm9yczpvfX19cmV0dXJuKGE9bmV3IGcoaSxzKSkucmVzdWx0JiYhaCYmeWkud2FybmluZyhcIkl0J3MgYWx3YXlzIGdvb2QgdG8gcHJvdmlkZSBhdHRyaWJ1dGVzVmFsaWRhdGlvblJ1bGVzIHRvIHRoZSBleHBvcnRlZCBpbmNpZGVudHMuIFwiLmNvbmNhdCh0Lm5wbV9uYW1lLFwiIGRvZXNuJ3QgcHJvdmlkZSBpdFwiKSksYX07cmV0dXJuIG8oZSxcInRhcmdldENsYXNzXCIsZyksZX19KX0sbT0wO208dC5pbmNpZGVudHMubGVuZ3RoO20rKylmKG0pO3JldHVybiBlfXZhciBWcz17Y3JlYXRlRE9NRWxlbWVudDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KGk+Mj9pLTI6MCkscz0yO3M8aTtzKyspcltzLTJdPWFyZ3VtZW50c1tzXTtpZihPcyh0KSlyZXR1cm4gdChuKG4oe30sZSkse30se2NoaWxkcmVuOnJ9KSk7Zm9yKHZhciBhPVNzKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodCksZSksbz1yLmZsYXQoKSx1PTA7dTxvLmxlbmd0aDt1Kyspe3ZhciBsPW9bdV07aWYoITEhPT1sKXt2YXIgYz1laShsKT9sOlRzKGwudG9TdHJpbmcoKSk7bnVsbCE9PWMmJmEuYXBwZW5kQ2hpbGQoYyl9fXJldHVybiBhLm91dGVySFRNTH0sZWFzaW5nczp6bixjbGlwRnJvbURlZmluaXRpb246ZXJ9LCRzPU1zKHRzKSxOcz0kcy5DbGlwLGpzPSRzLkF1ZGlvRWZmZWN0LEJzPSRzLkF1ZGlvUGxheWJhY2ssUnM9e3ZlcnNpb246aXIsRWZmZWN0OkhpLHV0aWxzOlZzLEhUTUxDbGlwOmtzLEdyb3VwOk5yLENvbWJvOndzLEJyb3dzZXJDbGlwOmRzLGxvYWRQbHVnaW46TXMsQXVkaW9DbGlwOmJzLENvcmVBdWRpb0NsaXA6TnMsQXVkaW9QbGF5YmFjazpCcyxBdWRpb0VmZmVjdDpqcyxNZWRpYVBsYXliYWNrOllyLFRpbWVDYXBzdWxlOkRzfTt0LkF1ZGlvQ2xpcD1icyx0LkF1ZGlvRWZmZWN0PWpzLHQuQXVkaW9QbGF5YmFjaz1Ccyx0LkJyb3dzZXJDbGlwPWRzLHQuQ29tYm89d3MsdC5Db3JlQXVkaW9DbGlwPU5zLHQuRWZmZWN0PUhpLHQuR3JvdXA9TnIsdC5IVE1MQ2xpcD1rcyx0Lk1lZGlhUGxheWJhY2s9WXIsdC5UaW1lQ2Fwc3VsZT1Ecyx0LmRlZmF1bHQ9UnMsdC5sb2FkUGx1Z2luPU1zLHQudXRpbHM9VnMsT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9KSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/motorcortex.umd.js\n");

/***/ }),

/***/ "../package.json":
/*!***********************!*\
  !*** ../package.json ***!
  \***********************/
/*! exports provided: name, version, description, main, module, browser, author, repository, license, engines, scripts, keywords, lint-staged, release, config, dependencies, peerDependencies, devDependencies, husky, default */
/***/ (function(module) {

eval("module.exports = JSON.parse(\"{\\\"name\\\":\\\"@kissmybutton/motorcortex-typewriting\\\",\\\"version\\\":\\\"3.1.0\\\",\\\"description\\\":\\\"typewriting plugin for MotorCortex\\\",\\\"main\\\":\\\"dist/motorcortex-typewriting.cjs.js\\\",\\\"module\\\":\\\"dist/motorcortex-typewriting.esm.js\\\",\\\"browser\\\":\\\"dist/motorcortex-typewriting.umd.js\\\",\\\"author\\\":\\\"KissMyButton PC (kissmybutton.gr) <opensource@kissmybutton.gr>\\\",\\\"repository\\\":{\\\"type\\\":\\\"git\\\",\\\"url\\\":\\\"https://github.com/kissmybutton/motorcortex-<plugin>.git\\\"},\\\"license\\\":\\\"MIT\\\",\\\"engines\\\":{\\\"node\\\":\\\">=8.3.2\\\"},\\\"scripts\\\":{\\\"update-force:packages\\\":\\\"./node_modules/npm-check-updates/bin/ncu -u && npm i\\\",\\\"update:packages\\\":\\\"npm update --save/--save-dev\\\",\\\"concurrently\\\":\\\"concurrently -c \\\\\\\"cyan.bold,magenta.bold\\\\\\\" --names \\\\\\\"JS,Styles\\\\\\\"\\\",\\\"lint:styles\\\":\\\"stylelint  \\\\\\\"src/**.css\\\\\\\" \\\\\\\"src/**/*.scss\\\\\\\" --config .stylelintrc.json\\\",\\\"lint:js\\\":\\\"eslint -c .eslintrc src/**/*.js\\\",\\\"lint\\\":\\\"npm run concurrently \\\\\\\"npm run lint:js\\\\\\\" \\\\\\\"npm run lint:styles\\\\\\\"\\\",\\\"lint:fix\\\":\\\"npm run concurrently  \\\\\\\"npm run lint:js -- --fix\\\\\\\" \\\\\\\"npm run lint:styles -- --fix\\\\\\\"\\\",\\\"build\\\":\\\"npm run build:lib && npm run build:demo\\\",\\\"build:lib\\\":\\\"rollup -c\\\",\\\"start\\\":\\\"npm run build:lib && concurrently -c \\\\\\\"cyan.bold,magenta.bold\\\\\\\" \\\\\\\"npm:build:lib -- -w\\\\\\\"  \\\\\\\"npm:start:demo\\\\\\\" \\\",\\\"start:demo\\\":\\\"webpack-dev-server --inline --hot --disableHostCheck --config ./demo/webpack.config.js\\\",\\\"build:demo\\\":\\\"webpack --config ./demo/webpack.config.js\\\",\\\"test\\\":\\\"HERE GOES YOUR TEST TASK\\\",\\\"test:prod\\\":\\\"npm run lint\\\",\\\"report-coverage\\\":\\\"cat ./coverage/lcov.info | coveralls\\\",\\\"commit\\\":\\\"git-cz\\\",\\\"prebuild\\\":\\\"rimraf dist\\\"},\\\"keywords\\\":[\\\"motorcortex\\\",\\\"animation\\\"],\\\"lint-staged\\\":{\\\"linters\\\":{\\\"*.json\\\":[\\\"prettier --write\\\",\\\"git add\\\"],\\\"*.{css,scss}\\\":[\\\"stylelint  \\\\\\\"src/**.css\\\\\\\" \\\\\\\"src/**/*.scss\\\\\\\" --config .stylelintrc.json --fix\\\",\\\"git add\\\"],\\\"*.{js,jsx}\\\":[\\\"eslint --fix\\\",\\\"git add\\\"]}},\\\"release\\\":{\\\"verifyConditions\\\":[\\\"@semantic-release/changelog\\\",\\\"@semantic-release/npm\\\",\\\"@semantic-release/github\\\",\\\"@semantic-release/git\\\"],\\\"prepare\\\":[\\\"@semantic-release/changelog\\\",\\\"@semantic-release/npm\\\",\\\"@semantic-release/git\\\"]},\\\"config\\\":{\\\"commitizen\\\":{\\\"path\\\":\\\"cz-conventional-changelog\\\"}},\\\"dependencies\\\":{\\\"@kissmybutton/motorcortex-anime\\\":\\\"^2.1.16\\\"},\\\"peerDependencies\\\":{\\\"@kissmybutton/motorcortex\\\":\\\">= 6.4.1 < 8\\\"},\\\"devDependencies\\\":{\\\"@babel/cli\\\":\\\"7.15.4\\\",\\\"@babel/core\\\":\\\"7.15.4\\\",\\\"@babel/preset-env\\\":\\\"7.15.4\\\",\\\"@commitlint/cli\\\":\\\"7.6.1\\\",\\\"@commitlint/config-conventional\\\":\\\"7.6.0\\\",\\\"@kissmybutton/motorcortex\\\":\\\"7.3.0\\\",\\\"@kissmybutton/motorcortex-player\\\":\\\"2.2.0\\\",\\\"@semantic-release/changelog\\\":\\\"3.0.6\\\",\\\"@semantic-release/git\\\":\\\"7.0.18\\\",\\\"@semantic-release/github\\\":\\\"5.5.8\\\",\\\"@semantic-release/npm\\\":\\\"5.3.5\\\",\\\"babel-eslint\\\":\\\"10.1.0\\\",\\\"babel-loader\\\":\\\"8.2.2\\\",\\\"babel-preset-es2015-node5\\\":\\\"1.2.0\\\",\\\"commitizen\\\":\\\"4.2.4\\\",\\\"concurrently\\\":\\\"6.2.1\\\",\\\"coveralls\\\":\\\"3.1.1\\\",\\\"css-loader\\\":\\\"5.2.7\\\",\\\"cz-conventional-changelog\\\":\\\"3.3.0\\\",\\\"es6-promise\\\":\\\"4.2.8\\\",\\\"eslint\\\":\\\"7.32.0\\\",\\\"eslint-config-prettier\\\":\\\"8.3.0\\\",\\\"eslint-config-standard\\\":\\\"16.0.3\\\",\\\"eslint-plugin-babel\\\":\\\"5.3.1\\\",\\\"eslint-plugin-import\\\":\\\"2.24.2\\\",\\\"eslint-plugin-node\\\":\\\"11.1.0\\\",\\\"eslint-plugin-prettier\\\":\\\"3.4.1\\\",\\\"eslint-plugin-promise\\\":\\\"4.3.1\\\",\\\"eslint-plugin-standard\\\":\\\"4.1.0\\\",\\\"exports-loader\\\":\\\"2.0.0\\\",\\\"husky\\\":\\\"5.2.0\\\",\\\"imports-loader\\\":\\\"2.0.0\\\",\\\"json-stringify-safe\\\":\\\"5.0.1\\\",\\\"lint-staged\\\":\\\"10.5.4\\\",\\\"monorepo\\\":\\\"1.2.2\\\",\\\"npm-check-updates\\\":\\\"*\\\",\\\"npx\\\":\\\"*\\\",\\\"prettier\\\":\\\"2.3.2\\\",\\\"rollup\\\":\\\"2.56.3\\\",\\\"rollup-plugin-babel\\\":\\\"4.4.0\\\",\\\"rollup-plugin-commonjs\\\":\\\"10.1.0\\\",\\\"rollup-plugin-node-resolve\\\":\\\"5.2.0\\\",\\\"rollup-plugin-terser\\\":\\\"7.0.2\\\",\\\"@rollup/plugin-json\\\":\\\"4.1.0\\\",\\\"semantic-release\\\":\\\"17.4.7\\\",\\\"shelljs\\\":\\\"0.8.4\\\",\\\"stylelint\\\":\\\"13.13.1\\\",\\\"stylelint-config-prettier\\\":\\\"4.0.0\\\",\\\"stylelint-config-recommended\\\":\\\"2.2.0\\\",\\\"stylelint-config-recommended-scss\\\":\\\"3.3.0\\\",\\\"stylelint-config-standard\\\":\\\"18.3.0\\\",\\\"stylelint-scss\\\":\\\"3.20.1\\\",\\\"webpack\\\":\\\"4.46.0\\\",\\\"webpack-cli\\\":\\\"3.3.12\\\",\\\"webpack-dev-server\\\":\\\"3.11.2\\\",\\\"whatwg-fetch\\\":\\\"3.6.2\\\"},\\\"husky\\\":{\\\"hooks\\\":{\\\"commit-msg\\\":\\\"commitlint -E HUSKY_GIT_PARAMS\\\",\\\"pre-commit\\\":\\\"lint-staged\\\",\\\"pre-push\\\":\\\"npm run test:prod\\\"}}}\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vcGFja2FnZS5qc29uLmpzIiwic291cmNlcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../package.json\n");

/***/ }),

/***/ "../src/TypeWriting.js":
/*!*****************************!*\
  !*** ../src/TypeWriting.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ParseText; });\n/* harmony import */ var _kissmybutton_motorcortex__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @kissmybutton/motorcortex */ \"../node_modules/@kissmybutton/motorcortex/dist/motorcortex.umd.js\");\n/* harmony import */ var _kissmybutton_motorcortex__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_kissmybutton_motorcortex__WEBPACK_IMPORTED_MODULE_0__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n/*INNER PLUGIN*/\n\nvar TypeWritingIncident = /*#__PURE__*/function (_MC$Effect) {\n  _inherits(TypeWritingIncident, _MC$Effect);\n\n  var _super = _createSuper(TypeWritingIncident);\n\n  function TypeWritingIncident() {\n    _classCallCheck(this, TypeWritingIncident);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(TypeWritingIncident, [{\n    key: \"onGetContext\",\n    value: function onGetContext() {\n      this.element.style = this.attrs.css;\n      this.cursorElement = \"<span style=\\\"\".concat(this.attrs.cursorCss, \"\\\">|</span>\");\n      this.delay = this.attrs.blinkDelay || 0;\n      this.hiatus = this.attrs.blinkhiatus || 0;\n    }\n  }, {\n    key: \"getScratchValue\",\n    value: function getScratchValue() {\n      return \"\";\n    }\n  }, {\n    key: \"onProgress\",\n    value: function onProgress(fraction, currentTime) {\n      var text = \"\";\n\n      if (fraction == 1) {\n        this.element.innerHTML = text;\n        return;\n      }\n\n      var duration = 6000;\n      var typeFraction = (duration - this.delay - this.hiatus) / duration;\n      var delayFraction = this.delay / duration;\n      var currentTypefraction = (fraction - delayFraction) / typeFraction;\n      if (currentTypefraction < 0) currentTypefraction = 0;\n      var currentTextLength = this.targetValue.length * currentTypefraction;\n      text += this.targetValue.slice(0, currentTextLength);\n      var showCursor = this.attrs.showCursor;\n      var ishalfOfSecond = parseInt(currentTime / 500) % 2;\n      var beforeTyping = currentTime < this.delay;\n      var afterTyping = currentTime > this.props.duration - this.hiatus;\n      var typing = !beforeTyping && !afterTyping;\n\n      if (showCursor && (ishalfOfSecond || typing)) {\n        text += this.cursorElement;\n      }\n\n      this.element.innerHTML = text;\n    }\n  }]);\n\n  return TypeWritingIncident;\n}(_kissmybutton_motorcortex__WEBPACK_IMPORTED_MODULE_0___default.a.Effect);\n\nvar TypeWritingIncidentDefinition = {\n  npm_name: \"type-writing-definition\",\n  version: \"1.0.0\",\n  incidents: [{\n    exportable: TypeWritingIncident,\n    name: \"TypeWritingIncident\",\n    attributesValidationRules: {}\n  }]\n};\nvar TypeWritingPlugin = _kissmybutton_motorcortex__WEBPACK_IMPORTED_MODULE_0___default.a.loadPlugin(TypeWritingIncidentDefinition);\n/*EXPORTED CLIP*/\n\nvar ParseText = /*#__PURE__*/function (_MC$HTMLClip) {\n  _inherits(ParseText, _MC$HTMLClip);\n\n  var _super2 = _createSuper(ParseText);\n\n  function ParseText() {\n    _classCallCheck(this, ParseText);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(ParseText, [{\n    key: \"html\",\n    get: function get() {\n      return \"\\n      <div class=\\\"container\\\">\".concat(this.attrs.text, \"</div>\\n    \");\n    }\n  }, {\n    key: \"css\",\n    get: function get() {\n      return \"\\n    .container {\\n      width: 100%;\\n      height: 100%;\\n    }\\n  \";\n    }\n  }, {\n    key: \"buildTree\",\n    value: function buildTree() {\n      var _this$attrs = this.attrs,\n          css = _this$attrs.css,\n          showCursor = _this$attrs.showCursor,\n          cursorCss = _this$attrs.cursorCss,\n          blinkDelay = _this$attrs.blinkDelay,\n          blinkhiatus = _this$attrs.blinkhiatus,\n          text = _this$attrs.text;\n      var typewrite = new TypeWritingPlugin.TypeWritingIncident({\n        css: css,\n        showCursor: showCursor,\n        cursorCss: cursorCss,\n        blinkDelay: blinkDelay,\n        blinkhiatus: blinkhiatus,\n        animatedAttrs: {\n          text: text\n        }\n      }, {\n        duration: 6000,\n        selector: \".container\"\n      });\n      this.addIncident(typewrite, 0);\n    }\n  }]);\n\n  return ParseText;\n}(_kissmybutton_motorcortex__WEBPACK_IMPORTED_MODULE_0___default.a.HTMLClip);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL1R5cGVXcml0aW5nLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3NyYy9UeXBlV3JpdGluZy5qcz9mMDkwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBNQyBmcm9tIFwiQGtpc3NteWJ1dHRvbi9tb3RvcmNvcnRleFwiO1xuXG4vKklOTkVSIFBMVUdJTiovXG5jbGFzcyBUeXBlV3JpdGluZ0luY2lkZW50IGV4dGVuZHMgTUMuRWZmZWN0IHtcbiAgb25HZXRDb250ZXh0KCkge1xuICAgIHRoaXMuZWxlbWVudC5zdHlsZSA9IHRoaXMuYXR0cnMuY3NzO1xuICAgIHRoaXMuY3Vyc29yRWxlbWVudCA9IGA8c3BhbiBzdHlsZT1cIiR7dGhpcy5hdHRycy5jdXJzb3JDc3N9XCI+fDwvc3Bhbj5gO1xuICAgIHRoaXMuZGVsYXkgPSB0aGlzLmF0dHJzLmJsaW5rRGVsYXkgfHwgMDtcbiAgICB0aGlzLmhpYXR1cyA9IHRoaXMuYXR0cnMuYmxpbmtoaWF0dXMgfHwgMDtcbiAgfVxuXG4gIGdldFNjcmF0Y2hWYWx1ZSgpIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuXG4gIG9uUHJvZ3Jlc3MoZnJhY3Rpb24sIGN1cnJlbnRUaW1lKSB7XG4gICAgbGV0IHRleHQgPSBcIlwiO1xuICAgIGlmIChmcmFjdGlvbiA9PSAxKSB7XG4gICAgICB0aGlzLmVsZW1lbnQuaW5uZXJIVE1MID0gdGV4dDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCAgZHVyYXRpb24gID0gNjAwMDtcbiAgICBjb25zdCB0eXBlRnJhY3Rpb24gPSAoZHVyYXRpb24gLSB0aGlzLmRlbGF5IC0gdGhpcy5oaWF0dXMpIC8gZHVyYXRpb247XG4gICAgY29uc3QgZGVsYXlGcmFjdGlvbiA9IHRoaXMuZGVsYXkgLyBkdXJhdGlvbjtcbiAgICBsZXQgY3VycmVudFR5cGVmcmFjdGlvbiA9IChmcmFjdGlvbiAtIGRlbGF5RnJhY3Rpb24pIC8gdHlwZUZyYWN0aW9uO1xuICAgIGlmIChjdXJyZW50VHlwZWZyYWN0aW9uIDwgMCkgY3VycmVudFR5cGVmcmFjdGlvbiA9IDA7XG4gICAgY29uc3QgY3VycmVudFRleHRMZW5ndGggPSB0aGlzLnRhcmdldFZhbHVlLmxlbmd0aCAqIGN1cnJlbnRUeXBlZnJhY3Rpb247XG4gICAgdGV4dCArPSB0aGlzLnRhcmdldFZhbHVlLnNsaWNlKDAsIGN1cnJlbnRUZXh0TGVuZ3RoKTtcblxuICAgIGNvbnN0IHsgc2hvd0N1cnNvciB9ID0gdGhpcy5hdHRycztcbiAgICBjb25zdCBpc2hhbGZPZlNlY29uZCA9IHBhcnNlSW50KGN1cnJlbnRUaW1lIC8gNTAwKSAlIDI7XG4gICAgY29uc3QgYmVmb3JlVHlwaW5nID0gY3VycmVudFRpbWUgPCB0aGlzLmRlbGF5O1xuICAgIGNvbnN0IGFmdGVyVHlwaW5nID0gY3VycmVudFRpbWUgPiB0aGlzLnByb3BzLmR1cmF0aW9uIC0gdGhpcy5oaWF0dXM7XG4gICAgY29uc3QgdHlwaW5nID0gIWJlZm9yZVR5cGluZyAmJiAhYWZ0ZXJUeXBpbmc7XG4gICAgaWYgKHNob3dDdXJzb3IgJiYgKGlzaGFsZk9mU2Vjb25kIHx8IHR5cGluZykpIHtcbiAgICAgIHRleHQgKz0gdGhpcy5jdXJzb3JFbGVtZW50O1xuICAgIH1cblxuICAgIHRoaXMuZWxlbWVudC5pbm5lckhUTUwgPSB0ZXh0O1xuICB9XG59XG5cbmNvbnN0IFR5cGVXcml0aW5nSW5jaWRlbnREZWZpbml0aW9uID0ge1xuICBucG1fbmFtZTogXCJ0eXBlLXdyaXRpbmctZGVmaW5pdGlvblwiLFxuICB2ZXJzaW9uOiBcIjEuMC4wXCIsXG4gIGluY2lkZW50czogW1xuICAgIHtcbiAgICAgIGV4cG9ydGFibGU6IFR5cGVXcml0aW5nSW5jaWRlbnQsXG4gICAgICBuYW1lOiBcIlR5cGVXcml0aW5nSW5jaWRlbnRcIixcbiAgICAgIGF0dHJpYnV0ZXNWYWxpZGF0aW9uUnVsZXM6IHt9LFxuICAgIH0sXG4gIF0sXG59O1xuXG5jb25zdCBUeXBlV3JpdGluZ1BsdWdpbiA9IE1DLmxvYWRQbHVnaW4oVHlwZVdyaXRpbmdJbmNpZGVudERlZmluaXRpb24pO1xuXG4vKkVYUE9SVEVEIENMSVAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFyc2VUZXh0IGV4dGVuZHMgTUMuSFRNTENsaXAge1xuICBnZXQgaHRtbCgpIHtcbiAgICByZXR1cm4gYFxuICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPiR7dGhpcy5hdHRycy50ZXh0fTwvZGl2PlxuICAgIGA7XG4gIH1cblxuICBnZXQgY3NzKCkge1xuICAgIHJldHVybiBgXG4gICAgLmNvbnRhaW5lciB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGhlaWdodDogMTAwJTtcbiAgICB9XG4gIGA7XG4gIH1cblxuICBidWlsZFRyZWUoKSB7XG4gICAgY29uc3Qge1xuICAgICAgY3NzLFxuICAgICAgc2hvd0N1cnNvcixcbiAgICAgIGN1cnNvckNzcyxcbiAgICAgIGJsaW5rRGVsYXksXG4gICAgICBibGlua2hpYXR1cyxcbiAgICAgIHRleHQsXG4gICAgfSA9IHRoaXMuYXR0cnM7XG4gICAgY29uc3QgdHlwZXdyaXRlID0gbmV3IFR5cGVXcml0aW5nUGx1Z2luLlR5cGVXcml0aW5nSW5jaWRlbnQoXG4gICAgICB7XG4gICAgICAgIGNzcyxcbiAgICAgICAgc2hvd0N1cnNvcixcbiAgICAgICAgY3Vyc29yQ3NzLFxuICAgICAgICBibGlua0RlbGF5LFxuICAgICAgICBibGlua2hpYXR1cyxcbiAgICAgICAgYW5pbWF0ZWRBdHRyczoge1xuICAgICAgICAgIHRleHQsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgeyBkdXJhdGlvbjo2MDAwLCBzZWxlY3RvcjogXCIuY29udGFpbmVyXCIgfVxuICAgICk7XG4gICAgdGhpcy5hZGRJbmNpZGVudCh0eXBld3JpdGUsIDApO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBQUE7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBckNBO0FBQ0E7QUF1Q0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQUpBO0FBWUE7QUFFQTtBQUNBO0FBQUE7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBR0E7OztBQUVBO0FBQ0E7QUFNQTs7O0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQU5BO0FBVUE7QUFBQTtBQUFBO0FBRUE7QUFDQTs7OztBQXZDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../src/TypeWriting.js\n");

/***/ }),

/***/ "../src/index.js":
/*!***********************!*\
  !*** ../src/index.js ***!
  \***********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _TypeWriting__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TypeWriting */ \"../src/TypeWriting.js\");\n/* harmony import */ var _validation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./validation */ \"../src/validation.js\");\n/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../package.json */ \"../package.json\");\nvar _package_json__WEBPACK_IMPORTED_MODULE_2___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../package.json */ \"../package.json\", 1);\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  npm_name: _package_json__WEBPACK_IMPORTED_MODULE_2__[\"name\"],\n  version: _package_json__WEBPACK_IMPORTED_MODULE_2__[\"version\"],\n  incidents: [{\n    exportable: _TypeWriting__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    name: \"TypeWriting\",\n    attributesValidationRules: _validation__WEBPACK_IMPORTED_MODULE_1__[\"TypeWritingVal\"]\n  }]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3NyYy9pbmRleC5qcz9hMTc4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBUeXBlV3JpdGluZyBmcm9tIFwiLi9UeXBlV3JpdGluZ1wiO1xuaW1wb3J0IHsgVHlwZVdyaXRpbmdWYWwgfSBmcm9tIFwiLi92YWxpZGF0aW9uXCI7XG5cbmltcG9ydCB7IG5hbWUsIHZlcnNpb24gfSBmcm9tIFwiLi4vcGFja2FnZS5qc29uXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbnBtX25hbWU6IG5hbWUsXG4gIHZlcnNpb246IHZlcnNpb24sXG4gIGluY2lkZW50czogW1xuICAgIHtcbiAgICAgIGV4cG9ydGFibGU6IFR5cGVXcml0aW5nLFxuICAgICAgbmFtZTogXCJUeXBlV3JpdGluZ1wiLFxuICAgICAgYXR0cmlidXRlc1ZhbGlkYXRpb25SdWxlczogVHlwZVdyaXRpbmdWYWxcbiAgICB9LFxuICBdLFxufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFKQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../src/index.js\n");

/***/ }),

/***/ "../src/validation.js":
/*!****************************!*\
  !*** ../src/validation.js ***!
  \****************************/
/*! exports provided: TypeWritingVal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TypeWritingVal\", function() { return TypeWritingVal; });\nvar TypeWritingVal = {\n  css: {\n    optional: true,\n    type: \"string\"\n  },\n  showCursor: {\n    optional: true,\n    type: \"boolean\"\n  },\n  cursorCss: {\n    optional: true,\n    type: \"string\"\n  },\n  blinkDelay: {\n    optional: false,\n    type: \"number\",\n    min: 0\n  },\n  blinkhiatus: {\n    optional: true,\n    type: \"number\",\n    min: 0\n  },\n  text: {\n    type: \"string\",\n    optional: true\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL3ZhbGlkYXRpb24uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vc3JjL3ZhbGlkYXRpb24uanM/NTg5YSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgVHlwZVdyaXRpbmdWYWwgPSB7XG4gIGNzczoge1xuICAgIG9wdGlvbmFsOiB0cnVlLFxuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gIH0sXG4gIHNob3dDdXJzb3I6IHtcbiAgICBvcHRpb25hbDogdHJ1ZSxcbiAgICB0eXBlOiBcImJvb2xlYW5cIixcbiAgfSxcbiAgY3Vyc29yQ3NzOiB7XG4gICAgb3B0aW9uYWw6IHRydWUsXG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgfSxcbiAgYmxpbmtEZWxheToge1xuICAgIG9wdGlvbmFsOiBmYWxzZSxcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIG1pbjogMCxcbiAgfSxcbiAgYmxpbmtoaWF0dXM6IHtcbiAgICBvcHRpb25hbDogdHJ1ZSxcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIG1pbjogMCxcbiAgfSxcbiAgdGV4dDoge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgb3B0aW9uYWw6IHRydWUsXG4gIH0sXG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUZBO0FBdkJBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../src/validation.js\n");

/***/ }),

/***/ "./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _kissmybutton_motorcortex_player__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @kissmybutton/motorcortex-player */ \"../node_modules/@kissmybutton/motorcortex-player/dist/motorcortex-player.umd.js\");\n/* harmony import */ var _kissmybutton_motorcortex_player__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_kissmybutton_motorcortex_player__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _kissmybutton_motorcortex___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @kissmybutton/motorcortex/ */ \"../node_modules/@kissmybutton/motorcortex/dist/motorcortex.umd.js\");\n/* harmony import */ var _kissmybutton_motorcortex___WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_kissmybutton_motorcortex___WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _src___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../src/ */ \"../src/index.js\");\n\n\n\nvar TypeWriting = Object(_kissmybutton_motorcortex___WEBPACK_IMPORTED_MODULE_1__[\"loadPlugin\"])(_src___WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\nvar clip = new _kissmybutton_motorcortex___WEBPACK_IMPORTED_MODULE_1__[\"HTMLClip\"]({\n  html: \"\\n    <div class=\\\"container\\\">\\n    </div>\",\n  css: \"\\n  .container{\\n    width:100%;\\n    height:100%;\\n    background:#151515;\\n    display:flex;\\n    justify-content: flex-start;\\n    align-items: center;\\n    padding-left: 10%;\\n  }\\n\",\n  host: document.getElementById(\"clip\"),\n  containerParams: {\n    width: \"720px\",\n    height: \"640px\"\n  }\n});\nvar typewrite = new TypeWriting.TypeWriting({\n  css: \"color:#37ff00;font-size:20px;font-weight:bold\",\n  showCursor: true,\n  cursorCss: \"color:#37ff00;font-size:20px;font-weight:bold;\",\n  blinkDelay: 3000,\n  blinkhiatus: 2000,\n  text: \"Wake up, Neo...\"\n}, {\n  selector: \".container\",\n  duration: 6000\n});\nvar typewriteOne = new TypeWriting.TypeWriting({\n  css: \"color:#37ff00;font-size:20px;font-weight:bold\",\n  showCursor: true,\n  cursorCss: \"color:#37ff00;font-size:20px;font-weight:bold;\",\n  blinkDelay: 3000,\n  blinkhiatus: 2000,\n  text: \"The Matrix has you...\"\n}, {\n  selector: \".container\",\n  duration: 6000\n});\nclip.addIncident(typewrite, 0);\nclip.addIncident(typewriteOne, 6000);\nnew _kissmybutton_motorcortex_player__WEBPACK_IMPORTED_MODULE_0___default.a({\n  scaleToFit: true,\n  clip: clip,\n  theme: \"mc-green\",\n  pointerEvents: true\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2luZGV4LmpzPzQxZjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBsYXllciBmcm9tIFwiQGtpc3NteWJ1dHRvbi9tb3RvcmNvcnRleC1wbGF5ZXJcIjtcbmltcG9ydCB7IEhUTUxDbGlwLCBsb2FkUGx1Z2luIH0gZnJvbSBcIkBraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvXCI7XG5pbXBvcnQgVHlwZVdyaXRpbmdEZWZpbml0aW9uIGZyb20gXCIuLi9zcmMvXCI7XG5jb25zdCBUeXBlV3JpdGluZyA9IGxvYWRQbHVnaW4oVHlwZVdyaXRpbmdEZWZpbml0aW9uKTtcblxuY29uc3QgY2xpcCA9IG5ldyBIVE1MQ2xpcCh7XG4gIGh0bWw6IGBcbiAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XG4gICAgPC9kaXY+YCxcbiAgY3NzOiBgXG4gIC5jb250YWluZXJ7XG4gICAgd2lkdGg6MTAwJTtcbiAgICBoZWlnaHQ6MTAwJTtcbiAgICBiYWNrZ3JvdW5kOiMxNTE1MTU7XG4gICAgZGlzcGxheTpmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHBhZGRpbmctbGVmdDogMTAlO1xuICB9XG5gLFxuICBob3N0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsaXBcIiksXG4gIGNvbnRhaW5lclBhcmFtczoge1xuICAgIHdpZHRoOiBcIjcyMHB4XCIsXG4gICAgaGVpZ2h0OiBcIjY0MHB4XCIsXG4gIH0sXG59KTtcblxuY29uc3QgdHlwZXdyaXRlID0gbmV3IFR5cGVXcml0aW5nLlR5cGVXcml0aW5nKFxuICB7XG4gICAgY3NzOiBgY29sb3I6IzM3ZmYwMDtmb250LXNpemU6MjBweDtmb250LXdlaWdodDpib2xkYCxcbiAgICBzaG93Q3Vyc29yOiB0cnVlLFxuICAgIGN1cnNvckNzczogXCJjb2xvcjojMzdmZjAwO2ZvbnQtc2l6ZToyMHB4O2ZvbnQtd2VpZ2h0OmJvbGQ7XCIsXG4gICAgYmxpbmtEZWxheTogMzAwMCxcbiAgICBibGlua2hpYXR1czogMjAwMCxcbiAgICB0ZXh0OiBgV2FrZSB1cCwgTmVvLi4uYCxcbiAgfSxcbiAgeyBzZWxlY3RvcjogXCIuY29udGFpbmVyXCIsZHVyYXRpb246IDYwMDAsIH1cbik7XG5cbmNvbnN0IHR5cGV3cml0ZU9uZSA9IG5ldyBUeXBlV3JpdGluZy5UeXBlV3JpdGluZyhcbiAge1xuICAgIGNzczogYGNvbG9yOiMzN2ZmMDA7Zm9udC1zaXplOjIwcHg7Zm9udC13ZWlnaHQ6Ym9sZGAsXG4gICAgc2hvd0N1cnNvcjogdHJ1ZSxcbiAgICBjdXJzb3JDc3M6IFwiY29sb3I6IzM3ZmYwMDtmb250LXNpemU6MjBweDtmb250LXdlaWdodDpib2xkO1wiLFxuICAgIGJsaW5rRGVsYXk6IDMwMDAsXG4gICAgYmxpbmtoaWF0dXM6IDIwMDAsXG4gICAgdGV4dDogYFRoZSBNYXRyaXggaGFzIHlvdS4uLmAsXG4gIH0sXG4gIHsgc2VsZWN0b3I6IFwiLmNvbnRhaW5lclwiLGR1cmF0aW9uOiA2MDAwLCB9XG4pO1xuXG5jbGlwLmFkZEluY2lkZW50KHR5cGV3cml0ZSwgMCk7XG5jbGlwLmFkZEluY2lkZW50KHR5cGV3cml0ZU9uZSwgNjAwMCk7XG5cbm5ldyBQbGF5ZXIoe1xuICBzY2FsZVRvRml0OiB0cnVlLFxuICBjbGlwOiBjbGlwLFxuICB0aGVtZTogXCJtYy1ncmVlblwiLFxuICBwb2ludGVyRXZlbnRzOiB0cnVlLFxufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQWhCQTtBQXNCQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBUUE7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./index.js\n");

/***/ })

/******/ });